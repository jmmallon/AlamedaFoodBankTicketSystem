{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _typeof from\"@babel/runtime/helpers/esm/typeof\";import warning from\"rc-util/es/warning\";import*as React from'react';import{INTERNAL_HOOKS}from\"../constant\";import{findAllChildrenKeys,renderExpandIcon}from\"../utils/expandUtil\";import{getExpandableProps}from\"../utils/legacyUtil\";export default function useExpand(props,mergedData,getRowKey){var expandableConfig=getExpandableProps(props);var expandIcon=expandableConfig.expandIcon,expandedRowKeys=expandableConfig.expandedRowKeys,defaultExpandedRowKeys=expandableConfig.defaultExpandedRowKeys,defaultExpandAllRows=expandableConfig.defaultExpandAllRows,expandedRowRender=expandableConfig.expandedRowRender,onExpand=expandableConfig.onExpand,onExpandedRowsChange=expandableConfig.onExpandedRowsChange,childrenColumnName=expandableConfig.childrenColumnName;var mergedExpandIcon=expandIcon||renderExpandIcon;var mergedChildrenColumnName=childrenColumnName||'children';var expandableType=React.useMemo(function(){if(expandedRowRender){return'row';}/* eslint-disable no-underscore-dangle */ /**\n     * Fix https://github.com/ant-design/ant-design/issues/21154\n     * This is a workaround to not to break current behavior.\n     * We can remove follow code after final release.\n     *\n     * To other developer:\n     *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor\n     */if(props.expandable&&props.internalHooks===INTERNAL_HOOKS&&props.expandable.__PARENT_RENDER_ICON__||mergedData.some(function(record){return record&&_typeof(record)==='object'&&record[mergedChildrenColumnName];})){return'nest';}/* eslint-enable */return false;},[!!expandedRowRender,mergedData]);var _React$useState=React.useState(function(){if(defaultExpandedRowKeys){return defaultExpandedRowKeys;}if(defaultExpandAllRows){return findAllChildrenKeys(mergedData,getRowKey,mergedChildrenColumnName);}return[];}),_React$useState2=_slicedToArray(_React$useState,2),innerExpandedKeys=_React$useState2[0],setInnerExpandedKeys=_React$useState2[1];var mergedExpandedKeys=React.useMemo(function(){return new Set(expandedRowKeys||innerExpandedKeys||[]);},[expandedRowKeys,innerExpandedKeys]);var onTriggerExpand=React.useCallback(function(record){var key=getRowKey(record,mergedData.indexOf(record));var newExpandedKeys;var hasKey=mergedExpandedKeys.has(key);if(hasKey){mergedExpandedKeys.delete(key);newExpandedKeys=_toConsumableArray(mergedExpandedKeys);}else{newExpandedKeys=[].concat(_toConsumableArray(mergedExpandedKeys),[key]);}setInnerExpandedKeys(newExpandedKeys);if(onExpand){onExpand(!hasKey,record);}if(onExpandedRowsChange){onExpandedRowsChange(newExpandedKeys);}},[getRowKey,mergedExpandedKeys,mergedData,onExpand,onExpandedRowsChange]);// Warning if use `expandedRowRender` and nest children in the same time\nif(process.env.NODE_ENV!=='production'&&expandedRowRender&&mergedData.some(function(record){return Array.isArray(record===null||record===void 0?void 0:record[mergedChildrenColumnName]);})){warning(false,'`expandedRowRender` should not use with nested Table');}return[expandableConfig,expandableType,mergedExpandedKeys,mergedExpandIcon,mergedChildrenColumnName,onTriggerExpand];}","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","_typeof","warning","React","INTERNAL_HOOKS","findAllChildrenKeys","renderExpandIcon","getExpandableProps","useExpand","props","mergedData","getRowKey","expandableConfig","expandIcon","expandedRowKeys","defaultExpandedRowKeys","defaultExpandAllRows","expandedRowRender","onExpand","onExpandedRowsChange","childrenColumnName","mergedExpandIcon","mergedChildrenColumnName","expandableType","useMemo","expandable","internalHooks","__PARENT_RENDER_ICON__","some","record","_React$useState","useState","_React$useState2","innerExpandedKeys","setInnerExpandedKeys","mergedExpandedKeys","Set","onTriggerExpand","useCallback","key","indexOf","newExpandedKeys","hasKey","has","delete","concat","process","env","NODE_ENV","Array","isArray"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-table/es/hooks/useExpand.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport warning from \"rc-util/es/warning\";\nimport * as React from 'react';\nimport { INTERNAL_HOOKS } from \"../constant\";\nimport { findAllChildrenKeys, renderExpandIcon } from \"../utils/expandUtil\";\nimport { getExpandableProps } from \"../utils/legacyUtil\";\nexport default function useExpand(props, mergedData, getRowKey) {\n  var expandableConfig = getExpandableProps(props);\n  var expandIcon = expandableConfig.expandIcon,\n    expandedRowKeys = expandableConfig.expandedRowKeys,\n    defaultExpandedRowKeys = expandableConfig.defaultExpandedRowKeys,\n    defaultExpandAllRows = expandableConfig.defaultExpandAllRows,\n    expandedRowRender = expandableConfig.expandedRowRender,\n    onExpand = expandableConfig.onExpand,\n    onExpandedRowsChange = expandableConfig.onExpandedRowsChange,\n    childrenColumnName = expandableConfig.childrenColumnName;\n  var mergedExpandIcon = expandIcon || renderExpandIcon;\n  var mergedChildrenColumnName = childrenColumnName || 'children';\n  var expandableType = React.useMemo(function () {\n    if (expandedRowRender) {\n      return 'row';\n    }\n    /* eslint-disable no-underscore-dangle */\n    /**\n     * Fix https://github.com/ant-design/ant-design/issues/21154\n     * This is a workaround to not to break current behavior.\n     * We can remove follow code after final release.\n     *\n     * To other developer:\n     *  Do not use `__PARENT_RENDER_ICON__` in prod since we will remove this when refactor\n     */\n    if (props.expandable && props.internalHooks === INTERNAL_HOOKS && props.expandable.__PARENT_RENDER_ICON__ || mergedData.some(function (record) {\n      return record && _typeof(record) === 'object' && record[mergedChildrenColumnName];\n    })) {\n      return 'nest';\n    }\n    /* eslint-enable */\n    return false;\n  }, [!!expandedRowRender, mergedData]);\n  var _React$useState = React.useState(function () {\n      if (defaultExpandedRowKeys) {\n        return defaultExpandedRowKeys;\n      }\n      if (defaultExpandAllRows) {\n        return findAllChildrenKeys(mergedData, getRowKey, mergedChildrenColumnName);\n      }\n      return [];\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    innerExpandedKeys = _React$useState2[0],\n    setInnerExpandedKeys = _React$useState2[1];\n  var mergedExpandedKeys = React.useMemo(function () {\n    return new Set(expandedRowKeys || innerExpandedKeys || []);\n  }, [expandedRowKeys, innerExpandedKeys]);\n  var onTriggerExpand = React.useCallback(function (record) {\n    var key = getRowKey(record, mergedData.indexOf(record));\n    var newExpandedKeys;\n    var hasKey = mergedExpandedKeys.has(key);\n    if (hasKey) {\n      mergedExpandedKeys.delete(key);\n      newExpandedKeys = _toConsumableArray(mergedExpandedKeys);\n    } else {\n      newExpandedKeys = [].concat(_toConsumableArray(mergedExpandedKeys), [key]);\n    }\n    setInnerExpandedKeys(newExpandedKeys);\n    if (onExpand) {\n      onExpand(!hasKey, record);\n    }\n    if (onExpandedRowsChange) {\n      onExpandedRowsChange(newExpandedKeys);\n    }\n  }, [getRowKey, mergedExpandedKeys, mergedData, onExpand, onExpandedRowsChange]);\n\n  // Warning if use `expandedRowRender` and nest children in the same time\n  if (process.env.NODE_ENV !== 'production' && expandedRowRender && mergedData.some(function (record) {\n    return Array.isArray(record === null || record === void 0 ? void 0 : record[mergedChildrenColumnName]);\n  })) {\n    warning(false, '`expandedRowRender` should not use with nested Table');\n  }\n  return [expandableConfig, expandableType, mergedExpandedKeys, mergedExpandIcon, mergedChildrenColumnName, onTriggerExpand];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}