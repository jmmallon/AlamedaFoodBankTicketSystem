{"ast":null,"code":"import{useContext}from'@rc-component/context';import*as React from'react';import TableContext,{responseImmutable}from\"../context/TableContext\";import devRenderTimes from\"../hooks/useRenderTimes\";import HeaderRow from\"./HeaderRow\";function parseHeaderRows(rootColumns){var rows=[];function fillRowCells(columns,colIndex){var rowIndex=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;// Init rows\nrows[rowIndex]=rows[rowIndex]||[];var currentColIndex=colIndex;var colSpans=columns.filter(Boolean).map(function(column){var cell={key:column.key,className:column.className||'',children:column.title,column:column,colStart:currentColIndex};var colSpan=1;var subColumns=column.children;if(subColumns&&subColumns.length>0){colSpan=fillRowCells(subColumns,currentColIndex,rowIndex+1).reduce(function(total,count){return total+count;},0);cell.hasSubColumns=true;}if('colSpan'in column){colSpan=column.colSpan;}if('rowSpan'in column){cell.rowSpan=column.rowSpan;}cell.colSpan=colSpan;cell.colEnd=cell.colStart+colSpan-1;rows[rowIndex].push(cell);currentColIndex+=colSpan;return colSpan;});return colSpans;}// Generate `rows` cell data\nfillRowCells(rootColumns,0);// Handle `rowSpan`\nvar rowCount=rows.length;var _loop=function _loop(rowIndex){rows[rowIndex].forEach(function(cell){if(!('rowSpan'in cell)&&!cell.hasSubColumns){// eslint-disable-next-line no-param-reassign\ncell.rowSpan=rowCount-rowIndex;}});};for(var rowIndex=0;rowIndex<rowCount;rowIndex+=1){_loop(rowIndex);}return rows;}var Header=function Header(props){if(process.env.NODE_ENV!=='production'){devRenderTimes(props);}var stickyOffsets=props.stickyOffsets,columns=props.columns,flattenColumns=props.flattenColumns,onHeaderRow=props.onHeaderRow;var _useContext=useContext(TableContext,['prefixCls','getComponent']),prefixCls=_useContext.prefixCls,getComponent=_useContext.getComponent;var rows=React.useMemo(function(){return parseHeaderRows(columns);},[columns]);var WrapperComponent=getComponent(['header','wrapper'],'thead');var trComponent=getComponent(['header','row'],'tr');var thComponent=getComponent(['header','cell'],'th');return/*#__PURE__*/React.createElement(WrapperComponent,{className:\"\".concat(prefixCls,\"-thead\")},rows.map(function(row,rowIndex){var rowNode=/*#__PURE__*/React.createElement(HeaderRow,{key:rowIndex,flattenColumns:flattenColumns,cells:row,stickyOffsets:stickyOffsets,rowComponent:trComponent,cellComponent:thComponent,onHeaderRow:onHeaderRow,index:rowIndex});return rowNode;}));};export default responseImmutable(Header);","map":{"version":3,"names":["useContext","React","TableContext","responseImmutable","devRenderTimes","HeaderRow","parseHeaderRows","rootColumns","rows","fillRowCells","columns","colIndex","rowIndex","arguments","length","undefined","currentColIndex","colSpans","filter","Boolean","map","column","cell","key","className","children","title","colStart","colSpan","subColumns","reduce","total","count","hasSubColumns","rowSpan","colEnd","push","rowCount","_loop","forEach","Header","props","process","env","NODE_ENV","stickyOffsets","flattenColumns","onHeaderRow","_useContext","prefixCls","getComponent","useMemo","WrapperComponent","trComponent","thComponent","createElement","concat","row","rowNode","cells","rowComponent","cellComponent","index"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-table/es/Header/Header.js"],"sourcesContent":["import { useContext } from '@rc-component/context';\nimport * as React from 'react';\nimport TableContext, { responseImmutable } from \"../context/TableContext\";\nimport devRenderTimes from \"../hooks/useRenderTimes\";\nimport HeaderRow from \"./HeaderRow\";\nfunction parseHeaderRows(rootColumns) {\n  var rows = [];\n  function fillRowCells(columns, colIndex) {\n    var rowIndex = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n    // Init rows\n    rows[rowIndex] = rows[rowIndex] || [];\n    var currentColIndex = colIndex;\n    var colSpans = columns.filter(Boolean).map(function (column) {\n      var cell = {\n        key: column.key,\n        className: column.className || '',\n        children: column.title,\n        column: column,\n        colStart: currentColIndex\n      };\n      var colSpan = 1;\n      var subColumns = column.children;\n      if (subColumns && subColumns.length > 0) {\n        colSpan = fillRowCells(subColumns, currentColIndex, rowIndex + 1).reduce(function (total, count) {\n          return total + count;\n        }, 0);\n        cell.hasSubColumns = true;\n      }\n      if ('colSpan' in column) {\n        colSpan = column.colSpan;\n      }\n      if ('rowSpan' in column) {\n        cell.rowSpan = column.rowSpan;\n      }\n      cell.colSpan = colSpan;\n      cell.colEnd = cell.colStart + colSpan - 1;\n      rows[rowIndex].push(cell);\n      currentColIndex += colSpan;\n      return colSpan;\n    });\n    return colSpans;\n  }\n\n  // Generate `rows` cell data\n  fillRowCells(rootColumns, 0);\n\n  // Handle `rowSpan`\n  var rowCount = rows.length;\n  var _loop = function _loop(rowIndex) {\n    rows[rowIndex].forEach(function (cell) {\n      if (!('rowSpan' in cell) && !cell.hasSubColumns) {\n        // eslint-disable-next-line no-param-reassign\n        cell.rowSpan = rowCount - rowIndex;\n      }\n    });\n  };\n  for (var rowIndex = 0; rowIndex < rowCount; rowIndex += 1) {\n    _loop(rowIndex);\n  }\n  return rows;\n}\nvar Header = function Header(props) {\n  if (process.env.NODE_ENV !== 'production') {\n    devRenderTimes(props);\n  }\n  var stickyOffsets = props.stickyOffsets,\n    columns = props.columns,\n    flattenColumns = props.flattenColumns,\n    onHeaderRow = props.onHeaderRow;\n  var _useContext = useContext(TableContext, ['prefixCls', 'getComponent']),\n    prefixCls = _useContext.prefixCls,\n    getComponent = _useContext.getComponent;\n  var rows = React.useMemo(function () {\n    return parseHeaderRows(columns);\n  }, [columns]);\n  var WrapperComponent = getComponent(['header', 'wrapper'], 'thead');\n  var trComponent = getComponent(['header', 'row'], 'tr');\n  var thComponent = getComponent(['header', 'cell'], 'th');\n  return /*#__PURE__*/React.createElement(WrapperComponent, {\n    className: \"\".concat(prefixCls, \"-thead\")\n  }, rows.map(function (row, rowIndex) {\n    var rowNode = /*#__PURE__*/React.createElement(HeaderRow, {\n      key: rowIndex,\n      flattenColumns: flattenColumns,\n      cells: row,\n      stickyOffsets: stickyOffsets,\n      rowComponent: trComponent,\n      cellComponent: thComponent,\n      onHeaderRow: onHeaderRow,\n      index: rowIndex\n    });\n    return rowNode;\n  }));\n};\nexport default responseImmutable(Header);"],"mappings":"AAAA,OAASA,UAAU,KAAQ,uBAAuB,CAClD,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAC9B,MAAO,CAAAC,YAAY,EAAIC,iBAAiB,KAAQ,yBAAyB,CACzE,MAAO,CAAAC,cAAc,KAAM,yBAAyB,CACpD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,QAAS,CAAAC,eAAeA,CAACC,WAAW,CAAE,CACpC,GAAI,CAAAC,IAAI,CAAG,EAAE,CACb,QAAS,CAAAC,YAAYA,CAACC,OAAO,CAAEC,QAAQ,CAAE,CACvC,GAAI,CAAAC,QAAQ,CAAGC,SAAS,CAACC,MAAM,CAAG,CAAC,EAAID,SAAS,CAAC,CAAC,CAAC,GAAKE,SAAS,CAAGF,SAAS,CAAC,CAAC,CAAC,CAAG,CAAC,CACpF;AACAL,IAAI,CAACI,QAAQ,CAAC,CAAGJ,IAAI,CAACI,QAAQ,CAAC,EAAI,EAAE,CACrC,GAAI,CAAAI,eAAe,CAAGL,QAAQ,CAC9B,GAAI,CAAAM,QAAQ,CAAGP,OAAO,CAACQ,MAAM,CAACC,OAAO,CAAC,CAACC,GAAG,CAAC,SAAUC,MAAM,CAAE,CAC3D,GAAI,CAAAC,IAAI,CAAG,CACTC,GAAG,CAAEF,MAAM,CAACE,GAAG,CACfC,SAAS,CAAEH,MAAM,CAACG,SAAS,EAAI,EAAE,CACjCC,QAAQ,CAAEJ,MAAM,CAACK,KAAK,CACtBL,MAAM,CAAEA,MAAM,CACdM,QAAQ,CAAEX,eACZ,CAAC,CACD,GAAI,CAAAY,OAAO,CAAG,CAAC,CACf,GAAI,CAAAC,UAAU,CAAGR,MAAM,CAACI,QAAQ,CAChC,GAAII,UAAU,EAAIA,UAAU,CAACf,MAAM,CAAG,CAAC,CAAE,CACvCc,OAAO,CAAGnB,YAAY,CAACoB,UAAU,CAAEb,eAAe,CAAEJ,QAAQ,CAAG,CAAC,CAAC,CAACkB,MAAM,CAAC,SAAUC,KAAK,CAAEC,KAAK,CAAE,CAC/F,MAAO,CAAAD,KAAK,CAAGC,KAAK,CACtB,CAAC,CAAE,CAAC,CAAC,CACLV,IAAI,CAACW,aAAa,CAAG,IAAI,CAC3B,CACA,GAAI,SAAS,EAAI,CAAAZ,MAAM,CAAE,CACvBO,OAAO,CAAGP,MAAM,CAACO,OAAO,CAC1B,CACA,GAAI,SAAS,EAAI,CAAAP,MAAM,CAAE,CACvBC,IAAI,CAACY,OAAO,CAAGb,MAAM,CAACa,OAAO,CAC/B,CACAZ,IAAI,CAACM,OAAO,CAAGA,OAAO,CACtBN,IAAI,CAACa,MAAM,CAAGb,IAAI,CAACK,QAAQ,CAAGC,OAAO,CAAG,CAAC,CACzCpB,IAAI,CAACI,QAAQ,CAAC,CAACwB,IAAI,CAACd,IAAI,CAAC,CACzBN,eAAe,EAAIY,OAAO,CAC1B,MAAO,CAAAA,OAAO,CAChB,CAAC,CAAC,CACF,MAAO,CAAAX,QAAQ,CACjB,CAEA;AACAR,YAAY,CAACF,WAAW,CAAE,CAAC,CAAC,CAE5B;AACA,GAAI,CAAA8B,QAAQ,CAAG7B,IAAI,CAACM,MAAM,CAC1B,GAAI,CAAAwB,KAAK,CAAG,QAAS,CAAAA,KAAKA,CAAC1B,QAAQ,CAAE,CACnCJ,IAAI,CAACI,QAAQ,CAAC,CAAC2B,OAAO,CAAC,SAAUjB,IAAI,CAAE,CACrC,GAAI,EAAE,SAAS,EAAI,CAAAA,IAAI,CAAC,EAAI,CAACA,IAAI,CAACW,aAAa,CAAE,CAC/C;AACAX,IAAI,CAACY,OAAO,CAAGG,QAAQ,CAAGzB,QAAQ,CACpC,CACF,CAAC,CAAC,CACJ,CAAC,CACD,IAAK,GAAI,CAAAA,QAAQ,CAAG,CAAC,CAAEA,QAAQ,CAAGyB,QAAQ,CAAEzB,QAAQ,EAAI,CAAC,CAAE,CACzD0B,KAAK,CAAC1B,QAAQ,CAAC,CACjB,CACA,MAAO,CAAAJ,IAAI,CACb,CACA,GAAI,CAAAgC,MAAM,CAAG,QAAS,CAAAA,MAAMA,CAACC,KAAK,CAAE,CAClC,GAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAAE,CACzCxC,cAAc,CAACqC,KAAK,CAAC,CACvB,CACA,GAAI,CAAAI,aAAa,CAAGJ,KAAK,CAACI,aAAa,CACrCnC,OAAO,CAAG+B,KAAK,CAAC/B,OAAO,CACvBoC,cAAc,CAAGL,KAAK,CAACK,cAAc,CACrCC,WAAW,CAAGN,KAAK,CAACM,WAAW,CACjC,GAAI,CAAAC,WAAW,CAAGhD,UAAU,CAACE,YAAY,CAAE,CAAC,WAAW,CAAE,cAAc,CAAC,CAAC,CACvE+C,SAAS,CAAGD,WAAW,CAACC,SAAS,CACjCC,YAAY,CAAGF,WAAW,CAACE,YAAY,CACzC,GAAI,CAAA1C,IAAI,CAAGP,KAAK,CAACkD,OAAO,CAAC,UAAY,CACnC,MAAO,CAAA7C,eAAe,CAACI,OAAO,CAAC,CACjC,CAAC,CAAE,CAACA,OAAO,CAAC,CAAC,CACb,GAAI,CAAA0C,gBAAgB,CAAGF,YAAY,CAAC,CAAC,QAAQ,CAAE,SAAS,CAAC,CAAE,OAAO,CAAC,CACnE,GAAI,CAAAG,WAAW,CAAGH,YAAY,CAAC,CAAC,QAAQ,CAAE,KAAK,CAAC,CAAE,IAAI,CAAC,CACvD,GAAI,CAAAI,WAAW,CAAGJ,YAAY,CAAC,CAAC,QAAQ,CAAE,MAAM,CAAC,CAAE,IAAI,CAAC,CACxD,MAAO,aAAajD,KAAK,CAACsD,aAAa,CAACH,gBAAgB,CAAE,CACxD5B,SAAS,CAAE,EAAE,CAACgC,MAAM,CAACP,SAAS,CAAE,QAAQ,CAC1C,CAAC,CAAEzC,IAAI,CAACY,GAAG,CAAC,SAAUqC,GAAG,CAAE7C,QAAQ,CAAE,CACnC,GAAI,CAAA8C,OAAO,CAAG,aAAazD,KAAK,CAACsD,aAAa,CAAClD,SAAS,CAAE,CACxDkB,GAAG,CAAEX,QAAQ,CACbkC,cAAc,CAAEA,cAAc,CAC9Ba,KAAK,CAAEF,GAAG,CACVZ,aAAa,CAAEA,aAAa,CAC5Be,YAAY,CAAEP,WAAW,CACzBQ,aAAa,CAAEP,WAAW,CAC1BP,WAAW,CAAEA,WAAW,CACxBe,KAAK,CAAElD,QACT,CAAC,CAAC,CACF,MAAO,CAAA8C,OAAO,CAChB,CAAC,CAAC,CAAC,CACL,CAAC,CACD,cAAe,CAAAvD,iBAAiB,CAACqC,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}