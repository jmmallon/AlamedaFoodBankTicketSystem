{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import{removeCSS,updateCSS}from\"rc-util/es/Dom/dynamicCSS\";import{useContext}from'react';import StyleContext,{ATTR_MARK,ATTR_TOKEN,CSS_IN_JS_INSTANCE}from\"../StyleContext\";import{isClientSide,toStyleStr}from\"../util\";import{transformToken}from\"../util/css-variables\";import useGlobalCache from\"./useGlobalCache\";import{uniqueHash}from\"./useStyleRegister\";export var CSS_VAR_PREFIX='cssVar';var useCSSVarRegister=function useCSSVarRegister(config,fn){var key=config.key,prefix=config.prefix,unitless=config.unitless,ignore=config.ignore,token=config.token,_config$scope=config.scope,scope=_config$scope===void 0?'':_config$scope;var _useContext=useContext(StyleContext),instanceId=_useContext.cache.instanceId,container=_useContext.container;var tokenKey=token._tokenKey;var stylePath=[].concat(_toConsumableArray(config.path),[key,scope,tokenKey]);var cache=useGlobalCache(CSS_VAR_PREFIX,stylePath,function(){var originToken=fn();var _transformToken=transformToken(originToken,key,{prefix:prefix,unitless:unitless,ignore:ignore,scope:scope}),_transformToken2=_slicedToArray(_transformToken,2),mergedToken=_transformToken2[0],cssVarsStr=_transformToken2[1];var styleId=uniqueHash(stylePath,cssVarsStr);return[mergedToken,cssVarsStr,styleId,key];},function(_ref){var _ref2=_slicedToArray(_ref,3),styleId=_ref2[2];if(isClientSide){removeCSS(styleId,{mark:ATTR_MARK});}},function(_ref3){var _ref4=_slicedToArray(_ref3,3),cssVarsStr=_ref4[1],styleId=_ref4[2];if(!cssVarsStr){return;}var style=updateCSS(cssVarsStr,styleId,{mark:ATTR_MARK,prepend:'queue',attachTo:container,priority:-999});style[CSS_IN_JS_INSTANCE]=instanceId;// Used for `useCacheToken` to remove on batch when token removed\nstyle.setAttribute(ATTR_TOKEN,key);});return cache;};export var extract=function extract(cache,effectStyles,options){var _cache=_slicedToArray(cache,4),styleStr=_cache[1],styleId=_cache[2],cssVarKey=_cache[3];var _ref5=options||{},plain=_ref5.plain;if(!styleStr){return null;}var order=-999;// ====================== Style ======================\n// Used for rc-util\nvar sharedAttrs={'data-rc-order':'prependQueue','data-rc-priority':\"\".concat(order)};var styleText=toStyleStr(styleStr,cssVarKey,styleId,sharedAttrs,plain);return[order,styleId,styleText];};export default useCSSVarRegister;","map":{"version":3,"names":["_slicedToArray","_toConsumableArray","removeCSS","updateCSS","useContext","StyleContext","ATTR_MARK","ATTR_TOKEN","CSS_IN_JS_INSTANCE","isClientSide","toStyleStr","transformToken","useGlobalCache","uniqueHash","CSS_VAR_PREFIX","useCSSVarRegister","config","fn","key","prefix","unitless","ignore","token","_config$scope","scope","_useContext","instanceId","cache","container","tokenKey","_tokenKey","stylePath","concat","path","originToken","_transformToken","_transformToken2","mergedToken","cssVarsStr","styleId","_ref","_ref2","mark","_ref3","_ref4","style","prepend","attachTo","priority","setAttribute","extract","effectStyles","options","_cache","styleStr","cssVarKey","_ref5","plain","order","sharedAttrs","styleText"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/@ant-design/cssinjs/es/hooks/useCSSVarRegister.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport { removeCSS, updateCSS } from \"rc-util/es/Dom/dynamicCSS\";\nimport { useContext } from 'react';\nimport StyleContext, { ATTR_MARK, ATTR_TOKEN, CSS_IN_JS_INSTANCE } from \"../StyleContext\";\nimport { isClientSide, toStyleStr } from \"../util\";\nimport { transformToken } from \"../util/css-variables\";\nimport useGlobalCache from \"./useGlobalCache\";\nimport { uniqueHash } from \"./useStyleRegister\";\nexport var CSS_VAR_PREFIX = 'cssVar';\nvar useCSSVarRegister = function useCSSVarRegister(config, fn) {\n  var key = config.key,\n    prefix = config.prefix,\n    unitless = config.unitless,\n    ignore = config.ignore,\n    token = config.token,\n    _config$scope = config.scope,\n    scope = _config$scope === void 0 ? '' : _config$scope;\n  var _useContext = useContext(StyleContext),\n    instanceId = _useContext.cache.instanceId,\n    container = _useContext.container;\n  var tokenKey = token._tokenKey;\n  var stylePath = [].concat(_toConsumableArray(config.path), [key, scope, tokenKey]);\n  var cache = useGlobalCache(CSS_VAR_PREFIX, stylePath, function () {\n    var originToken = fn();\n    var _transformToken = transformToken(originToken, key, {\n        prefix: prefix,\n        unitless: unitless,\n        ignore: ignore,\n        scope: scope\n      }),\n      _transformToken2 = _slicedToArray(_transformToken, 2),\n      mergedToken = _transformToken2[0],\n      cssVarsStr = _transformToken2[1];\n    var styleId = uniqueHash(stylePath, cssVarsStr);\n    return [mergedToken, cssVarsStr, styleId, key];\n  }, function (_ref) {\n    var _ref2 = _slicedToArray(_ref, 3),\n      styleId = _ref2[2];\n    if (isClientSide) {\n      removeCSS(styleId, {\n        mark: ATTR_MARK\n      });\n    }\n  }, function (_ref3) {\n    var _ref4 = _slicedToArray(_ref3, 3),\n      cssVarsStr = _ref4[1],\n      styleId = _ref4[2];\n    if (!cssVarsStr) {\n      return;\n    }\n    var style = updateCSS(cssVarsStr, styleId, {\n      mark: ATTR_MARK,\n      prepend: 'queue',\n      attachTo: container,\n      priority: -999\n    });\n    style[CSS_IN_JS_INSTANCE] = instanceId;\n\n    // Used for `useCacheToken` to remove on batch when token removed\n    style.setAttribute(ATTR_TOKEN, key);\n  });\n  return cache;\n};\nexport var extract = function extract(cache, effectStyles, options) {\n  var _cache = _slicedToArray(cache, 4),\n    styleStr = _cache[1],\n    styleId = _cache[2],\n    cssVarKey = _cache[3];\n  var _ref5 = options || {},\n    plain = _ref5.plain;\n  if (!styleStr) {\n    return null;\n  }\n  var order = -999;\n\n  // ====================== Style ======================\n  // Used for rc-util\n  var sharedAttrs = {\n    'data-rc-order': 'prependQueue',\n    'data-rc-priority': \"\".concat(order)\n  };\n  var styleText = toStyleStr(styleStr, cssVarKey, styleId, sharedAttrs, plain);\n  return [order, styleId, styleText];\n};\nexport default useCSSVarRegister;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}