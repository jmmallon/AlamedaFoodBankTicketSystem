{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"getContainer\",\"motion\",\"prefixCls\",\"maxCount\",\"className\",\"style\",\"onAllRemoved\",\"stack\",\"renderNotifications\"];import*as React from'react';import Notifications from\"../Notifications\";var defaultGetContainer=function defaultGetContainer(){return document.body;};var uniqueKey=0;function mergeConfig(){var clone={};for(var _len=arguments.length,objList=new Array(_len),_key=0;_key<_len;_key++){objList[_key]=arguments[_key];}objList.forEach(function(obj){if(obj){Object.keys(obj).forEach(function(key){var val=obj[key];if(val!==undefined){clone[key]=val;}});}});return clone;}export default function useNotification(){var rootConfig=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var _rootConfig$getContai=rootConfig.getContainer,getContainer=_rootConfig$getContai===void 0?defaultGetContainer:_rootConfig$getContai,motion=rootConfig.motion,prefixCls=rootConfig.prefixCls,maxCount=rootConfig.maxCount,className=rootConfig.className,style=rootConfig.style,onAllRemoved=rootConfig.onAllRemoved,stack=rootConfig.stack,renderNotifications=rootConfig.renderNotifications,shareConfig=_objectWithoutProperties(rootConfig,_excluded);var _React$useState=React.useState(),_React$useState2=_slicedToArray(_React$useState,2),container=_React$useState2[0],setContainer=_React$useState2[1];var notificationsRef=React.useRef();var contextHolder=/*#__PURE__*/React.createElement(Notifications,{container:container,ref:notificationsRef,prefixCls:prefixCls,motion:motion,maxCount:maxCount,className:className,style:style,onAllRemoved:onAllRemoved,stack:stack,renderNotifications:renderNotifications});var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),taskQueue=_React$useState4[0],setTaskQueue=_React$useState4[1];// ========================= Refs =========================\nvar api=React.useMemo(function(){return{open:function open(config){var mergedConfig=mergeConfig(shareConfig,config);if(mergedConfig.key===null||mergedConfig.key===undefined){mergedConfig.key=\"rc-notification-\".concat(uniqueKey);uniqueKey+=1;}setTaskQueue(function(queue){return[].concat(_toConsumableArray(queue),[{type:'open',config:mergedConfig}]);});},close:function close(key){setTaskQueue(function(queue){return[].concat(_toConsumableArray(queue),[{type:'close',key:key}]);});},destroy:function destroy(){setTaskQueue(function(queue){return[].concat(_toConsumableArray(queue),[{type:'destroy'}]);});}};},[]);// ======================= Container ======================\n// React 18 should all in effect that we will check container in each render\n// Which means getContainer should be stable.\nReact.useEffect(function(){setContainer(getContainer());});// ======================== Effect ========================\nReact.useEffect(function(){// Flush task when node ready\nif(notificationsRef.current&&taskQueue.length){taskQueue.forEach(function(task){switch(task.type){case'open':notificationsRef.current.open(task.config);break;case'close':notificationsRef.current.close(task.key);break;case'destroy':notificationsRef.current.destroy();break;}});// React 17 will mix order of effect & setState in async\n// - open: setState[0]\n// - effect[0]\n// - open: setState[1]\n// - effect setState([]) * here will clean up [0, 1] in React 17\nsetTaskQueue(function(oriQueue){return oriQueue.filter(function(task){return!taskQueue.includes(task);});});}},[taskQueue]);// ======================== Return ========================\nreturn[api,contextHolder];}","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","_objectWithoutProperties","_excluded","React","Notifications","defaultGetContainer","document","body","uniqueKey","mergeConfig","clone","_len","arguments","length","objList","Array","_key","forEach","obj","Object","keys","key","val","undefined","useNotification","rootConfig","_rootConfig$getContai","getContainer","motion","prefixCls","maxCount","className","style","onAllRemoved","stack","renderNotifications","shareConfig","_React$useState","useState","_React$useState2","container","setContainer","notificationsRef","useRef","contextHolder","createElement","ref","_React$useState3","_React$useState4","taskQueue","setTaskQueue","api","useMemo","open","config","mergedConfig","concat","queue","type","close","destroy","useEffect","current","task","oriQueue","filter","includes"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-notification/es/hooks/useNotification.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"getContainer\", \"motion\", \"prefixCls\", \"maxCount\", \"className\", \"style\", \"onAllRemoved\", \"stack\", \"renderNotifications\"];\nimport * as React from 'react';\nimport Notifications from \"../Notifications\";\nvar defaultGetContainer = function defaultGetContainer() {\n  return document.body;\n};\nvar uniqueKey = 0;\nfunction mergeConfig() {\n  var clone = {};\n  for (var _len = arguments.length, objList = new Array(_len), _key = 0; _key < _len; _key++) {\n    objList[_key] = arguments[_key];\n  }\n  objList.forEach(function (obj) {\n    if (obj) {\n      Object.keys(obj).forEach(function (key) {\n        var val = obj[key];\n        if (val !== undefined) {\n          clone[key] = val;\n        }\n      });\n    }\n  });\n  return clone;\n}\nexport default function useNotification() {\n  var rootConfig = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _rootConfig$getContai = rootConfig.getContainer,\n    getContainer = _rootConfig$getContai === void 0 ? defaultGetContainer : _rootConfig$getContai,\n    motion = rootConfig.motion,\n    prefixCls = rootConfig.prefixCls,\n    maxCount = rootConfig.maxCount,\n    className = rootConfig.className,\n    style = rootConfig.style,\n    onAllRemoved = rootConfig.onAllRemoved,\n    stack = rootConfig.stack,\n    renderNotifications = rootConfig.renderNotifications,\n    shareConfig = _objectWithoutProperties(rootConfig, _excluded);\n  var _React$useState = React.useState(),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    container = _React$useState2[0],\n    setContainer = _React$useState2[1];\n  var notificationsRef = React.useRef();\n  var contextHolder = /*#__PURE__*/React.createElement(Notifications, {\n    container: container,\n    ref: notificationsRef,\n    prefixCls: prefixCls,\n    motion: motion,\n    maxCount: maxCount,\n    className: className,\n    style: style,\n    onAllRemoved: onAllRemoved,\n    stack: stack,\n    renderNotifications: renderNotifications\n  });\n  var _React$useState3 = React.useState([]),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    taskQueue = _React$useState4[0],\n    setTaskQueue = _React$useState4[1];\n\n  // ========================= Refs =========================\n  var api = React.useMemo(function () {\n    return {\n      open: function open(config) {\n        var mergedConfig = mergeConfig(shareConfig, config);\n        if (mergedConfig.key === null || mergedConfig.key === undefined) {\n          mergedConfig.key = \"rc-notification-\".concat(uniqueKey);\n          uniqueKey += 1;\n        }\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'open',\n            config: mergedConfig\n          }]);\n        });\n      },\n      close: function close(key) {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'close',\n            key: key\n          }]);\n        });\n      },\n      destroy: function destroy() {\n        setTaskQueue(function (queue) {\n          return [].concat(_toConsumableArray(queue), [{\n            type: 'destroy'\n          }]);\n        });\n      }\n    };\n  }, []);\n\n  // ======================= Container ======================\n  // React 18 should all in effect that we will check container in each render\n  // Which means getContainer should be stable.\n  React.useEffect(function () {\n    setContainer(getContainer());\n  });\n\n  // ======================== Effect ========================\n  React.useEffect(function () {\n    // Flush task when node ready\n    if (notificationsRef.current && taskQueue.length) {\n      taskQueue.forEach(function (task) {\n        switch (task.type) {\n          case 'open':\n            notificationsRef.current.open(task.config);\n            break;\n          case 'close':\n            notificationsRef.current.close(task.key);\n            break;\n          case 'destroy':\n            notificationsRef.current.destroy();\n            break;\n        }\n      });\n\n      // React 17 will mix order of effect & setState in async\n      // - open: setState[0]\n      // - effect[0]\n      // - open: setState[1]\n      // - effect setState([]) * here will clean up [0, 1] in React 17\n      setTaskQueue(function (oriQueue) {\n        return oriQueue.filter(function (task) {\n          return !taskQueue.includes(task);\n        });\n      });\n    }\n  }, [taskQueue]);\n\n  // ======================== Return ========================\n  return [api, contextHolder];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}