{"ast":null,"code":"import raf from\"rc-util/es/raf\";import*as React from'react';import{useRef}from'react';export default function useFrameState(defaultValue){const[value,setValue]=React.useState(defaultValue);const frameRef=useRef(null);const batchRef=useRef([]);const destroyRef=useRef(false);React.useEffect(()=>{destroyRef.current=false;return()=>{destroyRef.current=true;raf.cancel(frameRef.current);frameRef.current=null;};},[]);function setFrameValue(updater){if(destroyRef.current){return;}if(frameRef.current===null){batchRef.current=[];frameRef.current=raf(()=>{frameRef.current=null;setValue(prevValue=>{let current=prevValue;batchRef.current.forEach(func=>{current=func(current);});return current;});});}batchRef.current.push(updater);}return[value,setFrameValue];}","map":{"version":3,"names":["raf","React","useRef","useFrameState","defaultValue","value","setValue","useState","frameRef","batchRef","destroyRef","useEffect","current","cancel","setFrameValue","updater","prevValue","forEach","func","push"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/antd/es/form/hooks/useFrameState.js"],"sourcesContent":["import raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nexport default function useFrameState(defaultValue) {\n  const [value, setValue] = React.useState(defaultValue);\n  const frameRef = useRef(null);\n  const batchRef = useRef([]);\n  const destroyRef = useRef(false);\n  React.useEffect(() => {\n    destroyRef.current = false;\n    return () => {\n      destroyRef.current = true;\n      raf.cancel(frameRef.current);\n      frameRef.current = null;\n    };\n  }, []);\n  function setFrameValue(updater) {\n    if (destroyRef.current) {\n      return;\n    }\n    if (frameRef.current === null) {\n      batchRef.current = [];\n      frameRef.current = raf(() => {\n        frameRef.current = null;\n        setValue(prevValue => {\n          let current = prevValue;\n          batchRef.current.forEach(func => {\n            current = func(current);\n          });\n          return current;\n        });\n      });\n    }\n    batchRef.current.push(updater);\n  }\n  return [value, setFrameValue];\n}"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,gBAAgB,CAChC,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAC9B,OAASC,MAAM,KAAQ,OAAO,CAC9B,cAAe,SAAS,CAAAC,aAAaA,CAACC,YAAY,CAAE,CAClD,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGL,KAAK,CAACM,QAAQ,CAACH,YAAY,CAAC,CACtD,KAAM,CAAAI,QAAQ,CAAGN,MAAM,CAAC,IAAI,CAAC,CAC7B,KAAM,CAAAO,QAAQ,CAAGP,MAAM,CAAC,EAAE,CAAC,CAC3B,KAAM,CAAAQ,UAAU,CAAGR,MAAM,CAAC,KAAK,CAAC,CAChCD,KAAK,CAACU,SAAS,CAAC,IAAM,CACpBD,UAAU,CAACE,OAAO,CAAG,KAAK,CAC1B,MAAO,IAAM,CACXF,UAAU,CAACE,OAAO,CAAG,IAAI,CACzBZ,GAAG,CAACa,MAAM,CAACL,QAAQ,CAACI,OAAO,CAAC,CAC5BJ,QAAQ,CAACI,OAAO,CAAG,IAAI,CACzB,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CACN,QAAS,CAAAE,aAAaA,CAACC,OAAO,CAAE,CAC9B,GAAIL,UAAU,CAACE,OAAO,CAAE,CACtB,OACF,CACA,GAAIJ,QAAQ,CAACI,OAAO,GAAK,IAAI,CAAE,CAC7BH,QAAQ,CAACG,OAAO,CAAG,EAAE,CACrBJ,QAAQ,CAACI,OAAO,CAAGZ,GAAG,CAAC,IAAM,CAC3BQ,QAAQ,CAACI,OAAO,CAAG,IAAI,CACvBN,QAAQ,CAACU,SAAS,EAAI,CACpB,GAAI,CAAAJ,OAAO,CAAGI,SAAS,CACvBP,QAAQ,CAACG,OAAO,CAACK,OAAO,CAACC,IAAI,EAAI,CAC/BN,OAAO,CAAGM,IAAI,CAACN,OAAO,CAAC,CACzB,CAAC,CAAC,CACF,MAAO,CAAAA,OAAO,CAChB,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CACAH,QAAQ,CAACG,OAAO,CAACO,IAAI,CAACJ,OAAO,CAAC,CAChC,CACA,MAAO,CAACV,KAAK,CAAES,aAAa,CAAC,CAC/B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}