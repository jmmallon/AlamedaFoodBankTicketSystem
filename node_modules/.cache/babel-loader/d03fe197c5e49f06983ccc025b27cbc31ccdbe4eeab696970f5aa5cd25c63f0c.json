{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import*as React from'react';import{COMMON_PROPS}from\"../common\";/**\n * Merge props provided `items` or context collected images\n */export default function usePreviewItems(items){// Context collection image data\nvar _React$useState=React.useState({}),_React$useState2=_slicedToArray(_React$useState,2),images=_React$useState2[0],setImages=_React$useState2[1];var registerImage=React.useCallback(function(id,data){setImages(function(imgs){return _objectSpread(_objectSpread({},imgs),{},_defineProperty({},id,data));});return function(){setImages(function(imgs){var cloneImgs=_objectSpread({},imgs);delete cloneImgs[id];return cloneImgs;});};},[]);// items\nvar mergedItems=React.useMemo(function(){if(items){return items.map(function(item){if(typeof item==='string'){return{data:{src:item}};}var data={};Object.keys(item).forEach(function(key){if(['src'].concat(_toConsumableArray(COMMON_PROPS)).includes(key)){data[key]=item[key];}});return{data:data};});}return Object.keys(images).reduce(function(total,id){var _images$id=images[id],canPreview=_images$id.canPreview,data=_images$id.data;if(canPreview){total.push({data:data,id:id});}return total;},[]);},[items,images]);return[mergedItems,registerImage];}","map":{"version":3,"names":["_toConsumableArray","_defineProperty","_objectSpread","_slicedToArray","React","COMMON_PROPS","usePreviewItems","items","_React$useState","useState","_React$useState2","images","setImages","registerImage","useCallback","id","data","imgs","cloneImgs","mergedItems","useMemo","map","item","src","Object","keys","forEach","key","concat","includes","reduce","total","_images$id","canPreview","push"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-image/es/hooks/usePreviewItems.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport { COMMON_PROPS } from \"../common\";\n/**\n * Merge props provided `items` or context collected images\n */\nexport default function usePreviewItems(items) {\n  // Context collection image data\n  var _React$useState = React.useState({}),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    images = _React$useState2[0],\n    setImages = _React$useState2[1];\n  var registerImage = React.useCallback(function (id, data) {\n    setImages(function (imgs) {\n      return _objectSpread(_objectSpread({}, imgs), {}, _defineProperty({}, id, data));\n    });\n    return function () {\n      setImages(function (imgs) {\n        var cloneImgs = _objectSpread({}, imgs);\n        delete cloneImgs[id];\n        return cloneImgs;\n      });\n    };\n  }, []);\n\n  // items\n  var mergedItems = React.useMemo(function () {\n    if (items) {\n      return items.map(function (item) {\n        if (typeof item === 'string') {\n          return {\n            data: {\n              src: item\n            }\n          };\n        }\n        var data = {};\n        Object.keys(item).forEach(function (key) {\n          if (['src'].concat(_toConsumableArray(COMMON_PROPS)).includes(key)) {\n            data[key] = item[key];\n          }\n        });\n        return {\n          data: data\n        };\n      });\n    }\n    return Object.keys(images).reduce(function (total, id) {\n      var _images$id = images[id],\n        canPreview = _images$id.canPreview,\n        data = _images$id.data;\n      if (canPreview) {\n        total.push({\n          data: data,\n          id: id\n        });\n      }\n      return total;\n    }, []);\n  }, [items, images]);\n  return [mergedItems, registerImage];\n}"],"mappings":"AAAA,MAAO,CAAAA,kBAAkB,KAAM,8CAA8C,CAC7E,MAAO,CAAAC,eAAe,KAAM,2CAA2C,CACvE,MAAO,CAAAC,aAAa,KAAM,0CAA0C,CACpE,MAAO,CAAAC,cAAc,KAAM,0CAA0C,CACrE,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAC9B,OAASC,YAAY,KAAQ,WAAW,CACxC;AACA;AACA,GACA,cAAe,SAAS,CAAAC,eAAeA,CAACC,KAAK,CAAE,CAC7C;AACA,GAAI,CAAAC,eAAe,CAAGJ,KAAK,CAACK,QAAQ,CAAC,CAAC,CAAC,CAAC,CACtCC,gBAAgB,CAAGP,cAAc,CAACK,eAAe,CAAE,CAAC,CAAC,CACrDG,MAAM,CAAGD,gBAAgB,CAAC,CAAC,CAAC,CAC5BE,SAAS,CAAGF,gBAAgB,CAAC,CAAC,CAAC,CACjC,GAAI,CAAAG,aAAa,CAAGT,KAAK,CAACU,WAAW,CAAC,SAAUC,EAAE,CAAEC,IAAI,CAAE,CACxDJ,SAAS,CAAC,SAAUK,IAAI,CAAE,CACxB,MAAO,CAAAf,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,CAAEe,IAAI,CAAC,CAAE,CAAC,CAAC,CAAEhB,eAAe,CAAC,CAAC,CAAC,CAAEc,EAAE,CAAEC,IAAI,CAAC,CAAC,CAClF,CAAC,CAAC,CACF,MAAO,WAAY,CACjBJ,SAAS,CAAC,SAAUK,IAAI,CAAE,CACxB,GAAI,CAAAC,SAAS,CAAGhB,aAAa,CAAC,CAAC,CAAC,CAAEe,IAAI,CAAC,CACvC,MAAO,CAAAC,SAAS,CAACH,EAAE,CAAC,CACpB,MAAO,CAAAG,SAAS,CAClB,CAAC,CAAC,CACJ,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,GAAI,CAAAC,WAAW,CAAGf,KAAK,CAACgB,OAAO,CAAC,UAAY,CAC1C,GAAIb,KAAK,CAAE,CACT,MAAO,CAAAA,KAAK,CAACc,GAAG,CAAC,SAAUC,IAAI,CAAE,CAC/B,GAAI,MAAO,CAAAA,IAAI,GAAK,QAAQ,CAAE,CAC5B,MAAO,CACLN,IAAI,CAAE,CACJO,GAAG,CAAED,IACP,CACF,CAAC,CACH,CACA,GAAI,CAAAN,IAAI,CAAG,CAAC,CAAC,CACbQ,MAAM,CAACC,IAAI,CAACH,IAAI,CAAC,CAACI,OAAO,CAAC,SAAUC,GAAG,CAAE,CACvC,GAAI,CAAC,KAAK,CAAC,CAACC,MAAM,CAAC5B,kBAAkB,CAACK,YAAY,CAAC,CAAC,CAACwB,QAAQ,CAACF,GAAG,CAAC,CAAE,CAClEX,IAAI,CAACW,GAAG,CAAC,CAAGL,IAAI,CAACK,GAAG,CAAC,CACvB,CACF,CAAC,CAAC,CACF,MAAO,CACLX,IAAI,CAAEA,IACR,CAAC,CACH,CAAC,CAAC,CACJ,CACA,MAAO,CAAAQ,MAAM,CAACC,IAAI,CAACd,MAAM,CAAC,CAACmB,MAAM,CAAC,SAAUC,KAAK,CAAEhB,EAAE,CAAE,CACrD,GAAI,CAAAiB,UAAU,CAAGrB,MAAM,CAACI,EAAE,CAAC,CACzBkB,UAAU,CAAGD,UAAU,CAACC,UAAU,CAClCjB,IAAI,CAAGgB,UAAU,CAAChB,IAAI,CACxB,GAAIiB,UAAU,CAAE,CACdF,KAAK,CAACG,IAAI,CAAC,CACTlB,IAAI,CAAEA,IAAI,CACVD,EAAE,CAAEA,EACN,CAAC,CAAC,CACJ,CACA,MAAO,CAAAgB,KAAK,CACd,CAAC,CAAE,EAAE,CAAC,CACR,CAAC,CAAE,CAACxB,KAAK,CAAEI,MAAM,CAAC,CAAC,CACnB,MAAO,CAACQ,WAAW,CAAEN,aAAa,CAAC,CACrC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}