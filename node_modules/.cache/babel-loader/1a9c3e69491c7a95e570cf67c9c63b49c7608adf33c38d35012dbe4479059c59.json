{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/esm/extends\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import Portal from'@rc-component/portal';import*as React from'react';import{RefContext}from\"./context\";import Dialog from\"./Dialog\";// fix issue #10656\n/*\n * getContainer remarks\n * Custom container should not be return, because in the Portal component, it will remove the\n * return container element here, if the custom container is the only child of it's component,\n * like issue #10656, It will has a conflict with removeChild method in react-dom.\n * So here should add a child (div element) to custom container.\n * */var DialogWrap=function DialogWrap(props){var visible=props.visible,getContainer=props.getContainer,forceRender=props.forceRender,_props$destroyOnClose=props.destroyOnClose,destroyOnClose=_props$destroyOnClose===void 0?false:_props$destroyOnClose,_afterClose=props.afterClose,panelRef=props.panelRef;var _React$useState=React.useState(visible),_React$useState2=_slicedToArray(_React$useState,2),animatedVisible=_React$useState2[0],setAnimatedVisible=_React$useState2[1];var refContext=React.useMemo(function(){return{panel:panelRef};},[panelRef]);React.useEffect(function(){if(visible){setAnimatedVisible(true);}},[visible]);// Destroy on close will remove wrapped div\nif(!forceRender&&destroyOnClose&&!animatedVisible){return null;}return/*#__PURE__*/React.createElement(RefContext.Provider,{value:refContext},/*#__PURE__*/React.createElement(Portal,{open:visible||forceRender||animatedVisible,autoDestroy:false,getContainer:getContainer,autoLock:visible||animatedVisible},/*#__PURE__*/React.createElement(Dialog,_extends({},props,{destroyOnClose:destroyOnClose,afterClose:function afterClose(){_afterClose===null||_afterClose===void 0||_afterClose();setAnimatedVisible(false);}}))));};DialogWrap.displayName='Dialog';export default DialogWrap;","map":{"version":3,"names":["_extends","_slicedToArray","Portal","React","RefContext","Dialog","DialogWrap","props","visible","getContainer","forceRender","_props$destroyOnClose","destroyOnClose","_afterClose","afterClose","panelRef","_React$useState","useState","_React$useState2","animatedVisible","setAnimatedVisible","refContext","useMemo","panel","useEffect","createElement","Provider","value","open","autoDestroy","autoLock","displayName"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-dialog/es/DialogWrap.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport Portal from '@rc-component/portal';\nimport * as React from 'react';\nimport { RefContext } from \"./context\";\nimport Dialog from \"./Dialog\";\n// fix issue #10656\n/*\n * getContainer remarks\n * Custom container should not be return, because in the Portal component, it will remove the\n * return container element here, if the custom container is the only child of it's component,\n * like issue #10656, It will has a conflict with removeChild method in react-dom.\n * So here should add a child (div element) to custom container.\n * */\n\nvar DialogWrap = function DialogWrap(props) {\n  var visible = props.visible,\n    getContainer = props.getContainer,\n    forceRender = props.forceRender,\n    _props$destroyOnClose = props.destroyOnClose,\n    destroyOnClose = _props$destroyOnClose === void 0 ? false : _props$destroyOnClose,\n    _afterClose = props.afterClose,\n    panelRef = props.panelRef;\n  var _React$useState = React.useState(visible),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    animatedVisible = _React$useState2[0],\n    setAnimatedVisible = _React$useState2[1];\n  var refContext = React.useMemo(function () {\n    return {\n      panel: panelRef\n    };\n  }, [panelRef]);\n  React.useEffect(function () {\n    if (visible) {\n      setAnimatedVisible(true);\n    }\n  }, [visible]);\n\n  // Destroy on close will remove wrapped div\n  if (!forceRender && destroyOnClose && !animatedVisible) {\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(RefContext.Provider, {\n    value: refContext\n  }, /*#__PURE__*/React.createElement(Portal, {\n    open: visible || forceRender || animatedVisible,\n    autoDestroy: false,\n    getContainer: getContainer,\n    autoLock: visible || animatedVisible\n  }, /*#__PURE__*/React.createElement(Dialog, _extends({}, props, {\n    destroyOnClose: destroyOnClose,\n    afterClose: function afterClose() {\n      _afterClose === null || _afterClose === void 0 || _afterClose();\n      setAnimatedVisible(false);\n    }\n  }))));\n};\nDialogWrap.displayName = 'Dialog';\nexport default DialogWrap;"],"mappings":"AAAA,MAAO,CAAAA,QAAQ,KAAM,oCAAoC,CACzD,MAAO,CAAAC,cAAc,KAAM,0CAA0C,CACrE,MAAO,CAAAC,MAAM,KAAM,sBAAsB,CACzC,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAC9B,OAASC,UAAU,KAAQ,WAAW,CACtC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAEA,GAAI,CAAAC,UAAU,CAAG,QAAS,CAAAA,UAAUA,CAACC,KAAK,CAAE,CAC1C,GAAI,CAAAC,OAAO,CAAGD,KAAK,CAACC,OAAO,CACzBC,YAAY,CAAGF,KAAK,CAACE,YAAY,CACjCC,WAAW,CAAGH,KAAK,CAACG,WAAW,CAC/BC,qBAAqB,CAAGJ,KAAK,CAACK,cAAc,CAC5CA,cAAc,CAAGD,qBAAqB,GAAK,IAAK,EAAC,CAAG,KAAK,CAAGA,qBAAqB,CACjFE,WAAW,CAAGN,KAAK,CAACO,UAAU,CAC9BC,QAAQ,CAAGR,KAAK,CAACQ,QAAQ,CAC3B,GAAI,CAAAC,eAAe,CAAGb,KAAK,CAACc,QAAQ,CAACT,OAAO,CAAC,CAC3CU,gBAAgB,CAAGjB,cAAc,CAACe,eAAe,CAAE,CAAC,CAAC,CACrDG,eAAe,CAAGD,gBAAgB,CAAC,CAAC,CAAC,CACrCE,kBAAkB,CAAGF,gBAAgB,CAAC,CAAC,CAAC,CAC1C,GAAI,CAAAG,UAAU,CAAGlB,KAAK,CAACmB,OAAO,CAAC,UAAY,CACzC,MAAO,CACLC,KAAK,CAAER,QACT,CAAC,CACH,CAAC,CAAE,CAACA,QAAQ,CAAC,CAAC,CACdZ,KAAK,CAACqB,SAAS,CAAC,UAAY,CAC1B,GAAIhB,OAAO,CAAE,CACXY,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CACF,CAAC,CAAE,CAACZ,OAAO,CAAC,CAAC,CAEb;AACA,GAAI,CAACE,WAAW,EAAIE,cAAc,EAAI,CAACO,eAAe,CAAE,CACtD,MAAO,KAAI,CACb,CACA,MAAO,aAAahB,KAAK,CAACsB,aAAa,CAACrB,UAAU,CAACsB,QAAQ,CAAE,CAC3DC,KAAK,CAAEN,UACT,CAAC,CAAE,aAAalB,KAAK,CAACsB,aAAa,CAACvB,MAAM,CAAE,CAC1C0B,IAAI,CAAEpB,OAAO,EAAIE,WAAW,EAAIS,eAAe,CAC/CU,WAAW,CAAE,KAAK,CAClBpB,YAAY,CAAEA,YAAY,CAC1BqB,QAAQ,CAAEtB,OAAO,EAAIW,eACvB,CAAC,CAAE,aAAahB,KAAK,CAACsB,aAAa,CAACpB,MAAM,CAAEL,QAAQ,CAAC,CAAC,CAAC,CAAEO,KAAK,CAAE,CAC9DK,cAAc,CAAEA,cAAc,CAC9BE,UAAU,CAAE,QAAS,CAAAA,UAAUA,CAAA,CAAG,CAChCD,WAAW,GAAK,IAAI,EAAIA,WAAW,GAAK,IAAK,EAAC,EAAIA,WAAW,CAAC,CAAC,CAC/DO,kBAAkB,CAAC,KAAK,CAAC,CAC3B,CACF,CAAC,CAAC,CAAC,CAAC,CAAC,CACP,CAAC,CACDd,UAAU,CAACyB,WAAW,CAAG,QAAQ,CACjC,cAAe,CAAAzB,UAAU","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}