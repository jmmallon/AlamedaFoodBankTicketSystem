{"ast":null,"code":"import{useRef}from'react';import useLayoutEffect from\"rc-util/es/hooks/useLayoutEffect\";var SMOOTH_PTG=14/15;export default function useMobileTouchMove(inVirtual,listRef,callback){var touchedRef=useRef(false);var touchYRef=useRef(0);var elementRef=useRef(null);// Smooth scroll\nvar intervalRef=useRef(null);/* eslint-disable prefer-const */var cleanUpEvents;var onTouchMove=function onTouchMove(e){if(touchedRef.current){var currentY=Math.ceil(e.touches[0].pageY);var _offsetY=touchYRef.current-currentY;touchYRef.current=currentY;if(callback(_offsetY)){e.preventDefault();}// Smooth interval\nclearInterval(intervalRef.current);intervalRef.current=setInterval(function(){_offsetY*=SMOOTH_PTG;if(!callback(_offsetY,true)||Math.abs(_offsetY)<=0.1){clearInterval(intervalRef.current);}},16);}};var onTouchEnd=function onTouchEnd(){touchedRef.current=false;cleanUpEvents();};var onTouchStart=function onTouchStart(e){cleanUpEvents();if(e.touches.length===1&&!touchedRef.current){touchedRef.current=true;touchYRef.current=Math.ceil(e.touches[0].pageY);elementRef.current=e.target;elementRef.current.addEventListener('touchmove',onTouchMove);elementRef.current.addEventListener('touchend',onTouchEnd);}};cleanUpEvents=function cleanUpEvents(){if(elementRef.current){elementRef.current.removeEventListener('touchmove',onTouchMove);elementRef.current.removeEventListener('touchend',onTouchEnd);}};useLayoutEffect(function(){if(inVirtual){listRef.current.addEventListener('touchstart',onTouchStart);}return function(){var _listRef$current;(_listRef$current=listRef.current)===null||_listRef$current===void 0||_listRef$current.removeEventListener('touchstart',onTouchStart);cleanUpEvents();clearInterval(intervalRef.current);};},[inVirtual]);}","map":{"version":3,"names":["useRef","useLayoutEffect","SMOOTH_PTG","useMobileTouchMove","inVirtual","listRef","callback","touchedRef","touchYRef","elementRef","intervalRef","cleanUpEvents","onTouchMove","e","current","currentY","Math","ceil","touches","pageY","_offsetY","preventDefault","clearInterval","setInterval","abs","onTouchEnd","onTouchStart","length","target","addEventListener","removeEventListener","_listRef$current"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-virtual-list/es/hooks/useMobileTouchMove.js"],"sourcesContent":["import { useRef } from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nvar SMOOTH_PTG = 14 / 15;\nexport default function useMobileTouchMove(inVirtual, listRef, callback) {\n  var touchedRef = useRef(false);\n  var touchYRef = useRef(0);\n  var elementRef = useRef(null);\n\n  // Smooth scroll\n  var intervalRef = useRef(null);\n\n  /* eslint-disable prefer-const */\n  var cleanUpEvents;\n  var onTouchMove = function onTouchMove(e) {\n    if (touchedRef.current) {\n      var currentY = Math.ceil(e.touches[0].pageY);\n      var _offsetY = touchYRef.current - currentY;\n      touchYRef.current = currentY;\n      if (callback(_offsetY)) {\n        e.preventDefault();\n      }\n\n      // Smooth interval\n      clearInterval(intervalRef.current);\n      intervalRef.current = setInterval(function () {\n        _offsetY *= SMOOTH_PTG;\n        if (!callback(_offsetY, true) || Math.abs(_offsetY) <= 0.1) {\n          clearInterval(intervalRef.current);\n        }\n      }, 16);\n    }\n  };\n  var onTouchEnd = function onTouchEnd() {\n    touchedRef.current = false;\n    cleanUpEvents();\n  };\n  var onTouchStart = function onTouchStart(e) {\n    cleanUpEvents();\n    if (e.touches.length === 1 && !touchedRef.current) {\n      touchedRef.current = true;\n      touchYRef.current = Math.ceil(e.touches[0].pageY);\n      elementRef.current = e.target;\n      elementRef.current.addEventListener('touchmove', onTouchMove);\n      elementRef.current.addEventListener('touchend', onTouchEnd);\n    }\n  };\n  cleanUpEvents = function cleanUpEvents() {\n    if (elementRef.current) {\n      elementRef.current.removeEventListener('touchmove', onTouchMove);\n      elementRef.current.removeEventListener('touchend', onTouchEnd);\n    }\n  };\n  useLayoutEffect(function () {\n    if (inVirtual) {\n      listRef.current.addEventListener('touchstart', onTouchStart);\n    }\n    return function () {\n      var _listRef$current;\n      (_listRef$current = listRef.current) === null || _listRef$current === void 0 || _listRef$current.removeEventListener('touchstart', onTouchStart);\n      cleanUpEvents();\n      clearInterval(intervalRef.current);\n    };\n  }, [inVirtual]);\n}"],"mappings":"AAAA,OAASA,MAAM,KAAQ,OAAO,CAC9B,MAAO,CAAAC,eAAe,KAAM,kCAAkC,CAC9D,GAAI,CAAAC,UAAU,CAAG,EAAE,CAAG,EAAE,CACxB,cAAe,SAAS,CAAAC,kBAAkBA,CAACC,SAAS,CAAEC,OAAO,CAAEC,QAAQ,CAAE,CACvE,GAAI,CAAAC,UAAU,CAAGP,MAAM,CAAC,KAAK,CAAC,CAC9B,GAAI,CAAAQ,SAAS,CAAGR,MAAM,CAAC,CAAC,CAAC,CACzB,GAAI,CAAAS,UAAU,CAAGT,MAAM,CAAC,IAAI,CAAC,CAE7B;AACA,GAAI,CAAAU,WAAW,CAAGV,MAAM,CAAC,IAAI,CAAC,CAE9B,iCACA,GAAI,CAAAW,aAAa,CACjB,GAAI,CAAAC,WAAW,CAAG,QAAS,CAAAA,WAAWA,CAACC,CAAC,CAAE,CACxC,GAAIN,UAAU,CAACO,OAAO,CAAE,CACtB,GAAI,CAAAC,QAAQ,CAAGC,IAAI,CAACC,IAAI,CAACJ,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CAC5C,GAAI,CAAAC,QAAQ,CAAGZ,SAAS,CAACM,OAAO,CAAGC,QAAQ,CAC3CP,SAAS,CAACM,OAAO,CAAGC,QAAQ,CAC5B,GAAIT,QAAQ,CAACc,QAAQ,CAAC,CAAE,CACtBP,CAAC,CAACQ,cAAc,CAAC,CAAC,CACpB,CAEA;AACAC,aAAa,CAACZ,WAAW,CAACI,OAAO,CAAC,CAClCJ,WAAW,CAACI,OAAO,CAAGS,WAAW,CAAC,UAAY,CAC5CH,QAAQ,EAAIlB,UAAU,CACtB,GAAI,CAACI,QAAQ,CAACc,QAAQ,CAAE,IAAI,CAAC,EAAIJ,IAAI,CAACQ,GAAG,CAACJ,QAAQ,CAAC,EAAI,GAAG,CAAE,CAC1DE,aAAa,CAACZ,WAAW,CAACI,OAAO,CAAC,CACpC,CACF,CAAC,CAAE,EAAE,CAAC,CACR,CACF,CAAC,CACD,GAAI,CAAAW,UAAU,CAAG,QAAS,CAAAA,UAAUA,CAAA,CAAG,CACrClB,UAAU,CAACO,OAAO,CAAG,KAAK,CAC1BH,aAAa,CAAC,CAAC,CACjB,CAAC,CACD,GAAI,CAAAe,YAAY,CAAG,QAAS,CAAAA,YAAYA,CAACb,CAAC,CAAE,CAC1CF,aAAa,CAAC,CAAC,CACf,GAAIE,CAAC,CAACK,OAAO,CAACS,MAAM,GAAK,CAAC,EAAI,CAACpB,UAAU,CAACO,OAAO,CAAE,CACjDP,UAAU,CAACO,OAAO,CAAG,IAAI,CACzBN,SAAS,CAACM,OAAO,CAAGE,IAAI,CAACC,IAAI,CAACJ,CAAC,CAACK,OAAO,CAAC,CAAC,CAAC,CAACC,KAAK,CAAC,CACjDV,UAAU,CAACK,OAAO,CAAGD,CAAC,CAACe,MAAM,CAC7BnB,UAAU,CAACK,OAAO,CAACe,gBAAgB,CAAC,WAAW,CAAEjB,WAAW,CAAC,CAC7DH,UAAU,CAACK,OAAO,CAACe,gBAAgB,CAAC,UAAU,CAAEJ,UAAU,CAAC,CAC7D,CACF,CAAC,CACDd,aAAa,CAAG,QAAS,CAAAA,aAAaA,CAAA,CAAG,CACvC,GAAIF,UAAU,CAACK,OAAO,CAAE,CACtBL,UAAU,CAACK,OAAO,CAACgB,mBAAmB,CAAC,WAAW,CAAElB,WAAW,CAAC,CAChEH,UAAU,CAACK,OAAO,CAACgB,mBAAmB,CAAC,UAAU,CAAEL,UAAU,CAAC,CAChE,CACF,CAAC,CACDxB,eAAe,CAAC,UAAY,CAC1B,GAAIG,SAAS,CAAE,CACbC,OAAO,CAACS,OAAO,CAACe,gBAAgB,CAAC,YAAY,CAAEH,YAAY,CAAC,CAC9D,CACA,MAAO,WAAY,CACjB,GAAI,CAAAK,gBAAgB,CACpB,CAACA,gBAAgB,CAAG1B,OAAO,CAACS,OAAO,IAAM,IAAI,EAAIiB,gBAAgB,GAAK,IAAK,EAAC,EAAIA,gBAAgB,CAACD,mBAAmB,CAAC,YAAY,CAAEJ,YAAY,CAAC,CAChJf,aAAa,CAAC,CAAC,CACfW,aAAa,CAACZ,WAAW,CAACI,OAAO,CAAC,CACpC,CAAC,CACH,CAAC,CAAE,CAACV,SAAS,CAAC,CAAC,CACjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}