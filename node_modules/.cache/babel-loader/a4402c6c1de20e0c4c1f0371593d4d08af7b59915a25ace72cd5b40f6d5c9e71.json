{"ast":null,"code":"import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import useState from\"rc-util/es/hooks/useState\";import*as React from'react';import{useEffect,useRef}from'react';import{STATUS_APPEAR,STATUS_ENTER,STATUS_LEAVE,STATUS_NONE,STEP_ACTIVE,STEP_PREPARE,STEP_PREPARED,STEP_START}from\"../interface\";import useDomMotionEvents from\"./useDomMotionEvents\";import useIsomorphicLayoutEffect from\"./useIsomorphicLayoutEffect\";import useStepQueue,{DoStep,isActive,SkipStep}from\"./useStepQueue\";export default function useStatus(supportMotion,visible,getElement,_ref){var _ref$motionEnter=_ref.motionEnter,motionEnter=_ref$motionEnter===void 0?true:_ref$motionEnter,_ref$motionAppear=_ref.motionAppear,motionAppear=_ref$motionAppear===void 0?true:_ref$motionAppear,_ref$motionLeave=_ref.motionLeave,motionLeave=_ref$motionLeave===void 0?true:_ref$motionLeave,motionDeadline=_ref.motionDeadline,motionLeaveImmediately=_ref.motionLeaveImmediately,onAppearPrepare=_ref.onAppearPrepare,onEnterPrepare=_ref.onEnterPrepare,onLeavePrepare=_ref.onLeavePrepare,onAppearStart=_ref.onAppearStart,onEnterStart=_ref.onEnterStart,onLeaveStart=_ref.onLeaveStart,onAppearActive=_ref.onAppearActive,onEnterActive=_ref.onEnterActive,onLeaveActive=_ref.onLeaveActive,onAppearEnd=_ref.onAppearEnd,onEnterEnd=_ref.onEnterEnd,onLeaveEnd=_ref.onLeaveEnd,onVisibleChanged=_ref.onVisibleChanged;// Used for outer render usage to avoid `visible: false & status: none` to render nothing\nvar _useState=useState(),_useState2=_slicedToArray(_useState,2),asyncVisible=_useState2[0],setAsyncVisible=_useState2[1];var _useState3=useState(STATUS_NONE),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];var _useState5=useState(null),_useState6=_slicedToArray(_useState5,2),style=_useState6[0],setStyle=_useState6[1];var mountedRef=useRef(false);var deadlineRef=useRef(null);// =========================== Dom Node ===========================\nfunction getDomElement(){return getElement();}// ========================== Motion End ==========================\nvar activeRef=useRef(false);/**\n   * Clean up status & style\n   */function updateMotionEndStatus(){setStatus(STATUS_NONE,true);setStyle(null,true);}function onInternalMotionEnd(event){var element=getDomElement();if(event&&!event.deadline&&event.target!==element){// event exists\n// not initiated by deadline\n// transitionEnd not fired by inner elements\nreturn;}var currentActive=activeRef.current;var canEnd;if(status===STATUS_APPEAR&&currentActive){canEnd=onAppearEnd===null||onAppearEnd===void 0?void 0:onAppearEnd(element,event);}else if(status===STATUS_ENTER&&currentActive){canEnd=onEnterEnd===null||onEnterEnd===void 0?void 0:onEnterEnd(element,event);}else if(status===STATUS_LEAVE&&currentActive){canEnd=onLeaveEnd===null||onLeaveEnd===void 0?void 0:onLeaveEnd(element,event);}// Only update status when `canEnd` and not destroyed\nif(status!==STATUS_NONE&&currentActive&&canEnd!==false){updateMotionEndStatus();}}var _useDomMotionEvents=useDomMotionEvents(onInternalMotionEnd),_useDomMotionEvents2=_slicedToArray(_useDomMotionEvents,1),patchMotionEvents=_useDomMotionEvents2[0];// ============================= Step =============================\nvar getEventHandlers=function getEventHandlers(targetStatus){var _ref2,_ref3,_ref4;switch(targetStatus){case STATUS_APPEAR:return _ref2={},_defineProperty(_ref2,STEP_PREPARE,onAppearPrepare),_defineProperty(_ref2,STEP_START,onAppearStart),_defineProperty(_ref2,STEP_ACTIVE,onAppearActive),_ref2;case STATUS_ENTER:return _ref3={},_defineProperty(_ref3,STEP_PREPARE,onEnterPrepare),_defineProperty(_ref3,STEP_START,onEnterStart),_defineProperty(_ref3,STEP_ACTIVE,onEnterActive),_ref3;case STATUS_LEAVE:return _ref4={},_defineProperty(_ref4,STEP_PREPARE,onLeavePrepare),_defineProperty(_ref4,STEP_START,onLeaveStart),_defineProperty(_ref4,STEP_ACTIVE,onLeaveActive),_ref4;default:return{};}};var eventHandlers=React.useMemo(function(){return getEventHandlers(status);},[status]);var _useStepQueue=useStepQueue(status,!supportMotion,function(newStep){// Only prepare step can be skip\nif(newStep===STEP_PREPARE){var onPrepare=eventHandlers[STEP_PREPARE];if(!onPrepare){return SkipStep;}return onPrepare(getDomElement());}// Rest step is sync update\nif(step in eventHandlers){var _eventHandlers$step;setStyle(((_eventHandlers$step=eventHandlers[step])===null||_eventHandlers$step===void 0?void 0:_eventHandlers$step.call(eventHandlers,getDomElement(),null))||null);}if(step===STEP_ACTIVE){// Patch events when motion needed\npatchMotionEvents(getDomElement());if(motionDeadline>0){clearTimeout(deadlineRef.current);deadlineRef.current=setTimeout(function(){onInternalMotionEnd({deadline:true});},motionDeadline);}}if(step===STEP_PREPARED){updateMotionEndStatus();}return DoStep;}),_useStepQueue2=_slicedToArray(_useStepQueue,2),startStep=_useStepQueue2[0],step=_useStepQueue2[1];var active=isActive(step);activeRef.current=active;// ============================ Status ============================\n// Update with new status\nuseIsomorphicLayoutEffect(function(){setAsyncVisible(visible);var isMounted=mountedRef.current;mountedRef.current=true;// if (!supportMotion) {\n//   return;\n// }\nvar nextStatus;// Appear\nif(!isMounted&&visible&&motionAppear){nextStatus=STATUS_APPEAR;}// Enter\nif(isMounted&&visible&&motionEnter){nextStatus=STATUS_ENTER;}// Leave\nif(isMounted&&!visible&&motionLeave||!isMounted&&motionLeaveImmediately&&!visible&&motionLeave){nextStatus=STATUS_LEAVE;}var nextEventHandlers=getEventHandlers(nextStatus);// Update to next status\nif(nextStatus&&(supportMotion||nextEventHandlers[STEP_PREPARE])){setStatus(nextStatus);startStep();}else{// Set back in case no motion but prev status has prepare step\nsetStatus(STATUS_NONE);}},[visible]);// ============================ Effect ============================\n// Reset when motion changed\nuseEffect(function(){if(// Cancel appear\nstatus===STATUS_APPEAR&&!motionAppear||// Cancel enter\nstatus===STATUS_ENTER&&!motionEnter||// Cancel leave\nstatus===STATUS_LEAVE&&!motionLeave){setStatus(STATUS_NONE);}},[motionAppear,motionEnter,motionLeave]);useEffect(function(){return function(){mountedRef.current=false;clearTimeout(deadlineRef.current);};},[]);// Trigger `onVisibleChanged`\nvar firstMountChangeRef=React.useRef(false);useEffect(function(){// [visible & motion not end] => [!visible & motion end] still need trigger onVisibleChanged\nif(asyncVisible){firstMountChangeRef.current=true;}if(asyncVisible!==undefined&&status===STATUS_NONE){// Skip first render is invisible since it's nothing changed\nif(firstMountChangeRef.current||asyncVisible){onVisibleChanged===null||onVisibleChanged===void 0?void 0:onVisibleChanged(asyncVisible);}firstMountChangeRef.current=true;}},[asyncVisible,status]);// ============================ Styles ============================\nvar mergedStyle=style;if(eventHandlers[STEP_PREPARE]&&step===STEP_START){mergedStyle=_objectSpread({transition:'none'},mergedStyle);}return[status,step,mergedStyle,asyncVisible!==null&&asyncVisible!==void 0?asyncVisible:visible];}","map":{"version":3,"names":["_objectSpread","_defineProperty","_slicedToArray","useState","React","useEffect","useRef","STATUS_APPEAR","STATUS_ENTER","STATUS_LEAVE","STATUS_NONE","STEP_ACTIVE","STEP_PREPARE","STEP_PREPARED","STEP_START","useDomMotionEvents","useIsomorphicLayoutEffect","useStepQueue","DoStep","isActive","SkipStep","useStatus","supportMotion","visible","getElement","_ref","_ref$motionEnter","motionEnter","_ref$motionAppear","motionAppear","_ref$motionLeave","motionLeave","motionDeadline","motionLeaveImmediately","onAppearPrepare","onEnterPrepare","onLeavePrepare","onAppearStart","onEnterStart","onLeaveStart","onAppearActive","onEnterActive","onLeaveActive","onAppearEnd","onEnterEnd","onLeaveEnd","onVisibleChanged","_useState","_useState2","asyncVisible","setAsyncVisible","_useState3","_useState4","status","setStatus","_useState5","_useState6","style","setStyle","mountedRef","deadlineRef","getDomElement","activeRef","updateMotionEndStatus","onInternalMotionEnd","event","element","deadline","target","currentActive","current","canEnd","_useDomMotionEvents","_useDomMotionEvents2","patchMotionEvents","getEventHandlers","targetStatus","_ref2","_ref3","_ref4","eventHandlers","useMemo","_useStepQueue","newStep","onPrepare","step","_eventHandlers$step","call","clearTimeout","setTimeout","_useStepQueue2","startStep","active","isMounted","nextStatus","nextEventHandlers","firstMountChangeRef","undefined","mergedStyle","transition"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-motion/es/hooks/useStatus.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport useState from \"rc-util/es/hooks/useState\";\nimport * as React from 'react';\nimport { useEffect, useRef } from 'react';\nimport { STATUS_APPEAR, STATUS_ENTER, STATUS_LEAVE, STATUS_NONE, STEP_ACTIVE, STEP_PREPARE, STEP_PREPARED, STEP_START } from \"../interface\";\nimport useDomMotionEvents from \"./useDomMotionEvents\";\nimport useIsomorphicLayoutEffect from \"./useIsomorphicLayoutEffect\";\nimport useStepQueue, { DoStep, isActive, SkipStep } from \"./useStepQueue\";\nexport default function useStatus(supportMotion, visible, getElement, _ref) {\n  var _ref$motionEnter = _ref.motionEnter,\n    motionEnter = _ref$motionEnter === void 0 ? true : _ref$motionEnter,\n    _ref$motionAppear = _ref.motionAppear,\n    motionAppear = _ref$motionAppear === void 0 ? true : _ref$motionAppear,\n    _ref$motionLeave = _ref.motionLeave,\n    motionLeave = _ref$motionLeave === void 0 ? true : _ref$motionLeave,\n    motionDeadline = _ref.motionDeadline,\n    motionLeaveImmediately = _ref.motionLeaveImmediately,\n    onAppearPrepare = _ref.onAppearPrepare,\n    onEnterPrepare = _ref.onEnterPrepare,\n    onLeavePrepare = _ref.onLeavePrepare,\n    onAppearStart = _ref.onAppearStart,\n    onEnterStart = _ref.onEnterStart,\n    onLeaveStart = _ref.onLeaveStart,\n    onAppearActive = _ref.onAppearActive,\n    onEnterActive = _ref.onEnterActive,\n    onLeaveActive = _ref.onLeaveActive,\n    onAppearEnd = _ref.onAppearEnd,\n    onEnterEnd = _ref.onEnterEnd,\n    onLeaveEnd = _ref.onLeaveEnd,\n    onVisibleChanged = _ref.onVisibleChanged;\n  // Used for outer render usage to avoid `visible: false & status: none` to render nothing\n  var _useState = useState(),\n    _useState2 = _slicedToArray(_useState, 2),\n    asyncVisible = _useState2[0],\n    setAsyncVisible = _useState2[1];\n  var _useState3 = useState(STATUS_NONE),\n    _useState4 = _slicedToArray(_useState3, 2),\n    status = _useState4[0],\n    setStatus = _useState4[1];\n  var _useState5 = useState(null),\n    _useState6 = _slicedToArray(_useState5, 2),\n    style = _useState6[0],\n    setStyle = _useState6[1];\n  var mountedRef = useRef(false);\n  var deadlineRef = useRef(null);\n\n  // =========================== Dom Node ===========================\n  function getDomElement() {\n    return getElement();\n  }\n\n  // ========================== Motion End ==========================\n  var activeRef = useRef(false);\n\n  /**\n   * Clean up status & style\n   */\n  function updateMotionEndStatus() {\n    setStatus(STATUS_NONE, true);\n    setStyle(null, true);\n  }\n  function onInternalMotionEnd(event) {\n    var element = getDomElement();\n    if (event && !event.deadline && event.target !== element) {\n      // event exists\n      // not initiated by deadline\n      // transitionEnd not fired by inner elements\n      return;\n    }\n    var currentActive = activeRef.current;\n    var canEnd;\n    if (status === STATUS_APPEAR && currentActive) {\n      canEnd = onAppearEnd === null || onAppearEnd === void 0 ? void 0 : onAppearEnd(element, event);\n    } else if (status === STATUS_ENTER && currentActive) {\n      canEnd = onEnterEnd === null || onEnterEnd === void 0 ? void 0 : onEnterEnd(element, event);\n    } else if (status === STATUS_LEAVE && currentActive) {\n      canEnd = onLeaveEnd === null || onLeaveEnd === void 0 ? void 0 : onLeaveEnd(element, event);\n    }\n\n    // Only update status when `canEnd` and not destroyed\n    if (status !== STATUS_NONE && currentActive && canEnd !== false) {\n      updateMotionEndStatus();\n    }\n  }\n  var _useDomMotionEvents = useDomMotionEvents(onInternalMotionEnd),\n    _useDomMotionEvents2 = _slicedToArray(_useDomMotionEvents, 1),\n    patchMotionEvents = _useDomMotionEvents2[0];\n\n  // ============================= Step =============================\n  var getEventHandlers = function getEventHandlers(targetStatus) {\n    var _ref2, _ref3, _ref4;\n    switch (targetStatus) {\n      case STATUS_APPEAR:\n        return _ref2 = {}, _defineProperty(_ref2, STEP_PREPARE, onAppearPrepare), _defineProperty(_ref2, STEP_START, onAppearStart), _defineProperty(_ref2, STEP_ACTIVE, onAppearActive), _ref2;\n      case STATUS_ENTER:\n        return _ref3 = {}, _defineProperty(_ref3, STEP_PREPARE, onEnterPrepare), _defineProperty(_ref3, STEP_START, onEnterStart), _defineProperty(_ref3, STEP_ACTIVE, onEnterActive), _ref3;\n      case STATUS_LEAVE:\n        return _ref4 = {}, _defineProperty(_ref4, STEP_PREPARE, onLeavePrepare), _defineProperty(_ref4, STEP_START, onLeaveStart), _defineProperty(_ref4, STEP_ACTIVE, onLeaveActive), _ref4;\n      default:\n        return {};\n    }\n  };\n  var eventHandlers = React.useMemo(function () {\n    return getEventHandlers(status);\n  }, [status]);\n  var _useStepQueue = useStepQueue(status, !supportMotion, function (newStep) {\n      // Only prepare step can be skip\n      if (newStep === STEP_PREPARE) {\n        var onPrepare = eventHandlers[STEP_PREPARE];\n        if (!onPrepare) {\n          return SkipStep;\n        }\n        return onPrepare(getDomElement());\n      }\n\n      // Rest step is sync update\n      if (step in eventHandlers) {\n        var _eventHandlers$step;\n        setStyle(((_eventHandlers$step = eventHandlers[step]) === null || _eventHandlers$step === void 0 ? void 0 : _eventHandlers$step.call(eventHandlers, getDomElement(), null)) || null);\n      }\n      if (step === STEP_ACTIVE) {\n        // Patch events when motion needed\n        patchMotionEvents(getDomElement());\n        if (motionDeadline > 0) {\n          clearTimeout(deadlineRef.current);\n          deadlineRef.current = setTimeout(function () {\n            onInternalMotionEnd({\n              deadline: true\n            });\n          }, motionDeadline);\n        }\n      }\n      if (step === STEP_PREPARED) {\n        updateMotionEndStatus();\n      }\n      return DoStep;\n    }),\n    _useStepQueue2 = _slicedToArray(_useStepQueue, 2),\n    startStep = _useStepQueue2[0],\n    step = _useStepQueue2[1];\n  var active = isActive(step);\n  activeRef.current = active;\n\n  // ============================ Status ============================\n  // Update with new status\n  useIsomorphicLayoutEffect(function () {\n    setAsyncVisible(visible);\n    var isMounted = mountedRef.current;\n    mountedRef.current = true;\n\n    // if (!supportMotion) {\n    //   return;\n    // }\n\n    var nextStatus;\n\n    // Appear\n    if (!isMounted && visible && motionAppear) {\n      nextStatus = STATUS_APPEAR;\n    }\n\n    // Enter\n    if (isMounted && visible && motionEnter) {\n      nextStatus = STATUS_ENTER;\n    }\n\n    // Leave\n    if (isMounted && !visible && motionLeave || !isMounted && motionLeaveImmediately && !visible && motionLeave) {\n      nextStatus = STATUS_LEAVE;\n    }\n    var nextEventHandlers = getEventHandlers(nextStatus);\n\n    // Update to next status\n    if (nextStatus && (supportMotion || nextEventHandlers[STEP_PREPARE])) {\n      setStatus(nextStatus);\n      startStep();\n    } else {\n      // Set back in case no motion but prev status has prepare step\n      setStatus(STATUS_NONE);\n    }\n  }, [visible]);\n\n  // ============================ Effect ============================\n  // Reset when motion changed\n  useEffect(function () {\n    if (\n    // Cancel appear\n    status === STATUS_APPEAR && !motionAppear ||\n    // Cancel enter\n    status === STATUS_ENTER && !motionEnter ||\n    // Cancel leave\n    status === STATUS_LEAVE && !motionLeave) {\n      setStatus(STATUS_NONE);\n    }\n  }, [motionAppear, motionEnter, motionLeave]);\n  useEffect(function () {\n    return function () {\n      mountedRef.current = false;\n      clearTimeout(deadlineRef.current);\n    };\n  }, []);\n\n  // Trigger `onVisibleChanged`\n  var firstMountChangeRef = React.useRef(false);\n  useEffect(function () {\n    // [visible & motion not end] => [!visible & motion end] still need trigger onVisibleChanged\n    if (asyncVisible) {\n      firstMountChangeRef.current = true;\n    }\n    if (asyncVisible !== undefined && status === STATUS_NONE) {\n      // Skip first render is invisible since it's nothing changed\n      if (firstMountChangeRef.current || asyncVisible) {\n        onVisibleChanged === null || onVisibleChanged === void 0 ? void 0 : onVisibleChanged(asyncVisible);\n      }\n      firstMountChangeRef.current = true;\n    }\n  }, [asyncVisible, status]);\n\n  // ============================ Styles ============================\n  var mergedStyle = style;\n  if (eventHandlers[STEP_PREPARE] && step === STEP_START) {\n    mergedStyle = _objectSpread({\n      transition: 'none'\n    }, mergedStyle);\n  }\n  return [status, step, mergedStyle, asyncVisible !== null && asyncVisible !== void 0 ? asyncVisible : visible];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}