{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/esm/extends\";import _typeof from\"@babel/runtime/helpers/esm/typeof\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import{useContext}from'@rc-component/context';import classNames from'classnames';import VirtualList from'rc-virtual-list';import*as React from'react';import Cell from\"../Cell\";import TableContext,{responseImmutable}from\"../context/TableContext\";import useFlattenRecords from\"../hooks/useFlattenRecords\";import BodyLine from\"./BodyLine\";import{GridContext,StaticContext}from\"./context\";var Grid=/*#__PURE__*/React.forwardRef(function(props,ref){var data=props.data,onScroll=props.onScroll;var _useContext=useContext(TableContext,['flattenColumns','onColumnResize','getRowKey','prefixCls','expandedKeys','childrenColumnName','emptyNode','scrollX']),flattenColumns=_useContext.flattenColumns,onColumnResize=_useContext.onColumnResize,getRowKey=_useContext.getRowKey,expandedKeys=_useContext.expandedKeys,prefixCls=_useContext.prefixCls,childrenColumnName=_useContext.childrenColumnName,emptyNode=_useContext.emptyNode,scrollX=_useContext.scrollX;var _useContext2=useContext(StaticContext),sticky=_useContext2.sticky,scrollY=_useContext2.scrollY,listItemHeight=_useContext2.listItemHeight,getComponent=_useContext2.getComponent;// =========================== Ref ============================\nvar listRef=React.useRef();// =========================== Data ===========================\nvar flattenData=useFlattenRecords(data,childrenColumnName,expandedKeys,getRowKey);// ========================== Column ==========================\nvar columnsWidth=React.useMemo(function(){var total=0;return flattenColumns.map(function(_ref){var width=_ref.width,key=_ref.key;total+=width;return[key,width,total];});},[flattenColumns]);var columnsOffset=React.useMemo(function(){return columnsWidth.map(function(colWidth){return colWidth[2];});},[columnsWidth]);React.useEffect(function(){columnsWidth.forEach(function(_ref2){var _ref3=_slicedToArray(_ref2,2),key=_ref3[0],width=_ref3[1];onColumnResize(key,width);});},[columnsWidth]);// =========================== Ref ============================\nReact.useImperativeHandle(ref,function(){var obj={scrollTo:function scrollTo(config){var _listRef$current;(_listRef$current=listRef.current)===null||_listRef$current===void 0||_listRef$current.scrollTo(config);}};Object.defineProperty(obj,'scrollLeft',{get:function get(){var _listRef$current2;return((_listRef$current2=listRef.current)===null||_listRef$current2===void 0?void 0:_listRef$current2.getScrollInfo().x)||0;},set:function set(value){var _listRef$current3;(_listRef$current3=listRef.current)===null||_listRef$current3===void 0||_listRef$current3.scrollTo({left:value});}});return obj;});// ======================= Col/Row Span =======================\nvar getRowSpan=function getRowSpan(column,index){var _flattenData$index;var record=(_flattenData$index=flattenData[index])===null||_flattenData$index===void 0?void 0:_flattenData$index.record;var onCell=column.onCell;if(onCell){var _cellProps$rowSpan;var cellProps=onCell(record,index);return(_cellProps$rowSpan=cellProps===null||cellProps===void 0?void 0:cellProps.rowSpan)!==null&&_cellProps$rowSpan!==void 0?_cellProps$rowSpan:1;}return 1;};var extraRender=function extraRender(info){var start=info.start,end=info.end,getSize=info.getSize,offsetY=info.offsetY;// Do nothing if no data\nif(end<0){return null;}// Find first rowSpan column\nvar firstRowSpanColumns=flattenColumns.filter(// rowSpan is 0\nfunction(column){return getRowSpan(column,start)===0;});var startIndex=start;var _loop=function _loop(i){firstRowSpanColumns=firstRowSpanColumns.filter(function(column){return getRowSpan(column,i)===0;});if(!firstRowSpanColumns.length){startIndex=i;return 1;// break\n}};for(var i=start;i>=0;i-=1){if(_loop(i))break;}// Find last rowSpan column\nvar lastRowSpanColumns=flattenColumns.filter(// rowSpan is not 1\nfunction(column){return getRowSpan(column,end)!==1;});var endIndex=end;var _loop2=function _loop2(_i){lastRowSpanColumns=lastRowSpanColumns.filter(function(column){return getRowSpan(column,_i)!==1;});if(!lastRowSpanColumns.length){endIndex=Math.max(_i-1,end);return 1;// break\n}};for(var _i=end;_i<flattenData.length;_i+=1){if(_loop2(_i))break;}// Collect the line who has rowSpan\nvar spanLines=[];var _loop3=function _loop3(_i2){var item=flattenData[_i2];// This code will never reach, just incase\nif(!item){return 1;// continue\n}if(flattenColumns.some(function(column){return getRowSpan(column,_i2)>1;})){spanLines.push(_i2);}};for(var _i2=startIndex;_i2<=endIndex;_i2+=1){if(_loop3(_i2))continue;}// Patch extra line on the page\nvar nodes=spanLines.map(function(index){var item=flattenData[index];var rowKey=getRowKey(item.record,index);var getHeight=function getHeight(rowSpan){var endItemIndex=index+rowSpan-1;var endItemKey=getRowKey(flattenData[endItemIndex].record,endItemIndex);var sizeInfo=getSize(rowKey,endItemKey);return sizeInfo.bottom-sizeInfo.top;};var sizeInfo=getSize(rowKey);return/*#__PURE__*/React.createElement(BodyLine,{key:index,data:item,rowKey:rowKey,index:index,style:{top:-offsetY+sizeInfo.top},extra:true,getHeight:getHeight});});return nodes;};// ========================= Context ==========================\nvar gridContext=React.useMemo(function(){return{columnsOffset:columnsOffset};},[columnsOffset]);// ========================== Render ==========================\nvar tblPrefixCls=\"\".concat(prefixCls,\"-tbody\");// default 'div' in rc-virtual-list\nvar wrapperComponent=getComponent(['body','wrapper']);var RowComponent=getComponent(['body','row'],'div');var cellComponent=getComponent(['body','cell'],'div');var bodyContent;if(flattenData.length){// ========================== Sticky Scroll Bar ==========================\nvar horizontalScrollBarStyle={};if(sticky){horizontalScrollBarStyle.position='sticky';horizontalScrollBarStyle.bottom=0;if(_typeof(sticky)==='object'&&sticky.offsetScroll){horizontalScrollBarStyle.bottom=sticky.offsetScroll;}}bodyContent=/*#__PURE__*/React.createElement(VirtualList,{fullHeight:false,ref:listRef,prefixCls:\"\".concat(tblPrefixCls,\"-virtual\"),styles:{horizontalScrollBar:horizontalScrollBarStyle},className:tblPrefixCls,height:scrollY,itemHeight:listItemHeight||24,data:flattenData,itemKey:function itemKey(item){return getRowKey(item.record);},component:wrapperComponent,scrollWidth:scrollX,onVirtualScroll:function onVirtualScroll(_ref4){var x=_ref4.x;onScroll({scrollLeft:x});},extraRender:extraRender},function(item,index,itemProps){var rowKey=getRowKey(item.record,index);return/*#__PURE__*/React.createElement(BodyLine,_extends({data:item,rowKey:rowKey,index:index},itemProps));});}else{bodyContent=/*#__PURE__*/React.createElement(RowComponent,{className:classNames(\"\".concat(prefixCls,\"-placeholder\"))},/*#__PURE__*/React.createElement(Cell,{component:cellComponent,prefixCls:prefixCls},emptyNode));}return/*#__PURE__*/React.createElement(GridContext.Provider,{value:gridContext},bodyContent);});var ResponseGrid=responseImmutable(Grid);if(process.env.NODE_ENV!=='production'){ResponseGrid.displayName='ResponseGrid';}export default ResponseGrid;","map":{"version":3,"names":["_extends","_typeof","_slicedToArray","useContext","classNames","VirtualList","React","Cell","TableContext","responseImmutable","useFlattenRecords","BodyLine","GridContext","StaticContext","Grid","forwardRef","props","ref","data","onScroll","_useContext","flattenColumns","onColumnResize","getRowKey","expandedKeys","prefixCls","childrenColumnName","emptyNode","scrollX","_useContext2","sticky","scrollY","listItemHeight","getComponent","listRef","useRef","flattenData","columnsWidth","useMemo","total","map","_ref","width","key","columnsOffset","colWidth","useEffect","forEach","_ref2","_ref3","useImperativeHandle","obj","scrollTo","config","_listRef$current","current","Object","defineProperty","get","_listRef$current2","getScrollInfo","x","set","value","_listRef$current3","left","getRowSpan","column","index","_flattenData$index","record","onCell","_cellProps$rowSpan","cellProps","rowSpan","extraRender","info","start","end","getSize","offsetY","firstRowSpanColumns","filter","startIndex","_loop","i","length","lastRowSpanColumns","endIndex","_loop2","_i","Math","max","spanLines","_loop3","_i2","item","some","push","nodes","rowKey","getHeight","endItemIndex","endItemKey","sizeInfo","bottom","top","createElement","style","extra","gridContext","tblPrefixCls","concat","wrapperComponent","RowComponent","cellComponent","bodyContent","horizontalScrollBarStyle","position","offsetScroll","fullHeight","styles","horizontalScrollBar","className","height","itemHeight","itemKey","component","scrollWidth","onVirtualScroll","_ref4","scrollLeft","itemProps","Provider","ResponseGrid","process","env","NODE_ENV","displayName"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-table/es/VirtualTable/BodyGrid.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useContext } from '@rc-component/context';\nimport classNames from 'classnames';\nimport VirtualList from 'rc-virtual-list';\nimport * as React from 'react';\nimport Cell from \"../Cell\";\nimport TableContext, { responseImmutable } from \"../context/TableContext\";\nimport useFlattenRecords from \"../hooks/useFlattenRecords\";\nimport BodyLine from \"./BodyLine\";\nimport { GridContext, StaticContext } from \"./context\";\nvar Grid = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  var data = props.data,\n    onScroll = props.onScroll;\n  var _useContext = useContext(TableContext, ['flattenColumns', 'onColumnResize', 'getRowKey', 'prefixCls', 'expandedKeys', 'childrenColumnName', 'emptyNode', 'scrollX']),\n    flattenColumns = _useContext.flattenColumns,\n    onColumnResize = _useContext.onColumnResize,\n    getRowKey = _useContext.getRowKey,\n    expandedKeys = _useContext.expandedKeys,\n    prefixCls = _useContext.prefixCls,\n    childrenColumnName = _useContext.childrenColumnName,\n    emptyNode = _useContext.emptyNode,\n    scrollX = _useContext.scrollX;\n  var _useContext2 = useContext(StaticContext),\n    sticky = _useContext2.sticky,\n    scrollY = _useContext2.scrollY,\n    listItemHeight = _useContext2.listItemHeight,\n    getComponent = _useContext2.getComponent;\n\n  // =========================== Ref ============================\n  var listRef = React.useRef();\n\n  // =========================== Data ===========================\n  var flattenData = useFlattenRecords(data, childrenColumnName, expandedKeys, getRowKey);\n\n  // ========================== Column ==========================\n  var columnsWidth = React.useMemo(function () {\n    var total = 0;\n    return flattenColumns.map(function (_ref) {\n      var width = _ref.width,\n        key = _ref.key;\n      total += width;\n      return [key, width, total];\n    });\n  }, [flattenColumns]);\n  var columnsOffset = React.useMemo(function () {\n    return columnsWidth.map(function (colWidth) {\n      return colWidth[2];\n    });\n  }, [columnsWidth]);\n  React.useEffect(function () {\n    columnsWidth.forEach(function (_ref2) {\n      var _ref3 = _slicedToArray(_ref2, 2),\n        key = _ref3[0],\n        width = _ref3[1];\n      onColumnResize(key, width);\n    });\n  }, [columnsWidth]);\n\n  // =========================== Ref ============================\n  React.useImperativeHandle(ref, function () {\n    var obj = {\n      scrollTo: function scrollTo(config) {\n        var _listRef$current;\n        (_listRef$current = listRef.current) === null || _listRef$current === void 0 || _listRef$current.scrollTo(config);\n      }\n    };\n    Object.defineProperty(obj, 'scrollLeft', {\n      get: function get() {\n        var _listRef$current2;\n        return ((_listRef$current2 = listRef.current) === null || _listRef$current2 === void 0 ? void 0 : _listRef$current2.getScrollInfo().x) || 0;\n      },\n      set: function set(value) {\n        var _listRef$current3;\n        (_listRef$current3 = listRef.current) === null || _listRef$current3 === void 0 || _listRef$current3.scrollTo({\n          left: value\n        });\n      }\n    });\n    return obj;\n  });\n\n  // ======================= Col/Row Span =======================\n  var getRowSpan = function getRowSpan(column, index) {\n    var _flattenData$index;\n    var record = (_flattenData$index = flattenData[index]) === null || _flattenData$index === void 0 ? void 0 : _flattenData$index.record;\n    var onCell = column.onCell;\n    if (onCell) {\n      var _cellProps$rowSpan;\n      var cellProps = onCell(record, index);\n      return (_cellProps$rowSpan = cellProps === null || cellProps === void 0 ? void 0 : cellProps.rowSpan) !== null && _cellProps$rowSpan !== void 0 ? _cellProps$rowSpan : 1;\n    }\n    return 1;\n  };\n  var extraRender = function extraRender(info) {\n    var start = info.start,\n      end = info.end,\n      getSize = info.getSize,\n      offsetY = info.offsetY;\n\n    // Do nothing if no data\n    if (end < 0) {\n      return null;\n    }\n\n    // Find first rowSpan column\n    var firstRowSpanColumns = flattenColumns.filter(\n    // rowSpan is 0\n    function (column) {\n      return getRowSpan(column, start) === 0;\n    });\n    var startIndex = start;\n    var _loop = function _loop(i) {\n      firstRowSpanColumns = firstRowSpanColumns.filter(function (column) {\n        return getRowSpan(column, i) === 0;\n      });\n      if (!firstRowSpanColumns.length) {\n        startIndex = i;\n        return 1; // break\n      }\n    };\n    for (var i = start; i >= 0; i -= 1) {\n      if (_loop(i)) break;\n    }\n\n    // Find last rowSpan column\n    var lastRowSpanColumns = flattenColumns.filter(\n    // rowSpan is not 1\n    function (column) {\n      return getRowSpan(column, end) !== 1;\n    });\n    var endIndex = end;\n    var _loop2 = function _loop2(_i) {\n      lastRowSpanColumns = lastRowSpanColumns.filter(function (column) {\n        return getRowSpan(column, _i) !== 1;\n      });\n      if (!lastRowSpanColumns.length) {\n        endIndex = Math.max(_i - 1, end);\n        return 1; // break\n      }\n    };\n    for (var _i = end; _i < flattenData.length; _i += 1) {\n      if (_loop2(_i)) break;\n    }\n\n    // Collect the line who has rowSpan\n    var spanLines = [];\n    var _loop3 = function _loop3(_i2) {\n      var item = flattenData[_i2];\n\n      // This code will never reach, just incase\n      if (!item) {\n        return 1; // continue\n      }\n      if (flattenColumns.some(function (column) {\n        return getRowSpan(column, _i2) > 1;\n      })) {\n        spanLines.push(_i2);\n      }\n    };\n    for (var _i2 = startIndex; _i2 <= endIndex; _i2 += 1) {\n      if (_loop3(_i2)) continue;\n    }\n\n    // Patch extra line on the page\n    var nodes = spanLines.map(function (index) {\n      var item = flattenData[index];\n      var rowKey = getRowKey(item.record, index);\n      var getHeight = function getHeight(rowSpan) {\n        var endItemIndex = index + rowSpan - 1;\n        var endItemKey = getRowKey(flattenData[endItemIndex].record, endItemIndex);\n        var sizeInfo = getSize(rowKey, endItemKey);\n        return sizeInfo.bottom - sizeInfo.top;\n      };\n      var sizeInfo = getSize(rowKey);\n      return /*#__PURE__*/React.createElement(BodyLine, {\n        key: index,\n        data: item,\n        rowKey: rowKey,\n        index: index,\n        style: {\n          top: -offsetY + sizeInfo.top\n        },\n        extra: true,\n        getHeight: getHeight\n      });\n    });\n    return nodes;\n  };\n\n  // ========================= Context ==========================\n  var gridContext = React.useMemo(function () {\n    return {\n      columnsOffset: columnsOffset\n    };\n  }, [columnsOffset]);\n\n  // ========================== Render ==========================\n  var tblPrefixCls = \"\".concat(prefixCls, \"-tbody\");\n\n  // default 'div' in rc-virtual-list\n  var wrapperComponent = getComponent(['body', 'wrapper']);\n  var RowComponent = getComponent(['body', 'row'], 'div');\n  var cellComponent = getComponent(['body', 'cell'], 'div');\n  var bodyContent;\n  if (flattenData.length) {\n    // ========================== Sticky Scroll Bar ==========================\n    var horizontalScrollBarStyle = {};\n    if (sticky) {\n      horizontalScrollBarStyle.position = 'sticky';\n      horizontalScrollBarStyle.bottom = 0;\n      if (_typeof(sticky) === 'object' && sticky.offsetScroll) {\n        horizontalScrollBarStyle.bottom = sticky.offsetScroll;\n      }\n    }\n    bodyContent = /*#__PURE__*/React.createElement(VirtualList, {\n      fullHeight: false,\n      ref: listRef,\n      prefixCls: \"\".concat(tblPrefixCls, \"-virtual\"),\n      styles: {\n        horizontalScrollBar: horizontalScrollBarStyle\n      },\n      className: tblPrefixCls,\n      height: scrollY,\n      itemHeight: listItemHeight || 24,\n      data: flattenData,\n      itemKey: function itemKey(item) {\n        return getRowKey(item.record);\n      },\n      component: wrapperComponent,\n      scrollWidth: scrollX,\n      onVirtualScroll: function onVirtualScroll(_ref4) {\n        var x = _ref4.x;\n        onScroll({\n          scrollLeft: x\n        });\n      },\n      extraRender: extraRender\n    }, function (item, index, itemProps) {\n      var rowKey = getRowKey(item.record, index);\n      return /*#__PURE__*/React.createElement(BodyLine, _extends({\n        data: item,\n        rowKey: rowKey,\n        index: index\n      }, itemProps));\n    });\n  } else {\n    bodyContent = /*#__PURE__*/React.createElement(RowComponent, {\n      className: classNames(\"\".concat(prefixCls, \"-placeholder\"))\n    }, /*#__PURE__*/React.createElement(Cell, {\n      component: cellComponent,\n      prefixCls: prefixCls\n    }, emptyNode));\n  }\n  return /*#__PURE__*/React.createElement(GridContext.Provider, {\n    value: gridContext\n  }, bodyContent);\n});\nvar ResponseGrid = responseImmutable(Grid);\nif (process.env.NODE_ENV !== 'production') {\n  ResponseGrid.displayName = 'ResponseGrid';\n}\nexport default ResponseGrid;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}