{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _typeof from\"@babel/runtime/helpers/esm/typeof\";/* eslint-disable react/default-props-match-prop-types, react/no-multi-comp, react/prop-types */import classNames from'classnames';import findDOMNode from\"rc-util/es/Dom/findDOMNode\";import{fillRef,supportRef}from\"rc-util/es/ref\";import*as React from'react';import{useRef}from'react';import{Context}from\"./context\";import DomWrapper from\"./DomWrapper\";import useStatus from\"./hooks/useStatus\";import{isActive}from\"./hooks/useStepQueue\";import{STATUS_NONE,STEP_PREPARE,STEP_START}from\"./interface\";import{getTransitionName,supportTransition}from\"./util/motion\";/**\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */export function genCSSMotion(config){var transitionSupport=config;if(_typeof(config)==='object'){transitionSupport=config.transitionSupport;}function isSupportTransition(props,contextMotion){return!!(props.motionName&&transitionSupport&&contextMotion!==false);}var CSSMotion=/*#__PURE__*/React.forwardRef(function(props,ref){var _props$visible=props.visible,visible=_props$visible===void 0?true:_props$visible,_props$removeOnLeave=props.removeOnLeave,removeOnLeave=_props$removeOnLeave===void 0?true:_props$removeOnLeave,forceRender=props.forceRender,children=props.children,motionName=props.motionName,leavedClassName=props.leavedClassName,eventProps=props.eventProps;var _React$useContext=React.useContext(Context),contextMotion=_React$useContext.motion;var supportMotion=isSupportTransition(props,contextMotion);// Ref to the react node, it may be a HTMLElement\nvar nodeRef=useRef();// Ref to the dom wrapper in case ref can not pass to HTMLElement\nvar wrapperNodeRef=useRef();function getDomElement(){try{// Here we're avoiding call for findDOMNode since it's deprecated\n// in strict mode. We're calling it only when node ref is not\n// an instance of DOM HTMLElement. Otherwise use\n// findDOMNode as a final resort\nreturn nodeRef.current instanceof HTMLElement?nodeRef.current:findDOMNode(wrapperNodeRef.current);}catch(e){// Only happen when `motionDeadline` trigger but element removed.\nreturn null;}}var _useStatus=useStatus(supportMotion,visible,getDomElement,props),_useStatus2=_slicedToArray(_useStatus,4),status=_useStatus2[0],statusStep=_useStatus2[1],statusStyle=_useStatus2[2],mergedVisible=_useStatus2[3];// Record whether content has rendered\n// Will return null for un-rendered even when `removeOnLeave={false}`\nvar renderedRef=React.useRef(mergedVisible);if(mergedVisible){renderedRef.current=true;}// ====================== Refs ======================\nvar setNodeRef=React.useCallback(function(node){nodeRef.current=node;fillRef(ref,node);},[ref]);// ===================== Render =====================\nvar motionChildren;var mergedProps=_objectSpread(_objectSpread({},eventProps),{},{visible:visible});if(!children){// No children\nmotionChildren=null;}else if(status===STATUS_NONE){// Stable children\nif(mergedVisible){motionChildren=children(_objectSpread({},mergedProps),setNodeRef);}else if(!removeOnLeave&&renderedRef.current&&leavedClassName){motionChildren=children(_objectSpread(_objectSpread({},mergedProps),{},{className:leavedClassName}),setNodeRef);}else if(forceRender||!removeOnLeave&&!leavedClassName){motionChildren=children(_objectSpread(_objectSpread({},mergedProps),{},{style:{display:'none'}}),setNodeRef);}else{motionChildren=null;}}else{var _classNames;// In motion\nvar statusSuffix;if(statusStep===STEP_PREPARE){statusSuffix='prepare';}else if(isActive(statusStep)){statusSuffix='active';}else if(statusStep===STEP_START){statusSuffix='start';}var motionCls=getTransitionName(motionName,\"\".concat(status,\"-\").concat(statusSuffix));motionChildren=children(_objectSpread(_objectSpread({},mergedProps),{},{className:classNames(getTransitionName(motionName,status),(_classNames={},_defineProperty(_classNames,motionCls,motionCls&&statusSuffix),_defineProperty(_classNames,motionName,typeof motionName==='string'),_classNames)),style:statusStyle}),setNodeRef);}// Auto inject ref if child node not have `ref` props\nif(/*#__PURE__*/ /*#__PURE__*/React.isValidElement(motionChildren)&&supportRef(motionChildren)){var _ref=motionChildren,originNodeRef=_ref.ref;if(!originNodeRef){motionChildren=/*#__PURE__*/React.cloneElement(motionChildren,{ref:setNodeRef});}}return/*#__PURE__*/React.createElement(DomWrapper,{ref:wrapperNodeRef},motionChildren);});CSSMotion.displayName='CSSMotion';return CSSMotion;}export default genCSSMotion(supportTransition);","map":{"version":3,"names":["_defineProperty","_objectSpread","_slicedToArray","_typeof","classNames","findDOMNode","fillRef","supportRef","React","useRef","Context","DomWrapper","useStatus","isActive","STATUS_NONE","STEP_PREPARE","STEP_START","getTransitionName","supportTransition","genCSSMotion","config","transitionSupport","isSupportTransition","props","contextMotion","motionName","CSSMotion","forwardRef","ref","_props$visible","visible","_props$removeOnLeave","removeOnLeave","forceRender","children","leavedClassName","eventProps","_React$useContext","useContext","motion","supportMotion","nodeRef","wrapperNodeRef","getDomElement","current","HTMLElement","e","_useStatus","_useStatus2","status","statusStep","statusStyle","mergedVisible","renderedRef","setNodeRef","useCallback","node","motionChildren","mergedProps","className","style","display","_classNames","statusSuffix","motionCls","concat","isValidElement","_ref","originNodeRef","cloneElement","createElement","displayName"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-motion/es/CSSMotion.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _typeof from \"@babel/runtime/helpers/esm/typeof\";\n/* eslint-disable react/default-props-match-prop-types, react/no-multi-comp, react/prop-types */\nimport classNames from 'classnames';\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport { fillRef, supportRef } from \"rc-util/es/ref\";\nimport * as React from 'react';\nimport { useRef } from 'react';\nimport { Context } from \"./context\";\nimport DomWrapper from \"./DomWrapper\";\nimport useStatus from \"./hooks/useStatus\";\nimport { isActive } from \"./hooks/useStepQueue\";\nimport { STATUS_NONE, STEP_PREPARE, STEP_START } from \"./interface\";\nimport { getTransitionName, supportTransition } from \"./util/motion\";\n/**\n * `transitionSupport` is used for none transition test case.\n * Default we use browser transition event support check.\n */\nexport function genCSSMotion(config) {\n  var transitionSupport = config;\n  if (_typeof(config) === 'object') {\n    transitionSupport = config.transitionSupport;\n  }\n  function isSupportTransition(props, contextMotion) {\n    return !!(props.motionName && transitionSupport && contextMotion !== false);\n  }\n  var CSSMotion = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$visible = props.visible,\n      visible = _props$visible === void 0 ? true : _props$visible,\n      _props$removeOnLeave = props.removeOnLeave,\n      removeOnLeave = _props$removeOnLeave === void 0 ? true : _props$removeOnLeave,\n      forceRender = props.forceRender,\n      children = props.children,\n      motionName = props.motionName,\n      leavedClassName = props.leavedClassName,\n      eventProps = props.eventProps;\n    var _React$useContext = React.useContext(Context),\n      contextMotion = _React$useContext.motion;\n    var supportMotion = isSupportTransition(props, contextMotion);\n\n    // Ref to the react node, it may be a HTMLElement\n    var nodeRef = useRef();\n    // Ref to the dom wrapper in case ref can not pass to HTMLElement\n    var wrapperNodeRef = useRef();\n    function getDomElement() {\n      try {\n        // Here we're avoiding call for findDOMNode since it's deprecated\n        // in strict mode. We're calling it only when node ref is not\n        // an instance of DOM HTMLElement. Otherwise use\n        // findDOMNode as a final resort\n        return nodeRef.current instanceof HTMLElement ? nodeRef.current : findDOMNode(wrapperNodeRef.current);\n      } catch (e) {\n        // Only happen when `motionDeadline` trigger but element removed.\n        return null;\n      }\n    }\n    var _useStatus = useStatus(supportMotion, visible, getDomElement, props),\n      _useStatus2 = _slicedToArray(_useStatus, 4),\n      status = _useStatus2[0],\n      statusStep = _useStatus2[1],\n      statusStyle = _useStatus2[2],\n      mergedVisible = _useStatus2[3];\n\n    // Record whether content has rendered\n    // Will return null for un-rendered even when `removeOnLeave={false}`\n    var renderedRef = React.useRef(mergedVisible);\n    if (mergedVisible) {\n      renderedRef.current = true;\n    }\n\n    // ====================== Refs ======================\n    var setNodeRef = React.useCallback(function (node) {\n      nodeRef.current = node;\n      fillRef(ref, node);\n    }, [ref]);\n\n    // ===================== Render =====================\n    var motionChildren;\n    var mergedProps = _objectSpread(_objectSpread({}, eventProps), {}, {\n      visible: visible\n    });\n    if (!children) {\n      // No children\n      motionChildren = null;\n    } else if (status === STATUS_NONE) {\n      // Stable children\n      if (mergedVisible) {\n        motionChildren = children(_objectSpread({}, mergedProps), setNodeRef);\n      } else if (!removeOnLeave && renderedRef.current && leavedClassName) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          className: leavedClassName\n        }), setNodeRef);\n      } else if (forceRender || !removeOnLeave && !leavedClassName) {\n        motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n          style: {\n            display: 'none'\n          }\n        }), setNodeRef);\n      } else {\n        motionChildren = null;\n      }\n    } else {\n      var _classNames;\n      // In motion\n      var statusSuffix;\n      if (statusStep === STEP_PREPARE) {\n        statusSuffix = 'prepare';\n      } else if (isActive(statusStep)) {\n        statusSuffix = 'active';\n      } else if (statusStep === STEP_START) {\n        statusSuffix = 'start';\n      }\n      var motionCls = getTransitionName(motionName, \"\".concat(status, \"-\").concat(statusSuffix));\n      motionChildren = children(_objectSpread(_objectSpread({}, mergedProps), {}, {\n        className: classNames(getTransitionName(motionName, status), (_classNames = {}, _defineProperty(_classNames, motionCls, motionCls && statusSuffix), _defineProperty(_classNames, motionName, typeof motionName === 'string'), _classNames)),\n        style: statusStyle\n      }), setNodeRef);\n    }\n\n    // Auto inject ref if child node not have `ref` props\n    if ( /*#__PURE__*/React.isValidElement(motionChildren) && supportRef(motionChildren)) {\n      var _ref = motionChildren,\n        originNodeRef = _ref.ref;\n      if (!originNodeRef) {\n        motionChildren = /*#__PURE__*/React.cloneElement(motionChildren, {\n          ref: setNodeRef\n        });\n      }\n    }\n    return /*#__PURE__*/React.createElement(DomWrapper, {\n      ref: wrapperNodeRef\n    }, motionChildren);\n  });\n  CSSMotion.displayName = 'CSSMotion';\n  return CSSMotion;\n}\nexport default genCSSMotion(supportTransition);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}