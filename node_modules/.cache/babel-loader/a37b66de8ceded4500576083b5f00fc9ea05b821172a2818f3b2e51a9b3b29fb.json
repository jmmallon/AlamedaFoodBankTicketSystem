{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import{useEvent,useMergedState}from'rc-util';import raf from\"rc-util/es/raf\";import React from'react';/**\n * Will be `true` immediately for next effect.\n * But will be `false` for a delay of effect.\n */export default function useDelayState(value,defaultValue,onChange){var _useMergedState=useMergedState(defaultValue,{value:value}),_useMergedState2=_slicedToArray(_useMergedState,2),state=_useMergedState2[0],setState=_useMergedState2[1];var nextValueRef=React.useRef(value);// ============================= Update =============================\nvar rafRef=React.useRef();var cancelRaf=function cancelRaf(){raf.cancel(rafRef.current);};var doUpdate=useEvent(function(){setState(nextValueRef.current);if(onChange&&state!==nextValueRef.current){onChange(nextValueRef.current);}});var updateValue=useEvent(function(next,immediately){cancelRaf();nextValueRef.current=next;if(next||immediately){doUpdate();}else{rafRef.current=raf(doUpdate);}});React.useEffect(function(){return cancelRaf;},[]);return[state,updateValue];}","map":{"version":3,"names":["_slicedToArray","useEvent","useMergedState","raf","React","useDelayState","value","defaultValue","onChange","_useMergedState","_useMergedState2","state","setState","nextValueRef","useRef","rafRef","cancelRaf","cancel","current","doUpdate","updateValue","next","immediately","useEffect"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-picker/es/PickerInput/hooks/useDelayState.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEvent, useMergedState } from 'rc-util';\nimport raf from \"rc-util/es/raf\";\nimport React from 'react';\n\n/**\n * Will be `true` immediately for next effect.\n * But will be `false` for a delay of effect.\n */\nexport default function useDelayState(value, defaultValue, onChange) {\n  var _useMergedState = useMergedState(defaultValue, {\n      value: value\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    state = _useMergedState2[0],\n    setState = _useMergedState2[1];\n  var nextValueRef = React.useRef(value);\n\n  // ============================= Update =============================\n  var rafRef = React.useRef();\n  var cancelRaf = function cancelRaf() {\n    raf.cancel(rafRef.current);\n  };\n  var doUpdate = useEvent(function () {\n    setState(nextValueRef.current);\n    if (onChange && state !== nextValueRef.current) {\n      onChange(nextValueRef.current);\n    }\n  });\n  var updateValue = useEvent(function (next, immediately) {\n    cancelRaf();\n    nextValueRef.current = next;\n    if (next || immediately) {\n      doUpdate();\n    } else {\n      rafRef.current = raf(doUpdate);\n    }\n  });\n  React.useEffect(function () {\n    return cancelRaf;\n  }, []);\n  return [state, updateValue];\n}"],"mappings":"AAAA,MAAO,CAAAA,cAAc,KAAM,0CAA0C,CACrE,OAASC,QAAQ,CAAEC,cAAc,KAAQ,SAAS,CAClD,MAAO,CAAAC,GAAG,KAAM,gBAAgB,CAChC,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB;AACA;AACA;AACA,GACA,cAAe,SAAS,CAAAC,aAAaA,CAACC,KAAK,CAAEC,YAAY,CAAEC,QAAQ,CAAE,CACnE,GAAI,CAAAC,eAAe,CAAGP,cAAc,CAACK,YAAY,CAAE,CAC/CD,KAAK,CAAEA,KACT,CAAC,CAAC,CACFI,gBAAgB,CAAGV,cAAc,CAACS,eAAe,CAAE,CAAC,CAAC,CACrDE,KAAK,CAAGD,gBAAgB,CAAC,CAAC,CAAC,CAC3BE,QAAQ,CAAGF,gBAAgB,CAAC,CAAC,CAAC,CAChC,GAAI,CAAAG,YAAY,CAAGT,KAAK,CAACU,MAAM,CAACR,KAAK,CAAC,CAEtC;AACA,GAAI,CAAAS,MAAM,CAAGX,KAAK,CAACU,MAAM,CAAC,CAAC,CAC3B,GAAI,CAAAE,SAAS,CAAG,QAAS,CAAAA,SAASA,CAAA,CAAG,CACnCb,GAAG,CAACc,MAAM,CAACF,MAAM,CAACG,OAAO,CAAC,CAC5B,CAAC,CACD,GAAI,CAAAC,QAAQ,CAAGlB,QAAQ,CAAC,UAAY,CAClCW,QAAQ,CAACC,YAAY,CAACK,OAAO,CAAC,CAC9B,GAAIV,QAAQ,EAAIG,KAAK,GAAKE,YAAY,CAACK,OAAO,CAAE,CAC9CV,QAAQ,CAACK,YAAY,CAACK,OAAO,CAAC,CAChC,CACF,CAAC,CAAC,CACF,GAAI,CAAAE,WAAW,CAAGnB,QAAQ,CAAC,SAAUoB,IAAI,CAAEC,WAAW,CAAE,CACtDN,SAAS,CAAC,CAAC,CACXH,YAAY,CAACK,OAAO,CAAGG,IAAI,CAC3B,GAAIA,IAAI,EAAIC,WAAW,CAAE,CACvBH,QAAQ,CAAC,CAAC,CACZ,CAAC,IAAM,CACLJ,MAAM,CAACG,OAAO,CAAGf,GAAG,CAACgB,QAAQ,CAAC,CAChC,CACF,CAAC,CAAC,CACFf,KAAK,CAACmB,SAAS,CAAC,UAAY,CAC1B,MAAO,CAAAP,SAAS,CAClB,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAACL,KAAK,CAAES,WAAW,CAAC,CAC7B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}