{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/esm/extends\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";/* eslint-disable react/no-unknown-property */import*as React from'react';import classNames from'classnames';import useMobile from\"rc-util/es/hooks/useMobile\";import raf from\"rc-util/es/raf\";/**\n * When click and hold on a button - the speed of auto changing the value.\n */var STEP_INTERVAL=200;/**\n * When click and hold on a button - the delay before auto changing the value.\n */var STEP_DELAY=600;export default function StepHandler(_ref){var prefixCls=_ref.prefixCls,upNode=_ref.upNode,downNode=_ref.downNode,upDisabled=_ref.upDisabled,downDisabled=_ref.downDisabled,onStep=_ref.onStep;// ======================== Step ========================\nvar stepTimeoutRef=React.useRef();var frameIds=React.useRef([]);var onStepRef=React.useRef();onStepRef.current=onStep;var onStopStep=function onStopStep(){clearTimeout(stepTimeoutRef.current);};// We will interval update step when hold mouse down\nvar onStepMouseDown=function onStepMouseDown(e,up){e.preventDefault();onStopStep();onStepRef.current(up);// Loop step for interval\nfunction loopStep(){onStepRef.current(up);stepTimeoutRef.current=setTimeout(loopStep,STEP_INTERVAL);}// First time press will wait some time to trigger loop step update\nstepTimeoutRef.current=setTimeout(loopStep,STEP_DELAY);};React.useEffect(function(){return function(){onStopStep();frameIds.current.forEach(function(id){return raf.cancel(id);});};},[]);// ======================= Render =======================\nvar isMobile=useMobile();if(isMobile){return null;}var handlerClassName=\"\".concat(prefixCls,\"-handler\");var upClassName=classNames(handlerClassName,\"\".concat(handlerClassName,\"-up\"),_defineProperty({},\"\".concat(handlerClassName,\"-up-disabled\"),upDisabled));var downClassName=classNames(handlerClassName,\"\".concat(handlerClassName,\"-down\"),_defineProperty({},\"\".concat(handlerClassName,\"-down-disabled\"),downDisabled));// fix: https://github.com/ant-design/ant-design/issues/43088\n// In Safari, When we fire onmousedown and onmouseup events in quick succession, \n// there may be a problem that the onmouseup events are executed first, \n// resulting in a disordered program execution.\n// So, we need to use requestAnimationFrame to ensure that the onmouseup event is executed after the onmousedown event.\nvar safeOnStopStep=function safeOnStopStep(){return frameIds.current.push(raf(onStopStep));};var sharedHandlerProps={unselectable:'on',role:'button',onMouseUp:safeOnStopStep,onMouseLeave:safeOnStopStep};return/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(handlerClassName,\"-wrap\")},/*#__PURE__*/React.createElement(\"span\",_extends({},sharedHandlerProps,{onMouseDown:function onMouseDown(e){onStepMouseDown(e,true);},\"aria-label\":\"Increase Value\",\"aria-disabled\":upDisabled,className:upClassName}),upNode||/*#__PURE__*/React.createElement(\"span\",{unselectable:\"on\",className:\"\".concat(prefixCls,\"-handler-up-inner\")})),/*#__PURE__*/React.createElement(\"span\",_extends({},sharedHandlerProps,{onMouseDown:function onMouseDown(e){onStepMouseDown(e,false);},\"aria-label\":\"Decrease Value\",\"aria-disabled\":downDisabled,className:downClassName}),downNode||/*#__PURE__*/React.createElement(\"span\",{unselectable:\"on\",className:\"\".concat(prefixCls,\"-handler-down-inner\")})));}","map":{"version":3,"names":["_extends","_defineProperty","React","classNames","useMobile","raf","STEP_INTERVAL","STEP_DELAY","StepHandler","_ref","prefixCls","upNode","downNode","upDisabled","downDisabled","onStep","stepTimeoutRef","useRef","frameIds","onStepRef","current","onStopStep","clearTimeout","onStepMouseDown","e","up","preventDefault","loopStep","setTimeout","useEffect","forEach","id","cancel","isMobile","handlerClassName","concat","upClassName","downClassName","safeOnStopStep","push","sharedHandlerProps","unselectable","role","onMouseUp","onMouseLeave","createElement","className","onMouseDown"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-input-number/es/StepHandler.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n/* eslint-disable react/no-unknown-property */\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport useMobile from \"rc-util/es/hooks/useMobile\";\nimport raf from \"rc-util/es/raf\";\n\n/**\n * When click and hold on a button - the speed of auto changing the value.\n */\nvar STEP_INTERVAL = 200;\n\n/**\n * When click and hold on a button - the delay before auto changing the value.\n */\nvar STEP_DELAY = 600;\nexport default function StepHandler(_ref) {\n  var prefixCls = _ref.prefixCls,\n    upNode = _ref.upNode,\n    downNode = _ref.downNode,\n    upDisabled = _ref.upDisabled,\n    downDisabled = _ref.downDisabled,\n    onStep = _ref.onStep;\n  // ======================== Step ========================\n  var stepTimeoutRef = React.useRef();\n  var frameIds = React.useRef([]);\n  var onStepRef = React.useRef();\n  onStepRef.current = onStep;\n  var onStopStep = function onStopStep() {\n    clearTimeout(stepTimeoutRef.current);\n  };\n\n  // We will interval update step when hold mouse down\n  var onStepMouseDown = function onStepMouseDown(e, up) {\n    e.preventDefault();\n    onStopStep();\n    onStepRef.current(up);\n\n    // Loop step for interval\n    function loopStep() {\n      onStepRef.current(up);\n      stepTimeoutRef.current = setTimeout(loopStep, STEP_INTERVAL);\n    }\n\n    // First time press will wait some time to trigger loop step update\n    stepTimeoutRef.current = setTimeout(loopStep, STEP_DELAY);\n  };\n  React.useEffect(function () {\n    return function () {\n      onStopStep();\n      frameIds.current.forEach(function (id) {\n        return raf.cancel(id);\n      });\n    };\n  }, []);\n\n  // ======================= Render =======================\n  var isMobile = useMobile();\n  if (isMobile) {\n    return null;\n  }\n  var handlerClassName = \"\".concat(prefixCls, \"-handler\");\n  var upClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-up\"), _defineProperty({}, \"\".concat(handlerClassName, \"-up-disabled\"), upDisabled));\n  var downClassName = classNames(handlerClassName, \"\".concat(handlerClassName, \"-down\"), _defineProperty({}, \"\".concat(handlerClassName, \"-down-disabled\"), downDisabled));\n\n  // fix: https://github.com/ant-design/ant-design/issues/43088\n  // In Safari, When we fire onmousedown and onmouseup events in quick succession, \n  // there may be a problem that the onmouseup events are executed first, \n  // resulting in a disordered program execution.\n  // So, we need to use requestAnimationFrame to ensure that the onmouseup event is executed after the onmousedown event.\n  var safeOnStopStep = function safeOnStopStep() {\n    return frameIds.current.push(raf(onStopStep));\n  };\n  var sharedHandlerProps = {\n    unselectable: 'on',\n    role: 'button',\n    onMouseUp: safeOnStopStep,\n    onMouseLeave: safeOnStopStep\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"\".concat(handlerClassName, \"-wrap\")\n  }, /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, true);\n    },\n    \"aria-label\": \"Increase Value\",\n    \"aria-disabled\": upDisabled,\n    className: upClassName\n  }), upNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-up-inner\")\n  })), /*#__PURE__*/React.createElement(\"span\", _extends({}, sharedHandlerProps, {\n    onMouseDown: function onMouseDown(e) {\n      onStepMouseDown(e, false);\n    },\n    \"aria-label\": \"Decrease Value\",\n    \"aria-disabled\": downDisabled,\n    className: downClassName\n  }), downNode || /*#__PURE__*/React.createElement(\"span\", {\n    unselectable: \"on\",\n    className: \"\".concat(prefixCls, \"-handler-down-inner\")\n  })));\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}