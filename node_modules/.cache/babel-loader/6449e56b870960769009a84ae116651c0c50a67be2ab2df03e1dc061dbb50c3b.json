{"ast":null,"code":"import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"prefixCls\",\"children\",\"action\",\"showAction\",\"hideAction\",\"popupVisible\",\"defaultPopupVisible\",\"onPopupVisibleChange\",\"afterPopupVisibleChange\",\"mouseEnterDelay\",\"mouseLeaveDelay\",\"focusDelay\",\"blurDelay\",\"mask\",\"maskClosable\",\"getPopupContainer\",\"forceRender\",\"autoDestroy\",\"destroyPopupOnHide\",\"popup\",\"popupClassName\",\"popupStyle\",\"popupPlacement\",\"builtinPlacements\",\"popupAlign\",\"zIndex\",\"stretch\",\"getPopupClassNameFromAlign\",\"fresh\",\"alignPoint\",\"onPopupClick\",\"onPopupAlign\",\"arrow\",\"popupMotion\",\"maskMotion\",\"popupTransitionName\",\"popupAnimation\",\"maskTransitionName\",\"maskAnimation\",\"className\",\"getTriggerDOMNode\"];import Portal from'@rc-component/portal';import classNames from'classnames';import ResizeObserver from'rc-resize-observer';import{isDOM}from\"rc-util/es/Dom/findDOMNode\";import{getShadowRoot}from\"rc-util/es/Dom/shadow\";import useEvent from\"rc-util/es/hooks/useEvent\";import useId from\"rc-util/es/hooks/useId\";import useLayoutEffect from\"rc-util/es/hooks/useLayoutEffect\";import isMobile from\"rc-util/es/isMobile\";import*as React from'react';import Popup from\"./Popup\";import TriggerWrapper from\"./TriggerWrapper\";import TriggerContext from\"./context\";import useAction from\"./hooks/useAction\";import useAlign from\"./hooks/useAlign\";import useWatch from\"./hooks/useWatch\";import useWinClick from\"./hooks/useWinClick\";import{getAlignPopupClassName,getMotion}from\"./util\";// Removed Props List\n// Seems this can be auto\n// getDocument?: (element?: HTMLElement) => Document;\n// New version will not wrap popup with `rc-trigger-popup-content` when multiple children\nexport function generateTrigger(){var PortalComponent=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Portal;var Trigger=/*#__PURE__*/React.forwardRef(function(props,ref){var _props$prefixCls=props.prefixCls,prefixCls=_props$prefixCls===void 0?'rc-trigger-popup':_props$prefixCls,children=props.children,_props$action=props.action,action=_props$action===void 0?'hover':_props$action,showAction=props.showAction,hideAction=props.hideAction,popupVisible=props.popupVisible,defaultPopupVisible=props.defaultPopupVisible,onPopupVisibleChange=props.onPopupVisibleChange,afterPopupVisibleChange=props.afterPopupVisibleChange,mouseEnterDelay=props.mouseEnterDelay,_props$mouseLeaveDela=props.mouseLeaveDelay,mouseLeaveDelay=_props$mouseLeaveDela===void 0?0.1:_props$mouseLeaveDela,focusDelay=props.focusDelay,blurDelay=props.blurDelay,mask=props.mask,_props$maskClosable=props.maskClosable,maskClosable=_props$maskClosable===void 0?true:_props$maskClosable,getPopupContainer=props.getPopupContainer,forceRender=props.forceRender,autoDestroy=props.autoDestroy,destroyPopupOnHide=props.destroyPopupOnHide,popup=props.popup,popupClassName=props.popupClassName,popupStyle=props.popupStyle,popupPlacement=props.popupPlacement,_props$builtinPlaceme=props.builtinPlacements,builtinPlacements=_props$builtinPlaceme===void 0?{}:_props$builtinPlaceme,popupAlign=props.popupAlign,zIndex=props.zIndex,stretch=props.stretch,getPopupClassNameFromAlign=props.getPopupClassNameFromAlign,fresh=props.fresh,alignPoint=props.alignPoint,onPopupClick=props.onPopupClick,onPopupAlign=props.onPopupAlign,arrow=props.arrow,popupMotion=props.popupMotion,maskMotion=props.maskMotion,popupTransitionName=props.popupTransitionName,popupAnimation=props.popupAnimation,maskTransitionName=props.maskTransitionName,maskAnimation=props.maskAnimation,className=props.className,getTriggerDOMNode=props.getTriggerDOMNode,restProps=_objectWithoutProperties(props,_excluded);var mergedAutoDestroy=autoDestroy||destroyPopupOnHide||false;// =========================== Mobile ===========================\nvar _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),mobile=_React$useState2[0],setMobile=_React$useState2[1];useLayoutEffect(function(){setMobile(isMobile());},[]);// ========================== Context ===========================\nvar subPopupElements=React.useRef({});var parentContext=React.useContext(TriggerContext);var context=React.useMemo(function(){return{registerSubPopup:function registerSubPopup(id,subPopupEle){subPopupElements.current[id]=subPopupEle;parentContext===null||parentContext===void 0||parentContext.registerSubPopup(id,subPopupEle);}};},[parentContext]);// =========================== Popup ============================\nvar id=useId();var _React$useState3=React.useState(null),_React$useState4=_slicedToArray(_React$useState3,2),popupEle=_React$useState4[0],setPopupEle=_React$useState4[1];var setPopupRef=useEvent(function(node){if(isDOM(node)&&popupEle!==node){setPopupEle(node);}parentContext===null||parentContext===void 0||parentContext.registerSubPopup(id,node);});// =========================== Target ===========================\n// Use state to control here since `useRef` update not trigger render\nvar _React$useState5=React.useState(null),_React$useState6=_slicedToArray(_React$useState5,2),targetEle=_React$useState6[0],setTargetEle=_React$useState6[1];// Used for forwardRef target. Not use internal\nvar externalForwardRef=React.useRef(null);var setTargetRef=useEvent(function(node){if(isDOM(node)&&targetEle!==node){setTargetEle(node);externalForwardRef.current=node;}});// ========================== Children ==========================\nvar child=React.Children.only(children);var originChildProps=(child===null||child===void 0?void 0:child.props)||{};var cloneProps={};var inPopupOrChild=useEvent(function(ele){var _getShadowRoot,_getShadowRoot2;var childDOM=targetEle;return(childDOM===null||childDOM===void 0?void 0:childDOM.contains(ele))||((_getShadowRoot=getShadowRoot(childDOM))===null||_getShadowRoot===void 0?void 0:_getShadowRoot.host)===ele||ele===childDOM||(popupEle===null||popupEle===void 0?void 0:popupEle.contains(ele))||((_getShadowRoot2=getShadowRoot(popupEle))===null||_getShadowRoot2===void 0?void 0:_getShadowRoot2.host)===ele||ele===popupEle||Object.values(subPopupElements.current).some(function(subPopupEle){return(subPopupEle===null||subPopupEle===void 0?void 0:subPopupEle.contains(ele))||ele===subPopupEle;});});// =========================== Motion ===========================\nvar mergePopupMotion=getMotion(prefixCls,popupMotion,popupAnimation,popupTransitionName);var mergeMaskMotion=getMotion(prefixCls,maskMotion,maskAnimation,maskTransitionName);// ============================ Open ============================\nvar _React$useState7=React.useState(defaultPopupVisible||false),_React$useState8=_slicedToArray(_React$useState7,2),internalOpen=_React$useState8[0],setInternalOpen=_React$useState8[1];// Render still use props as first priority\nvar mergedOpen=popupVisible!==null&&popupVisible!==void 0?popupVisible:internalOpen;// We use effect sync here in case `popupVisible` back to `undefined`\nvar setMergedOpen=useEvent(function(nextOpen){if(popupVisible===undefined){setInternalOpen(nextOpen);}});useLayoutEffect(function(){setInternalOpen(popupVisible||false);},[popupVisible]);var openRef=React.useRef(mergedOpen);openRef.current=mergedOpen;var lastTriggerRef=React.useRef([]);lastTriggerRef.current=[];var internalTriggerOpen=useEvent(function(nextOpen){var _lastTriggerRef$curre;setMergedOpen(nextOpen);// Enter or Pointer will both trigger open state change\n// We only need take one to avoid duplicated change event trigger\n// Use `lastTriggerRef` to record last open type\nif(((_lastTriggerRef$curre=lastTriggerRef.current[lastTriggerRef.current.length-1])!==null&&_lastTriggerRef$curre!==void 0?_lastTriggerRef$curre:mergedOpen)!==nextOpen){lastTriggerRef.current.push(nextOpen);onPopupVisibleChange===null||onPopupVisibleChange===void 0||onPopupVisibleChange(nextOpen);}});// Trigger for delay\nvar delayRef=React.useRef();var clearDelay=function clearDelay(){clearTimeout(delayRef.current);};var triggerOpen=function triggerOpen(nextOpen){var delay=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;clearDelay();if(delay===0){internalTriggerOpen(nextOpen);}else{delayRef.current=setTimeout(function(){internalTriggerOpen(nextOpen);},delay*1000);}};React.useEffect(function(){return clearDelay;},[]);// ========================== Motion ============================\nvar _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),inMotion=_React$useState10[0],setInMotion=_React$useState10[1];useLayoutEffect(function(firstMount){if(!firstMount||mergedOpen){setInMotion(true);}},[mergedOpen]);var _React$useState11=React.useState(null),_React$useState12=_slicedToArray(_React$useState11,2),motionPrepareResolve=_React$useState12[0],setMotionPrepareResolve=_React$useState12[1];// =========================== Align ============================\nvar _React$useState13=React.useState([0,0]),_React$useState14=_slicedToArray(_React$useState13,2),mousePos=_React$useState14[0],setMousePos=_React$useState14[1];var setMousePosByEvent=function setMousePosByEvent(event){setMousePos([event.clientX,event.clientY]);};var _useAlign=useAlign(mergedOpen,popupEle,alignPoint?mousePos:targetEle,popupPlacement,builtinPlacements,popupAlign,onPopupAlign),_useAlign2=_slicedToArray(_useAlign,11),ready=_useAlign2[0],offsetX=_useAlign2[1],offsetY=_useAlign2[2],offsetR=_useAlign2[3],offsetB=_useAlign2[4],arrowX=_useAlign2[5],arrowY=_useAlign2[6],scaleX=_useAlign2[7],scaleY=_useAlign2[8],alignInfo=_useAlign2[9],onAlign=_useAlign2[10];var _useAction=useAction(mobile,action,showAction,hideAction),_useAction2=_slicedToArray(_useAction,2),showActions=_useAction2[0],hideActions=_useAction2[1];var clickToShow=showActions.has('click');var clickToHide=hideActions.has('click')||hideActions.has('contextMenu');var triggerAlign=useEvent(function(){if(!inMotion){onAlign();}});var onScroll=function onScroll(){if(openRef.current&&alignPoint&&clickToHide){triggerOpen(false);}};useWatch(mergedOpen,targetEle,popupEle,triggerAlign,onScroll);useLayoutEffect(function(){triggerAlign();},[mousePos,popupPlacement]);// When no builtinPlacements and popupAlign changed\nuseLayoutEffect(function(){if(mergedOpen&&!(builtinPlacements!==null&&builtinPlacements!==void 0&&builtinPlacements[popupPlacement])){triggerAlign();}},[JSON.stringify(popupAlign)]);var alignedClassName=React.useMemo(function(){var baseClassName=getAlignPopupClassName(builtinPlacements,prefixCls,alignInfo,alignPoint);return classNames(baseClassName,getPopupClassNameFromAlign===null||getPopupClassNameFromAlign===void 0?void 0:getPopupClassNameFromAlign(alignInfo));},[alignInfo,getPopupClassNameFromAlign,builtinPlacements,prefixCls,alignPoint]);// ============================ Refs ============================\nReact.useImperativeHandle(ref,function(){return{nativeElement:externalForwardRef.current,forceAlign:triggerAlign};});// ========================== Stretch ===========================\nvar _React$useState15=React.useState(0),_React$useState16=_slicedToArray(_React$useState15,2),targetWidth=_React$useState16[0],setTargetWidth=_React$useState16[1];var _React$useState17=React.useState(0),_React$useState18=_slicedToArray(_React$useState17,2),targetHeight=_React$useState18[0],setTargetHeight=_React$useState18[1];var syncTargetSize=function syncTargetSize(){if(stretch&&targetEle){var rect=targetEle.getBoundingClientRect();setTargetWidth(rect.width);setTargetHeight(rect.height);}};var onTargetResize=function onTargetResize(){syncTargetSize();triggerAlign();};// ========================== Motion ============================\nvar onVisibleChanged=function onVisibleChanged(visible){setInMotion(false);onAlign();afterPopupVisibleChange===null||afterPopupVisibleChange===void 0||afterPopupVisibleChange(visible);};// We will trigger align when motion is in prepare\nvar onPrepare=function onPrepare(){return new Promise(function(resolve){syncTargetSize();setMotionPrepareResolve(function(){return resolve;});});};useLayoutEffect(function(){if(motionPrepareResolve){onAlign();motionPrepareResolve();setMotionPrepareResolve(null);}},[motionPrepareResolve]);// =========================== Action ===========================\n/**\n     * Util wrapper for trigger action\n     */function wrapperAction(eventName,nextOpen,delay,preEvent){cloneProps[eventName]=function(event){var _originChildProps$eve;preEvent===null||preEvent===void 0||preEvent(event);triggerOpen(nextOpen,delay);// Pass to origin\nfor(var _len=arguments.length,args=new Array(_len>1?_len-1:0),_key=1;_key<_len;_key++){args[_key-1]=arguments[_key];}(_originChildProps$eve=originChildProps[eventName])===null||_originChildProps$eve===void 0||_originChildProps$eve.call.apply(_originChildProps$eve,[originChildProps,event].concat(args));};}// ======================= Action: Click ========================\nif(clickToShow||clickToHide){cloneProps.onClick=function(event){var _originChildProps$onC;if(openRef.current&&clickToHide){triggerOpen(false);}else if(!openRef.current&&clickToShow){setMousePosByEvent(event);triggerOpen(true);}// Pass to origin\nfor(var _len2=arguments.length,args=new Array(_len2>1?_len2-1:0),_key2=1;_key2<_len2;_key2++){args[_key2-1]=arguments[_key2];}(_originChildProps$onC=originChildProps.onClick)===null||_originChildProps$onC===void 0||_originChildProps$onC.call.apply(_originChildProps$onC,[originChildProps,event].concat(args));};}// Click to hide is special action since click popup element should not hide\nuseWinClick(mergedOpen,clickToHide,targetEle,popupEle,mask,maskClosable,inPopupOrChild,triggerOpen);// ======================= Action: Hover ========================\nvar hoverToShow=showActions.has('hover');var hoverToHide=hideActions.has('hover');var onPopupMouseEnter;var onPopupMouseLeave;if(hoverToShow){// Compatible with old browser which not support pointer event\nwrapperAction('onMouseEnter',true,mouseEnterDelay,function(event){setMousePosByEvent(event);});wrapperAction('onPointerEnter',true,mouseEnterDelay,function(event){setMousePosByEvent(event);});onPopupMouseEnter=function onPopupMouseEnter(event){// Only trigger re-open when popup is visible\nif((mergedOpen||inMotion)&&popupEle!==null&&popupEle!==void 0&&popupEle.contains(event.target)){triggerOpen(true,mouseEnterDelay);}};// Align Point\nif(alignPoint){cloneProps.onMouseMove=function(event){var _originChildProps$onM;// setMousePosByEvent(event);\n(_originChildProps$onM=originChildProps.onMouseMove)===null||_originChildProps$onM===void 0||_originChildProps$onM.call(originChildProps,event);};}}if(hoverToHide){wrapperAction('onMouseLeave',false,mouseLeaveDelay);wrapperAction('onPointerLeave',false,mouseLeaveDelay);onPopupMouseLeave=function onPopupMouseLeave(){triggerOpen(false,mouseLeaveDelay);};}// ======================= Action: Focus ========================\nif(showActions.has('focus')){wrapperAction('onFocus',true,focusDelay);}if(hideActions.has('focus')){wrapperAction('onBlur',false,blurDelay);}// ==================== Action: ContextMenu =====================\nif(showActions.has('contextMenu')){cloneProps.onContextMenu=function(event){var _originChildProps$onC2;if(openRef.current&&hideActions.has('contextMenu')){triggerOpen(false);}else{setMousePosByEvent(event);triggerOpen(true);}event.preventDefault();// Pass to origin\nfor(var _len3=arguments.length,args=new Array(_len3>1?_len3-1:0),_key3=1;_key3<_len3;_key3++){args[_key3-1]=arguments[_key3];}(_originChildProps$onC2=originChildProps.onContextMenu)===null||_originChildProps$onC2===void 0||_originChildProps$onC2.call.apply(_originChildProps$onC2,[originChildProps,event].concat(args));};}// ========================= ClassName ==========================\nif(className){cloneProps.className=classNames(originChildProps.className,className);}// =========================== Render ===========================\nvar mergedChildrenProps=_objectSpread(_objectSpread({},originChildProps),cloneProps);// Pass props into cloneProps for nest usage\nvar passedProps={};var passedEventList=['onContextMenu','onClick','onMouseDown','onTouchStart','onMouseEnter','onMouseLeave','onFocus','onBlur'];passedEventList.forEach(function(eventName){if(restProps[eventName]){passedProps[eventName]=function(){var _mergedChildrenProps$;for(var _len4=arguments.length,args=new Array(_len4),_key4=0;_key4<_len4;_key4++){args[_key4]=arguments[_key4];}(_mergedChildrenProps$=mergedChildrenProps[eventName])===null||_mergedChildrenProps$===void 0||_mergedChildrenProps$.call.apply(_mergedChildrenProps$,[mergedChildrenProps].concat(args));restProps[eventName].apply(restProps,args);};}});// Child Node\nvar triggerNode=/*#__PURE__*/React.cloneElement(child,_objectSpread(_objectSpread({},mergedChildrenProps),passedProps));var arrowPos={x:arrowX,y:arrowY};var innerArrow=arrow?_objectSpread({},arrow!==true?arrow:{}):null;// Render\nreturn/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ResizeObserver,{disabled:!mergedOpen,ref:setTargetRef,onResize:onTargetResize},/*#__PURE__*/React.createElement(TriggerWrapper,{getTriggerDOMNode:getTriggerDOMNode},triggerNode)),/*#__PURE__*/React.createElement(TriggerContext.Provider,{value:context},/*#__PURE__*/React.createElement(Popup,{portal:PortalComponent,ref:setPopupRef,prefixCls:prefixCls,popup:popup,className:classNames(popupClassName,alignedClassName),style:popupStyle,target:targetEle,onMouseEnter:onPopupMouseEnter,onMouseLeave:onPopupMouseLeave// https://github.com/ant-design/ant-design/issues/43924\n,onPointerEnter:onPopupMouseEnter,zIndex:zIndex// Open\n,open:mergedOpen,keepDom:inMotion,fresh:fresh// Click\n,onClick:onPopupClick// Mask\n,mask:mask// Motion\n,motion:mergePopupMotion,maskMotion:mergeMaskMotion,onVisibleChanged:onVisibleChanged,onPrepare:onPrepare// Portal\n,forceRender:forceRender,autoDestroy:mergedAutoDestroy,getPopupContainer:getPopupContainer// Arrow\n,align:alignInfo,arrow:innerArrow,arrowPos:arrowPos// Align\n,ready:ready,offsetX:offsetX,offsetY:offsetY,offsetR:offsetR,offsetB:offsetB,onAlign:triggerAlign// Stretch\n,stretch:stretch,targetWidth:targetWidth/scaleX,targetHeight:targetHeight/scaleY})));});if(process.env.NODE_ENV!=='production'){Trigger.displayName='Trigger';}return Trigger;}export default generateTrigger(Portal);","map":{"version":3,"names":["_objectSpread","_slicedToArray","_objectWithoutProperties","_excluded","Portal","classNames","ResizeObserver","isDOM","getShadowRoot","useEvent","useId","useLayoutEffect","isMobile","React","Popup","TriggerWrapper","TriggerContext","useAction","useAlign","useWatch","useWinClick","getAlignPopupClassName","getMotion","generateTrigger","PortalComponent","arguments","length","undefined","Trigger","forwardRef","props","ref","_props$prefixCls","prefixCls","children","_props$action","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","_props$mouseLeaveDela","mouseLeaveDelay","focusDelay","blurDelay","mask","_props$maskClosable","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","_props$builtinPlaceme","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode","restProps","mergedAutoDestroy","_React$useState","useState","_React$useState2","mobile","setMobile","subPopupElements","useRef","parentContext","useContext","context","useMemo","registerSubPopup","id","subPopupEle","current","_React$useState3","_React$useState4","popupEle","setPopupEle","setPopupRef","node","_React$useState5","_React$useState6","targetEle","setTargetEle","externalForwardRef","setTargetRef","child","Children","only","originChildProps","cloneProps","inPopupOrChild","ele","_getShadowRoot","_getShadowRoot2","childDOM","contains","host","Object","values","some","mergePopupMotion","mergeMaskMotion","_React$useState7","_React$useState8","internalOpen","setInternalOpen","mergedOpen","setMergedOpen","nextOpen","openRef","lastTriggerRef","internalTriggerOpen","_lastTriggerRef$curre","push","delayRef","clearDelay","clearTimeout","triggerOpen","delay","setTimeout","useEffect","_React$useState9","_React$useState10","inMotion","setInMotion","firstMount","_React$useState11","_React$useState12","motionPrepareResolve","setMotionPrepareResolve","_React$useState13","_React$useState14","mousePos","setMousePos","setMousePosByEvent","event","clientX","clientY","_useAlign","_useAlign2","ready","offsetX","offsetY","offsetR","offsetB","arrowX","arrowY","scaleX","scaleY","alignInfo","onAlign","_useAction","_useAction2","showActions","hideActions","clickToShow","has","clickToHide","triggerAlign","onScroll","JSON","stringify","alignedClassName","baseClassName","useImperativeHandle","nativeElement","forceAlign","_React$useState15","_React$useState16","targetWidth","setTargetWidth","_React$useState17","_React$useState18","targetHeight","setTargetHeight","syncTargetSize","rect","getBoundingClientRect","width","height","onTargetResize","onVisibleChanged","visible","onPrepare","Promise","resolve","wrapperAction","eventName","preEvent","_originChildProps$eve","_len","args","Array","_key","call","apply","concat","onClick","_originChildProps$onC","_len2","_key2","hoverToShow","hoverToHide","onPopupMouseEnter","onPopupMouseLeave","target","onMouseMove","_originChildProps$onM","onContextMenu","_originChildProps$onC2","preventDefault","_len3","_key3","mergedChildrenProps","passedProps","passedEventList","forEach","_mergedChildrenProps$","_len4","_key4","triggerNode","cloneElement","arrowPos","x","y","innerArrow","createElement","Fragment","disabled","onResize","Provider","value","portal","style","onMouseEnter","onMouseLeave","onPointerEnter","open","keepDom","motion","align","process","env","NODE_ENV","displayName"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/@rc-component/trigger/es/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"prefixCls\", \"children\", \"action\", \"showAction\", \"hideAction\", \"popupVisible\", \"defaultPopupVisible\", \"onPopupVisibleChange\", \"afterPopupVisibleChange\", \"mouseEnterDelay\", \"mouseLeaveDelay\", \"focusDelay\", \"blurDelay\", \"mask\", \"maskClosable\", \"getPopupContainer\", \"forceRender\", \"autoDestroy\", \"destroyPopupOnHide\", \"popup\", \"popupClassName\", \"popupStyle\", \"popupPlacement\", \"builtinPlacements\", \"popupAlign\", \"zIndex\", \"stretch\", \"getPopupClassNameFromAlign\", \"fresh\", \"alignPoint\", \"onPopupClick\", \"onPopupAlign\", \"arrow\", \"popupMotion\", \"maskMotion\", \"popupTransitionName\", \"popupAnimation\", \"maskTransitionName\", \"maskAnimation\", \"className\", \"getTriggerDOMNode\"];\nimport Portal from '@rc-component/portal';\nimport classNames from 'classnames';\nimport ResizeObserver from 'rc-resize-observer';\nimport { isDOM } from \"rc-util/es/Dom/findDOMNode\";\nimport { getShadowRoot } from \"rc-util/es/Dom/shadow\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport useId from \"rc-util/es/hooks/useId\";\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport isMobile from \"rc-util/es/isMobile\";\nimport * as React from 'react';\nimport Popup from \"./Popup\";\nimport TriggerWrapper from \"./TriggerWrapper\";\nimport TriggerContext from \"./context\";\nimport useAction from \"./hooks/useAction\";\nimport useAlign from \"./hooks/useAlign\";\nimport useWatch from \"./hooks/useWatch\";\nimport useWinClick from \"./hooks/useWinClick\";\nimport { getAlignPopupClassName, getMotion } from \"./util\";\n\n// Removed Props List\n// Seems this can be auto\n// getDocument?: (element?: HTMLElement) => Document;\n\n// New version will not wrap popup with `rc-trigger-popup-content` when multiple children\n\nexport function generateTrigger() {\n  var PortalComponent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : Portal;\n  var Trigger = /*#__PURE__*/React.forwardRef(function (props, ref) {\n    var _props$prefixCls = props.prefixCls,\n      prefixCls = _props$prefixCls === void 0 ? 'rc-trigger-popup' : _props$prefixCls,\n      children = props.children,\n      _props$action = props.action,\n      action = _props$action === void 0 ? 'hover' : _props$action,\n      showAction = props.showAction,\n      hideAction = props.hideAction,\n      popupVisible = props.popupVisible,\n      defaultPopupVisible = props.defaultPopupVisible,\n      onPopupVisibleChange = props.onPopupVisibleChange,\n      afterPopupVisibleChange = props.afterPopupVisibleChange,\n      mouseEnterDelay = props.mouseEnterDelay,\n      _props$mouseLeaveDela = props.mouseLeaveDelay,\n      mouseLeaveDelay = _props$mouseLeaveDela === void 0 ? 0.1 : _props$mouseLeaveDela,\n      focusDelay = props.focusDelay,\n      blurDelay = props.blurDelay,\n      mask = props.mask,\n      _props$maskClosable = props.maskClosable,\n      maskClosable = _props$maskClosable === void 0 ? true : _props$maskClosable,\n      getPopupContainer = props.getPopupContainer,\n      forceRender = props.forceRender,\n      autoDestroy = props.autoDestroy,\n      destroyPopupOnHide = props.destroyPopupOnHide,\n      popup = props.popup,\n      popupClassName = props.popupClassName,\n      popupStyle = props.popupStyle,\n      popupPlacement = props.popupPlacement,\n      _props$builtinPlaceme = props.builtinPlacements,\n      builtinPlacements = _props$builtinPlaceme === void 0 ? {} : _props$builtinPlaceme,\n      popupAlign = props.popupAlign,\n      zIndex = props.zIndex,\n      stretch = props.stretch,\n      getPopupClassNameFromAlign = props.getPopupClassNameFromAlign,\n      fresh = props.fresh,\n      alignPoint = props.alignPoint,\n      onPopupClick = props.onPopupClick,\n      onPopupAlign = props.onPopupAlign,\n      arrow = props.arrow,\n      popupMotion = props.popupMotion,\n      maskMotion = props.maskMotion,\n      popupTransitionName = props.popupTransitionName,\n      popupAnimation = props.popupAnimation,\n      maskTransitionName = props.maskTransitionName,\n      maskAnimation = props.maskAnimation,\n      className = props.className,\n      getTriggerDOMNode = props.getTriggerDOMNode,\n      restProps = _objectWithoutProperties(props, _excluded);\n    var mergedAutoDestroy = autoDestroy || destroyPopupOnHide || false;\n\n    // =========================== Mobile ===========================\n    var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      mobile = _React$useState2[0],\n      setMobile = _React$useState2[1];\n    useLayoutEffect(function () {\n      setMobile(isMobile());\n    }, []);\n\n    // ========================== Context ===========================\n    var subPopupElements = React.useRef({});\n    var parentContext = React.useContext(TriggerContext);\n    var context = React.useMemo(function () {\n      return {\n        registerSubPopup: function registerSubPopup(id, subPopupEle) {\n          subPopupElements.current[id] = subPopupEle;\n          parentContext === null || parentContext === void 0 || parentContext.registerSubPopup(id, subPopupEle);\n        }\n      };\n    }, [parentContext]);\n\n    // =========================== Popup ============================\n    var id = useId();\n    var _React$useState3 = React.useState(null),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      popupEle = _React$useState4[0],\n      setPopupEle = _React$useState4[1];\n    var setPopupRef = useEvent(function (node) {\n      if (isDOM(node) && popupEle !== node) {\n        setPopupEle(node);\n      }\n      parentContext === null || parentContext === void 0 || parentContext.registerSubPopup(id, node);\n    });\n\n    // =========================== Target ===========================\n    // Use state to control here since `useRef` update not trigger render\n    var _React$useState5 = React.useState(null),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      targetEle = _React$useState6[0],\n      setTargetEle = _React$useState6[1];\n\n    // Used for forwardRef target. Not use internal\n    var externalForwardRef = React.useRef(null);\n    var setTargetRef = useEvent(function (node) {\n      if (isDOM(node) && targetEle !== node) {\n        setTargetEle(node);\n        externalForwardRef.current = node;\n      }\n    });\n\n    // ========================== Children ==========================\n    var child = React.Children.only(children);\n    var originChildProps = (child === null || child === void 0 ? void 0 : child.props) || {};\n    var cloneProps = {};\n    var inPopupOrChild = useEvent(function (ele) {\n      var _getShadowRoot, _getShadowRoot2;\n      var childDOM = targetEle;\n      return (childDOM === null || childDOM === void 0 ? void 0 : childDOM.contains(ele)) || ((_getShadowRoot = getShadowRoot(childDOM)) === null || _getShadowRoot === void 0 ? void 0 : _getShadowRoot.host) === ele || ele === childDOM || (popupEle === null || popupEle === void 0 ? void 0 : popupEle.contains(ele)) || ((_getShadowRoot2 = getShadowRoot(popupEle)) === null || _getShadowRoot2 === void 0 ? void 0 : _getShadowRoot2.host) === ele || ele === popupEle || Object.values(subPopupElements.current).some(function (subPopupEle) {\n        return (subPopupEle === null || subPopupEle === void 0 ? void 0 : subPopupEle.contains(ele)) || ele === subPopupEle;\n      });\n    });\n\n    // =========================== Motion ===========================\n    var mergePopupMotion = getMotion(prefixCls, popupMotion, popupAnimation, popupTransitionName);\n    var mergeMaskMotion = getMotion(prefixCls, maskMotion, maskAnimation, maskTransitionName);\n\n    // ============================ Open ============================\n    var _React$useState7 = React.useState(defaultPopupVisible || false),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      internalOpen = _React$useState8[0],\n      setInternalOpen = _React$useState8[1];\n\n    // Render still use props as first priority\n    var mergedOpen = popupVisible !== null && popupVisible !== void 0 ? popupVisible : internalOpen;\n\n    // We use effect sync here in case `popupVisible` back to `undefined`\n    var setMergedOpen = useEvent(function (nextOpen) {\n      if (popupVisible === undefined) {\n        setInternalOpen(nextOpen);\n      }\n    });\n    useLayoutEffect(function () {\n      setInternalOpen(popupVisible || false);\n    }, [popupVisible]);\n    var openRef = React.useRef(mergedOpen);\n    openRef.current = mergedOpen;\n    var lastTriggerRef = React.useRef([]);\n    lastTriggerRef.current = [];\n    var internalTriggerOpen = useEvent(function (nextOpen) {\n      var _lastTriggerRef$curre;\n      setMergedOpen(nextOpen);\n\n      // Enter or Pointer will both trigger open state change\n      // We only need take one to avoid duplicated change event trigger\n      // Use `lastTriggerRef` to record last open type\n      if (((_lastTriggerRef$curre = lastTriggerRef.current[lastTriggerRef.current.length - 1]) !== null && _lastTriggerRef$curre !== void 0 ? _lastTriggerRef$curre : mergedOpen) !== nextOpen) {\n        lastTriggerRef.current.push(nextOpen);\n        onPopupVisibleChange === null || onPopupVisibleChange === void 0 || onPopupVisibleChange(nextOpen);\n      }\n    });\n\n    // Trigger for delay\n    var delayRef = React.useRef();\n    var clearDelay = function clearDelay() {\n      clearTimeout(delayRef.current);\n    };\n    var triggerOpen = function triggerOpen(nextOpen) {\n      var delay = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      clearDelay();\n      if (delay === 0) {\n        internalTriggerOpen(nextOpen);\n      } else {\n        delayRef.current = setTimeout(function () {\n          internalTriggerOpen(nextOpen);\n        }, delay * 1000);\n      }\n    };\n    React.useEffect(function () {\n      return clearDelay;\n    }, []);\n\n    // ========================== Motion ============================\n    var _React$useState9 = React.useState(false),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      inMotion = _React$useState10[0],\n      setInMotion = _React$useState10[1];\n    useLayoutEffect(function (firstMount) {\n      if (!firstMount || mergedOpen) {\n        setInMotion(true);\n      }\n    }, [mergedOpen]);\n    var _React$useState11 = React.useState(null),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      motionPrepareResolve = _React$useState12[0],\n      setMotionPrepareResolve = _React$useState12[1];\n\n    // =========================== Align ============================\n    var _React$useState13 = React.useState([0, 0]),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      mousePos = _React$useState14[0],\n      setMousePos = _React$useState14[1];\n    var setMousePosByEvent = function setMousePosByEvent(event) {\n      setMousePos([event.clientX, event.clientY]);\n    };\n    var _useAlign = useAlign(mergedOpen, popupEle, alignPoint ? mousePos : targetEle, popupPlacement, builtinPlacements, popupAlign, onPopupAlign),\n      _useAlign2 = _slicedToArray(_useAlign, 11),\n      ready = _useAlign2[0],\n      offsetX = _useAlign2[1],\n      offsetY = _useAlign2[2],\n      offsetR = _useAlign2[3],\n      offsetB = _useAlign2[4],\n      arrowX = _useAlign2[5],\n      arrowY = _useAlign2[6],\n      scaleX = _useAlign2[7],\n      scaleY = _useAlign2[8],\n      alignInfo = _useAlign2[9],\n      onAlign = _useAlign2[10];\n    var _useAction = useAction(mobile, action, showAction, hideAction),\n      _useAction2 = _slicedToArray(_useAction, 2),\n      showActions = _useAction2[0],\n      hideActions = _useAction2[1];\n    var clickToShow = showActions.has('click');\n    var clickToHide = hideActions.has('click') || hideActions.has('contextMenu');\n    var triggerAlign = useEvent(function () {\n      if (!inMotion) {\n        onAlign();\n      }\n    });\n    var onScroll = function onScroll() {\n      if (openRef.current && alignPoint && clickToHide) {\n        triggerOpen(false);\n      }\n    };\n    useWatch(mergedOpen, targetEle, popupEle, triggerAlign, onScroll);\n    useLayoutEffect(function () {\n      triggerAlign();\n    }, [mousePos, popupPlacement]);\n\n    // When no builtinPlacements and popupAlign changed\n    useLayoutEffect(function () {\n      if (mergedOpen && !(builtinPlacements !== null && builtinPlacements !== void 0 && builtinPlacements[popupPlacement])) {\n        triggerAlign();\n      }\n    }, [JSON.stringify(popupAlign)]);\n    var alignedClassName = React.useMemo(function () {\n      var baseClassName = getAlignPopupClassName(builtinPlacements, prefixCls, alignInfo, alignPoint);\n      return classNames(baseClassName, getPopupClassNameFromAlign === null || getPopupClassNameFromAlign === void 0 ? void 0 : getPopupClassNameFromAlign(alignInfo));\n    }, [alignInfo, getPopupClassNameFromAlign, builtinPlacements, prefixCls, alignPoint]);\n\n    // ============================ Refs ============================\n    React.useImperativeHandle(ref, function () {\n      return {\n        nativeElement: externalForwardRef.current,\n        forceAlign: triggerAlign\n      };\n    });\n\n    // ========================== Stretch ===========================\n    var _React$useState15 = React.useState(0),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      targetWidth = _React$useState16[0],\n      setTargetWidth = _React$useState16[1];\n    var _React$useState17 = React.useState(0),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      targetHeight = _React$useState18[0],\n      setTargetHeight = _React$useState18[1];\n    var syncTargetSize = function syncTargetSize() {\n      if (stretch && targetEle) {\n        var rect = targetEle.getBoundingClientRect();\n        setTargetWidth(rect.width);\n        setTargetHeight(rect.height);\n      }\n    };\n    var onTargetResize = function onTargetResize() {\n      syncTargetSize();\n      triggerAlign();\n    };\n\n    // ========================== Motion ============================\n    var onVisibleChanged = function onVisibleChanged(visible) {\n      setInMotion(false);\n      onAlign();\n      afterPopupVisibleChange === null || afterPopupVisibleChange === void 0 || afterPopupVisibleChange(visible);\n    };\n\n    // We will trigger align when motion is in prepare\n    var onPrepare = function onPrepare() {\n      return new Promise(function (resolve) {\n        syncTargetSize();\n        setMotionPrepareResolve(function () {\n          return resolve;\n        });\n      });\n    };\n    useLayoutEffect(function () {\n      if (motionPrepareResolve) {\n        onAlign();\n        motionPrepareResolve();\n        setMotionPrepareResolve(null);\n      }\n    }, [motionPrepareResolve]);\n\n    // =========================== Action ===========================\n    /**\n     * Util wrapper for trigger action\n     */\n    function wrapperAction(eventName, nextOpen, delay, preEvent) {\n      cloneProps[eventName] = function (event) {\n        var _originChildProps$eve;\n        preEvent === null || preEvent === void 0 || preEvent(event);\n        triggerOpen(nextOpen, delay);\n\n        // Pass to origin\n        for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n          args[_key - 1] = arguments[_key];\n        }\n        (_originChildProps$eve = originChildProps[eventName]) === null || _originChildProps$eve === void 0 || _originChildProps$eve.call.apply(_originChildProps$eve, [originChildProps, event].concat(args));\n      };\n    }\n\n    // ======================= Action: Click ========================\n    if (clickToShow || clickToHide) {\n      cloneProps.onClick = function (event) {\n        var _originChildProps$onC;\n        if (openRef.current && clickToHide) {\n          triggerOpen(false);\n        } else if (!openRef.current && clickToShow) {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n\n        // Pass to origin\n        for (var _len2 = arguments.length, args = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n          args[_key2 - 1] = arguments[_key2];\n        }\n        (_originChildProps$onC = originChildProps.onClick) === null || _originChildProps$onC === void 0 || _originChildProps$onC.call.apply(_originChildProps$onC, [originChildProps, event].concat(args));\n      };\n    }\n\n    // Click to hide is special action since click popup element should not hide\n    useWinClick(mergedOpen, clickToHide, targetEle, popupEle, mask, maskClosable, inPopupOrChild, triggerOpen);\n\n    // ======================= Action: Hover ========================\n    var hoverToShow = showActions.has('hover');\n    var hoverToHide = hideActions.has('hover');\n    var onPopupMouseEnter;\n    var onPopupMouseLeave;\n    if (hoverToShow) {\n      // Compatible with old browser which not support pointer event\n      wrapperAction('onMouseEnter', true, mouseEnterDelay, function (event) {\n        setMousePosByEvent(event);\n      });\n      wrapperAction('onPointerEnter', true, mouseEnterDelay, function (event) {\n        setMousePosByEvent(event);\n      });\n      onPopupMouseEnter = function onPopupMouseEnter(event) {\n        // Only trigger re-open when popup is visible\n        if ((mergedOpen || inMotion) && popupEle !== null && popupEle !== void 0 && popupEle.contains(event.target)) {\n          triggerOpen(true, mouseEnterDelay);\n        }\n      };\n\n      // Align Point\n      if (alignPoint) {\n        cloneProps.onMouseMove = function (event) {\n          var _originChildProps$onM;\n          // setMousePosByEvent(event);\n          (_originChildProps$onM = originChildProps.onMouseMove) === null || _originChildProps$onM === void 0 || _originChildProps$onM.call(originChildProps, event);\n        };\n      }\n    }\n    if (hoverToHide) {\n      wrapperAction('onMouseLeave', false, mouseLeaveDelay);\n      wrapperAction('onPointerLeave', false, mouseLeaveDelay);\n      onPopupMouseLeave = function onPopupMouseLeave() {\n        triggerOpen(false, mouseLeaveDelay);\n      };\n    }\n\n    // ======================= Action: Focus ========================\n    if (showActions.has('focus')) {\n      wrapperAction('onFocus', true, focusDelay);\n    }\n    if (hideActions.has('focus')) {\n      wrapperAction('onBlur', false, blurDelay);\n    }\n\n    // ==================== Action: ContextMenu =====================\n    if (showActions.has('contextMenu')) {\n      cloneProps.onContextMenu = function (event) {\n        var _originChildProps$onC2;\n        if (openRef.current && hideActions.has('contextMenu')) {\n          triggerOpen(false);\n        } else {\n          setMousePosByEvent(event);\n          triggerOpen(true);\n        }\n        event.preventDefault();\n\n        // Pass to origin\n        for (var _len3 = arguments.length, args = new Array(_len3 > 1 ? _len3 - 1 : 0), _key3 = 1; _key3 < _len3; _key3++) {\n          args[_key3 - 1] = arguments[_key3];\n        }\n        (_originChildProps$onC2 = originChildProps.onContextMenu) === null || _originChildProps$onC2 === void 0 || _originChildProps$onC2.call.apply(_originChildProps$onC2, [originChildProps, event].concat(args));\n      };\n    }\n\n    // ========================= ClassName ==========================\n    if (className) {\n      cloneProps.className = classNames(originChildProps.className, className);\n    }\n\n    // =========================== Render ===========================\n    var mergedChildrenProps = _objectSpread(_objectSpread({}, originChildProps), cloneProps);\n\n    // Pass props into cloneProps for nest usage\n    var passedProps = {};\n    var passedEventList = ['onContextMenu', 'onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur'];\n    passedEventList.forEach(function (eventName) {\n      if (restProps[eventName]) {\n        passedProps[eventName] = function () {\n          var _mergedChildrenProps$;\n          for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n            args[_key4] = arguments[_key4];\n          }\n          (_mergedChildrenProps$ = mergedChildrenProps[eventName]) === null || _mergedChildrenProps$ === void 0 || _mergedChildrenProps$.call.apply(_mergedChildrenProps$, [mergedChildrenProps].concat(args));\n          restProps[eventName].apply(restProps, args);\n        };\n      }\n    });\n\n    // Child Node\n    var triggerNode = /*#__PURE__*/React.cloneElement(child, _objectSpread(_objectSpread({}, mergedChildrenProps), passedProps));\n    var arrowPos = {\n      x: arrowX,\n      y: arrowY\n    };\n    var innerArrow = arrow ? _objectSpread({}, arrow !== true ? arrow : {}) : null;\n\n    // Render\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ResizeObserver, {\n      disabled: !mergedOpen,\n      ref: setTargetRef,\n      onResize: onTargetResize\n    }, /*#__PURE__*/React.createElement(TriggerWrapper, {\n      getTriggerDOMNode: getTriggerDOMNode\n    }, triggerNode)), /*#__PURE__*/React.createElement(TriggerContext.Provider, {\n      value: context\n    }, /*#__PURE__*/React.createElement(Popup, {\n      portal: PortalComponent,\n      ref: setPopupRef,\n      prefixCls: prefixCls,\n      popup: popup,\n      className: classNames(popupClassName, alignedClassName),\n      style: popupStyle,\n      target: targetEle,\n      onMouseEnter: onPopupMouseEnter,\n      onMouseLeave: onPopupMouseLeave\n      // https://github.com/ant-design/ant-design/issues/43924\n      ,\n      onPointerEnter: onPopupMouseEnter,\n      zIndex: zIndex\n      // Open\n      ,\n      open: mergedOpen,\n      keepDom: inMotion,\n      fresh: fresh\n      // Click\n      ,\n      onClick: onPopupClick\n      // Mask\n      ,\n      mask: mask\n      // Motion\n      ,\n      motion: mergePopupMotion,\n      maskMotion: mergeMaskMotion,\n      onVisibleChanged: onVisibleChanged,\n      onPrepare: onPrepare\n      // Portal\n      ,\n      forceRender: forceRender,\n      autoDestroy: mergedAutoDestroy,\n      getPopupContainer: getPopupContainer\n      // Arrow\n      ,\n      align: alignInfo,\n      arrow: innerArrow,\n      arrowPos: arrowPos\n      // Align\n      ,\n      ready: ready,\n      offsetX: offsetX,\n      offsetY: offsetY,\n      offsetR: offsetR,\n      offsetB: offsetB,\n      onAlign: triggerAlign\n      // Stretch\n      ,\n      stretch: stretch,\n      targetWidth: targetWidth / scaleX,\n      targetHeight: targetHeight / scaleY\n    })));\n  });\n  if (process.env.NODE_ENV !== 'production') {\n    Trigger.displayName = 'Trigger';\n  }\n  return Trigger;\n}\nexport default generateTrigger(Portal);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}