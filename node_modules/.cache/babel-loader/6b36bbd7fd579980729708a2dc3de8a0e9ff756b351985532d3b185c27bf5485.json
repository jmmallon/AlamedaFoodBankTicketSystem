{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import canUseDom from\"rc-util/es/Dom/canUseDom\";import{ATTR_MARK}from\"../StyleContext\";export var ATTR_CACHE_MAP='data-ant-cssinjs-cache-path';/**\n * This marks style from the css file.\n * Which means not exist in `<style />` tag.\n */export var CSS_FILE_STYLE='_FILE_STYLE__';export function serialize(cachePathMap){return Object.keys(cachePathMap).map(function(path){var hash=cachePathMap[path];return\"\".concat(path,\":\").concat(hash);}).join(';');}var cachePathMap;var fromCSSFile=true;/**\n * @private Test usage only. Can save remove if no need.\n */export function reset(mockCache){var fromFile=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;cachePathMap=mockCache;fromCSSFile=fromFile;}export function prepare(){if(!cachePathMap){cachePathMap={};if(canUseDom()){var div=document.createElement('div');div.className=ATTR_CACHE_MAP;div.style.position='fixed';div.style.visibility='hidden';div.style.top='-9999px';document.body.appendChild(div);var content=getComputedStyle(div).content||'';content=content.replace(/^\"/,'').replace(/\"$/,'');// Fill data\ncontent.split(';').forEach(function(item){var _item$split=item.split(':'),_item$split2=_slicedToArray(_item$split,2),path=_item$split2[0],hash=_item$split2[1];cachePathMap[path]=hash;});// Remove inline record style\nvar inlineMapStyle=document.querySelector(\"style[\".concat(ATTR_CACHE_MAP,\"]\"));if(inlineMapStyle){var _inlineMapStyle$paren;fromCSSFile=false;(_inlineMapStyle$paren=inlineMapStyle.parentNode)===null||_inlineMapStyle$paren===void 0||_inlineMapStyle$paren.removeChild(inlineMapStyle);}document.body.removeChild(div);}}}export function existPath(path){prepare();return!!cachePathMap[path];}export function getStyleAndHash(path){var hash=cachePathMap[path];var styleStr=null;if(hash&&canUseDom()){if(fromCSSFile){styleStr=CSS_FILE_STYLE;}else{var _style=document.querySelector(\"style[\".concat(ATTR_MARK,\"=\\\"\").concat(cachePathMap[path],\"\\\"]\"));if(_style){styleStr=_style.innerHTML;}else{// Clean up since not exist anymore\ndelete cachePathMap[path];}}}return[styleStr,hash];}","map":{"version":3,"names":["_slicedToArray","canUseDom","ATTR_MARK","ATTR_CACHE_MAP","CSS_FILE_STYLE","serialize","cachePathMap","Object","keys","map","path","hash","concat","join","fromCSSFile","reset","mockCache","fromFile","arguments","length","undefined","prepare","div","document","createElement","className","style","position","visibility","top","body","appendChild","content","getComputedStyle","replace","split","forEach","item","_item$split","_item$split2","inlineMapStyle","querySelector","_inlineMapStyle$paren","parentNode","removeChild","existPath","getStyleAndHash","styleStr","_style","innerHTML"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/@ant-design/cssinjs/es/util/cacheMapUtil.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport { ATTR_MARK } from \"../StyleContext\";\nexport var ATTR_CACHE_MAP = 'data-ant-cssinjs-cache-path';\n\n/**\n * This marks style from the css file.\n * Which means not exist in `<style />` tag.\n */\nexport var CSS_FILE_STYLE = '_FILE_STYLE__';\nexport function serialize(cachePathMap) {\n  return Object.keys(cachePathMap).map(function (path) {\n    var hash = cachePathMap[path];\n    return \"\".concat(path, \":\").concat(hash);\n  }).join(';');\n}\nvar cachePathMap;\nvar fromCSSFile = true;\n\n/**\n * @private Test usage only. Can save remove if no need.\n */\nexport function reset(mockCache) {\n  var fromFile = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n  cachePathMap = mockCache;\n  fromCSSFile = fromFile;\n}\nexport function prepare() {\n  if (!cachePathMap) {\n    cachePathMap = {};\n    if (canUseDom()) {\n      var div = document.createElement('div');\n      div.className = ATTR_CACHE_MAP;\n      div.style.position = 'fixed';\n      div.style.visibility = 'hidden';\n      div.style.top = '-9999px';\n      document.body.appendChild(div);\n      var content = getComputedStyle(div).content || '';\n      content = content.replace(/^\"/, '').replace(/\"$/, '');\n\n      // Fill data\n      content.split(';').forEach(function (item) {\n        var _item$split = item.split(':'),\n          _item$split2 = _slicedToArray(_item$split, 2),\n          path = _item$split2[0],\n          hash = _item$split2[1];\n        cachePathMap[path] = hash;\n      });\n\n      // Remove inline record style\n      var inlineMapStyle = document.querySelector(\"style[\".concat(ATTR_CACHE_MAP, \"]\"));\n      if (inlineMapStyle) {\n        var _inlineMapStyle$paren;\n        fromCSSFile = false;\n        (_inlineMapStyle$paren = inlineMapStyle.parentNode) === null || _inlineMapStyle$paren === void 0 || _inlineMapStyle$paren.removeChild(inlineMapStyle);\n      }\n      document.body.removeChild(div);\n    }\n  }\n}\nexport function existPath(path) {\n  prepare();\n  return !!cachePathMap[path];\n}\nexport function getStyleAndHash(path) {\n  var hash = cachePathMap[path];\n  var styleStr = null;\n  if (hash && canUseDom()) {\n    if (fromCSSFile) {\n      styleStr = CSS_FILE_STYLE;\n    } else {\n      var _style = document.querySelector(\"style[\".concat(ATTR_MARK, \"=\\\"\").concat(cachePathMap[path], \"\\\"]\"));\n      if (_style) {\n        styleStr = _style.innerHTML;\n      } else {\n        // Clean up since not exist anymore\n        delete cachePathMap[path];\n      }\n    }\n  }\n  return [styleStr, hash];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}