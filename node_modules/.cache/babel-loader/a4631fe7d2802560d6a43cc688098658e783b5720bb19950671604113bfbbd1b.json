{"ast":null,"code":"/**\n * Cut input selection into 2 part and return text before selection start\n */export function getBeforeSelectionText(input){var selectionStart=input.selectionStart;return input.value.slice(0,selectionStart);}/**\n * Find the last match prefix index\n */export function getLastMeasureIndex(text,prefix){return prefix.reduce(function(lastMatch,prefixStr){var lastIndex=text.lastIndexOf(prefixStr);if(lastIndex>lastMatch.location){return{location:lastIndex,prefix:prefixStr};}return lastMatch;},{location:-1,prefix:''});}function lower(char){return(char||'').toLowerCase();}function reduceText(text,targetText,split){var firstChar=text[0];if(!firstChar||firstChar===split){return text;}// Reuse rest text as it can\nvar restText=text;var targetTextLen=targetText.length;for(var i=0;i<targetTextLen;i+=1){if(lower(restText[i])!==lower(targetText[i])){restText=restText.slice(i);break;}else if(i===targetTextLen-1){restText=restText.slice(targetTextLen);}}return restText;}/**\n * Paint targetText into current text:\n *  text: little@litest\n *  targetText: light\n *  => little @light test\n */export function replaceWithMeasure(text,measureConfig){var measureLocation=measureConfig.measureLocation,prefix=measureConfig.prefix,targetText=measureConfig.targetText,selectionStart=measureConfig.selectionStart,split=measureConfig.split;// Before text will append one space if have other text\nvar beforeMeasureText=text.slice(0,measureLocation);if(beforeMeasureText[beforeMeasureText.length-split.length]===split){beforeMeasureText=beforeMeasureText.slice(0,beforeMeasureText.length-split.length);}if(beforeMeasureText){beforeMeasureText=\"\".concat(beforeMeasureText).concat(split);}// Cut duplicate string with current targetText\nvar restText=reduceText(text.slice(selectionStart),targetText.slice(selectionStart-measureLocation-prefix.length),split);if(restText.slice(0,split.length)===split){restText=restText.slice(split.length);}var connectedStartText=\"\".concat(beforeMeasureText).concat(prefix).concat(targetText).concat(split);return{text:\"\".concat(connectedStartText).concat(restText),selectionLocation:connectedStartText.length};}export function setInputSelection(input,location){input.setSelectionRange(location,location);/**\n   * Reset caret into view.\n   * Since this function always called by user control, it's safe to focus element.\n   */input.blur();input.focus();}export function validateSearch(text,split){return!split||text.indexOf(split)===-1;}export function filterOption(input,_ref){var _ref$value=_ref.value,value=_ref$value===void 0?'':_ref$value;var lowerCase=input.toLowerCase();return value.toLowerCase().indexOf(lowerCase)!==-1;}","map":{"version":3,"names":["getBeforeSelectionText","input","selectionStart","value","slice","getLastMeasureIndex","text","prefix","reduce","lastMatch","prefixStr","lastIndex","lastIndexOf","location","lower","char","toLowerCase","reduceText","targetText","split","firstChar","restText","targetTextLen","length","i","replaceWithMeasure","measureConfig","measureLocation","beforeMeasureText","concat","connectedStartText","selectionLocation","setInputSelection","setSelectionRange","blur","focus","validateSearch","indexOf","filterOption","_ref","_ref$value","lowerCase"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-mentions/es/util.js"],"sourcesContent":["/**\n * Cut input selection into 2 part and return text before selection start\n */\nexport function getBeforeSelectionText(input) {\n  var selectionStart = input.selectionStart;\n  return input.value.slice(0, selectionStart);\n}\n/**\n * Find the last match prefix index\n */\nexport function getLastMeasureIndex(text, prefix) {\n  return prefix.reduce(function (lastMatch, prefixStr) {\n    var lastIndex = text.lastIndexOf(prefixStr);\n    if (lastIndex > lastMatch.location) {\n      return {\n        location: lastIndex,\n        prefix: prefixStr\n      };\n    }\n    return lastMatch;\n  }, {\n    location: -1,\n    prefix: ''\n  });\n}\nfunction lower(char) {\n  return (char || '').toLowerCase();\n}\nfunction reduceText(text, targetText, split) {\n  var firstChar = text[0];\n  if (!firstChar || firstChar === split) {\n    return text;\n  }\n\n  // Reuse rest text as it can\n  var restText = text;\n  var targetTextLen = targetText.length;\n  for (var i = 0; i < targetTextLen; i += 1) {\n    if (lower(restText[i]) !== lower(targetText[i])) {\n      restText = restText.slice(i);\n      break;\n    } else if (i === targetTextLen - 1) {\n      restText = restText.slice(targetTextLen);\n    }\n  }\n  return restText;\n}\n\n/**\n * Paint targetText into current text:\n *  text: little@litest\n *  targetText: light\n *  => little @light test\n */\nexport function replaceWithMeasure(text, measureConfig) {\n  var measureLocation = measureConfig.measureLocation,\n    prefix = measureConfig.prefix,\n    targetText = measureConfig.targetText,\n    selectionStart = measureConfig.selectionStart,\n    split = measureConfig.split;\n\n  // Before text will append one space if have other text\n  var beforeMeasureText = text.slice(0, measureLocation);\n  if (beforeMeasureText[beforeMeasureText.length - split.length] === split) {\n    beforeMeasureText = beforeMeasureText.slice(0, beforeMeasureText.length - split.length);\n  }\n  if (beforeMeasureText) {\n    beforeMeasureText = \"\".concat(beforeMeasureText).concat(split);\n  }\n\n  // Cut duplicate string with current targetText\n  var restText = reduceText(text.slice(selectionStart), targetText.slice(selectionStart - measureLocation - prefix.length), split);\n  if (restText.slice(0, split.length) === split) {\n    restText = restText.slice(split.length);\n  }\n  var connectedStartText = \"\".concat(beforeMeasureText).concat(prefix).concat(targetText).concat(split);\n  return {\n    text: \"\".concat(connectedStartText).concat(restText),\n    selectionLocation: connectedStartText.length\n  };\n}\nexport function setInputSelection(input, location) {\n  input.setSelectionRange(location, location);\n\n  /**\n   * Reset caret into view.\n   * Since this function always called by user control, it's safe to focus element.\n   */\n  input.blur();\n  input.focus();\n}\nexport function validateSearch(text, split) {\n  return !split || text.indexOf(split) === -1;\n}\nexport function filterOption(input, _ref) {\n  var _ref$value = _ref.value,\n    value = _ref$value === void 0 ? '' : _ref$value;\n  var lowerCase = input.toLowerCase();\n  return value.toLowerCase().indexOf(lowerCase) !== -1;\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}