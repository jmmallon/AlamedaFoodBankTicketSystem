{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import{useEffect,useRef,useState}from'react';function getPosition(e){var obj='touches'in e?e.touches[0]:e;var scrollXOffset=document.documentElement.scrollLeft||document.body.scrollLeft||window.pageXOffset;var scrollYOffset=document.documentElement.scrollTop||document.body.scrollTop||window.pageYOffset;return{pageX:obj.pageX-scrollXOffset,pageY:obj.pageY-scrollYOffset};}function useColorDrag(props){var offset=props.offset,targetRef=props.targetRef,containerRef=props.containerRef,direction=props.direction,onDragChange=props.onDragChange,onDragChangeComplete=props.onDragChangeComplete,calculate=props.calculate,color=props.color,disabledDrag=props.disabledDrag;var _useState=useState(offset||{x:0,y:0}),_useState2=_slicedToArray(_useState,2),offsetValue=_useState2[0],setOffsetValue=_useState2[1];var mouseMoveRef=useRef(null);var mouseUpRef=useRef(null);var dragRef=useRef({flag:false});useEffect(function(){if(dragRef.current.flag===false){var calcOffset=calculate===null||calculate===void 0?void 0:calculate(containerRef);if(calcOffset){setOffsetValue(calcOffset);}}},[color,containerRef]);useEffect(function(){return function(){document.removeEventListener('mousemove',mouseMoveRef.current);document.removeEventListener('mouseup',mouseUpRef.current);document.removeEventListener('touchmove',mouseMoveRef.current);document.removeEventListener('touchend',mouseUpRef.current);mouseMoveRef.current=null;mouseUpRef.current=null;};},[]);var updateOffset=function updateOffset(e){var _getPosition=getPosition(e),pageX=_getPosition.pageX,pageY=_getPosition.pageY;var _containerRef$current=containerRef.current.getBoundingClientRect(),rectX=_containerRef$current.x,rectY=_containerRef$current.y,width=_containerRef$current.width,height=_containerRef$current.height;var _targetRef$current$ge=targetRef.current.getBoundingClientRect(),targetWidth=_targetRef$current$ge.width,targetHeight=_targetRef$current$ge.height;var centerOffsetX=targetWidth/2;var centerOffsetY=targetHeight/2;var offsetX=Math.max(0,Math.min(pageX-rectX,width))-centerOffsetX;var offsetY=Math.max(0,Math.min(pageY-rectY,height))-centerOffsetY;var calcOffset={x:offsetX,y:direction==='x'?offsetValue.y:offsetY};// Exclusion of boundary cases\nif(targetWidth===0&&targetHeight===0||targetWidth!==targetHeight){return false;}setOffsetValue(calcOffset);onDragChange===null||onDragChange===void 0||onDragChange(calcOffset);};var onDragMove=function onDragMove(e){e.preventDefault();updateOffset(e);};var onDragStop=function onDragStop(e){e.preventDefault();dragRef.current.flag=false;document.removeEventListener('mousemove',mouseMoveRef.current);document.removeEventListener('mouseup',mouseUpRef.current);document.removeEventListener('touchmove',mouseMoveRef.current);document.removeEventListener('touchend',mouseUpRef.current);mouseMoveRef.current=null;mouseUpRef.current=null;onDragChangeComplete===null||onDragChangeComplete===void 0||onDragChangeComplete();};var onDragStart=function onDragStart(e){// https://github.com/ant-design/ant-design/issues/43529\ndocument.removeEventListener('mousemove',mouseMoveRef.current);document.removeEventListener('mouseup',mouseUpRef.current);if(disabledDrag){return;}updateOffset(e);dragRef.current.flag=true;document.addEventListener('mousemove',onDragMove);document.addEventListener('mouseup',onDragStop);document.addEventListener('touchmove',onDragMove);document.addEventListener('touchend',onDragStop);mouseMoveRef.current=onDragMove;mouseUpRef.current=onDragStop;};return[offsetValue,onDragStart];}export default useColorDrag;","map":{"version":3,"names":["_slicedToArray","useEffect","useRef","useState","getPosition","e","obj","touches","scrollXOffset","document","documentElement","scrollLeft","body","window","pageXOffset","scrollYOffset","scrollTop","pageYOffset","pageX","pageY","useColorDrag","props","offset","targetRef","containerRef","direction","onDragChange","onDragChangeComplete","calculate","color","disabledDrag","_useState","x","y","_useState2","offsetValue","setOffsetValue","mouseMoveRef","mouseUpRef","dragRef","flag","current","calcOffset","removeEventListener","updateOffset","_getPosition","_containerRef$current","getBoundingClientRect","rectX","rectY","width","height","_targetRef$current$ge","targetWidth","targetHeight","centerOffsetX","centerOffsetY","offsetX","Math","max","min","offsetY","onDragMove","preventDefault","onDragStop","onDragStart","addEventListener"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/@rc-component/color-picker/es/hooks/useColorDrag.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useEffect, useRef, useState } from 'react';\nfunction getPosition(e) {\n  var obj = 'touches' in e ? e.touches[0] : e;\n  var scrollXOffset = document.documentElement.scrollLeft || document.body.scrollLeft || window.pageXOffset;\n  var scrollYOffset = document.documentElement.scrollTop || document.body.scrollTop || window.pageYOffset;\n  return {\n    pageX: obj.pageX - scrollXOffset,\n    pageY: obj.pageY - scrollYOffset\n  };\n}\nfunction useColorDrag(props) {\n  var offset = props.offset,\n    targetRef = props.targetRef,\n    containerRef = props.containerRef,\n    direction = props.direction,\n    onDragChange = props.onDragChange,\n    onDragChangeComplete = props.onDragChangeComplete,\n    calculate = props.calculate,\n    color = props.color,\n    disabledDrag = props.disabledDrag;\n  var _useState = useState(offset || {\n      x: 0,\n      y: 0\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    offsetValue = _useState2[0],\n    setOffsetValue = _useState2[1];\n  var mouseMoveRef = useRef(null);\n  var mouseUpRef = useRef(null);\n  var dragRef = useRef({\n    flag: false\n  });\n  useEffect(function () {\n    if (dragRef.current.flag === false) {\n      var calcOffset = calculate === null || calculate === void 0 ? void 0 : calculate(containerRef);\n      if (calcOffset) {\n        setOffsetValue(calcOffset);\n      }\n    }\n  }, [color, containerRef]);\n  useEffect(function () {\n    return function () {\n      document.removeEventListener('mousemove', mouseMoveRef.current);\n      document.removeEventListener('mouseup', mouseUpRef.current);\n      document.removeEventListener('touchmove', mouseMoveRef.current);\n      document.removeEventListener('touchend', mouseUpRef.current);\n      mouseMoveRef.current = null;\n      mouseUpRef.current = null;\n    };\n  }, []);\n  var updateOffset = function updateOffset(e) {\n    var _getPosition = getPosition(e),\n      pageX = _getPosition.pageX,\n      pageY = _getPosition.pageY;\n    var _containerRef$current = containerRef.current.getBoundingClientRect(),\n      rectX = _containerRef$current.x,\n      rectY = _containerRef$current.y,\n      width = _containerRef$current.width,\n      height = _containerRef$current.height;\n    var _targetRef$current$ge = targetRef.current.getBoundingClientRect(),\n      targetWidth = _targetRef$current$ge.width,\n      targetHeight = _targetRef$current$ge.height;\n    var centerOffsetX = targetWidth / 2;\n    var centerOffsetY = targetHeight / 2;\n    var offsetX = Math.max(0, Math.min(pageX - rectX, width)) - centerOffsetX;\n    var offsetY = Math.max(0, Math.min(pageY - rectY, height)) - centerOffsetY;\n    var calcOffset = {\n      x: offsetX,\n      y: direction === 'x' ? offsetValue.y : offsetY\n    };\n\n    // Exclusion of boundary cases\n    if (targetWidth === 0 && targetHeight === 0 || targetWidth !== targetHeight) {\n      return false;\n    }\n    setOffsetValue(calcOffset);\n    onDragChange === null || onDragChange === void 0 || onDragChange(calcOffset);\n  };\n  var onDragMove = function onDragMove(e) {\n    e.preventDefault();\n    updateOffset(e);\n  };\n  var onDragStop = function onDragStop(e) {\n    e.preventDefault();\n    dragRef.current.flag = false;\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    document.removeEventListener('touchmove', mouseMoveRef.current);\n    document.removeEventListener('touchend', mouseUpRef.current);\n    mouseMoveRef.current = null;\n    mouseUpRef.current = null;\n    onDragChangeComplete === null || onDragChangeComplete === void 0 || onDragChangeComplete();\n  };\n  var onDragStart = function onDragStart(e) {\n    // https://github.com/ant-design/ant-design/issues/43529\n    document.removeEventListener('mousemove', mouseMoveRef.current);\n    document.removeEventListener('mouseup', mouseUpRef.current);\n    if (disabledDrag) {\n      return;\n    }\n    updateOffset(e);\n    dragRef.current.flag = true;\n    document.addEventListener('mousemove', onDragMove);\n    document.addEventListener('mouseup', onDragStop);\n    document.addEventListener('touchmove', onDragMove);\n    document.addEventListener('touchend', onDragStop);\n    mouseMoveRef.current = onDragMove;\n    mouseUpRef.current = onDragStop;\n  };\n  return [offsetValue, onDragStart];\n}\nexport default useColorDrag;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}