{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import*as React from'react';/**\n * Size info need loop query for the `heights` which will has the perf issue.\n * Let cache result for each render phase.\n */export function useGetSize(mergedData,getKey,heights,itemHeight){var _React$useMemo=React.useMemo(function(){return[new Map(),[]];},[mergedData,heights.id,itemHeight]),_React$useMemo2=_slicedToArray(_React$useMemo,2),key2Index=_React$useMemo2[0],bottomList=_React$useMemo2[1];var getSize=function getSize(startKey){var endKey=arguments.length>1&&arguments[1]!==undefined?arguments[1]:startKey;// Get from cache first\nvar startIndex=key2Index.get(startKey);var endIndex=key2Index.get(endKey);// Loop to fill the cache\nif(startIndex===undefined||endIndex===undefined){var dataLen=mergedData.length;for(var i=bottomList.length;i<dataLen;i+=1){var _heights$get;var item=mergedData[i];var key=getKey(item);key2Index.set(key,i);var cacheHeight=(_heights$get=heights.get(key))!==null&&_heights$get!==void 0?_heights$get:itemHeight;bottomList[i]=(bottomList[i-1]||0)+cacheHeight;if(key===startKey){startIndex=i;}if(key===endKey){endIndex=i;}if(startIndex!==undefined&&endIndex!==undefined){break;}}}return{top:bottomList[startIndex-1]||0,bottom:bottomList[endIndex]};};return getSize;}","map":{"version":3,"names":["_slicedToArray","React","useGetSize","mergedData","getKey","heights","itemHeight","_React$useMemo","useMemo","Map","id","_React$useMemo2","key2Index","bottomList","getSize","startKey","endKey","arguments","length","undefined","startIndex","get","endIndex","dataLen","i","_heights$get","item","key","set","cacheHeight","top","bottom"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-virtual-list/es/hooks/useGetSize.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\n\n/**\n * Size info need loop query for the `heights` which will has the perf issue.\n * Let cache result for each render phase.\n */\nexport function useGetSize(mergedData, getKey, heights, itemHeight) {\n  var _React$useMemo = React.useMemo(function () {\n      return [new Map(), []];\n    }, [mergedData, heights.id, itemHeight]),\n    _React$useMemo2 = _slicedToArray(_React$useMemo, 2),\n    key2Index = _React$useMemo2[0],\n    bottomList = _React$useMemo2[1];\n  var getSize = function getSize(startKey) {\n    var endKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : startKey;\n    // Get from cache first\n    var startIndex = key2Index.get(startKey);\n    var endIndex = key2Index.get(endKey);\n\n    // Loop to fill the cache\n    if (startIndex === undefined || endIndex === undefined) {\n      var dataLen = mergedData.length;\n      for (var i = bottomList.length; i < dataLen; i += 1) {\n        var _heights$get;\n        var item = mergedData[i];\n        var key = getKey(item);\n        key2Index.set(key, i);\n        var cacheHeight = (_heights$get = heights.get(key)) !== null && _heights$get !== void 0 ? _heights$get : itemHeight;\n        bottomList[i] = (bottomList[i - 1] || 0) + cacheHeight;\n        if (key === startKey) {\n          startIndex = i;\n        }\n        if (key === endKey) {\n          endIndex = i;\n        }\n        if (startIndex !== undefined && endIndex !== undefined) {\n          break;\n        }\n      }\n    }\n    return {\n      top: bottomList[startIndex - 1] || 0,\n      bottom: bottomList[endIndex]\n    };\n  };\n  return getSize;\n}"],"mappings":"AAAA,MAAO,CAAAA,cAAc,KAAM,0CAA0C,CACrE,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAE9B;AACA;AACA;AACA,GACA,MAAO,SAAS,CAAAC,UAAUA,CAACC,UAAU,CAAEC,MAAM,CAAEC,OAAO,CAAEC,UAAU,CAAE,CAClE,GAAI,CAAAC,cAAc,CAAGN,KAAK,CAACO,OAAO,CAAC,UAAY,CAC3C,MAAO,CAAC,GAAI,CAAAC,GAAG,CAAC,CAAC,CAAE,EAAE,CAAC,CACxB,CAAC,CAAE,CAACN,UAAU,CAAEE,OAAO,CAACK,EAAE,CAAEJ,UAAU,CAAC,CAAC,CACxCK,eAAe,CAAGX,cAAc,CAACO,cAAc,CAAE,CAAC,CAAC,CACnDK,SAAS,CAAGD,eAAe,CAAC,CAAC,CAAC,CAC9BE,UAAU,CAAGF,eAAe,CAAC,CAAC,CAAC,CACjC,GAAI,CAAAG,OAAO,CAAG,QAAS,CAAAA,OAAOA,CAACC,QAAQ,CAAE,CACvC,GAAI,CAAAC,MAAM,CAAGC,SAAS,CAACC,MAAM,CAAG,CAAC,EAAID,SAAS,CAAC,CAAC,CAAC,GAAKE,SAAS,CAAGF,SAAS,CAAC,CAAC,CAAC,CAAGF,QAAQ,CACzF;AACA,GAAI,CAAAK,UAAU,CAAGR,SAAS,CAACS,GAAG,CAACN,QAAQ,CAAC,CACxC,GAAI,CAAAO,QAAQ,CAAGV,SAAS,CAACS,GAAG,CAACL,MAAM,CAAC,CAEpC;AACA,GAAII,UAAU,GAAKD,SAAS,EAAIG,QAAQ,GAAKH,SAAS,CAAE,CACtD,GAAI,CAAAI,OAAO,CAAGpB,UAAU,CAACe,MAAM,CAC/B,IAAK,GAAI,CAAAM,CAAC,CAAGX,UAAU,CAACK,MAAM,CAAEM,CAAC,CAAGD,OAAO,CAAEC,CAAC,EAAI,CAAC,CAAE,CACnD,GAAI,CAAAC,YAAY,CAChB,GAAI,CAAAC,IAAI,CAAGvB,UAAU,CAACqB,CAAC,CAAC,CACxB,GAAI,CAAAG,GAAG,CAAGvB,MAAM,CAACsB,IAAI,CAAC,CACtBd,SAAS,CAACgB,GAAG,CAACD,GAAG,CAAEH,CAAC,CAAC,CACrB,GAAI,CAAAK,WAAW,CAAG,CAACJ,YAAY,CAAGpB,OAAO,CAACgB,GAAG,CAACM,GAAG,CAAC,IAAM,IAAI,EAAIF,YAAY,GAAK,IAAK,EAAC,CAAGA,YAAY,CAAGnB,UAAU,CACnHO,UAAU,CAACW,CAAC,CAAC,CAAG,CAACX,UAAU,CAACW,CAAC,CAAG,CAAC,CAAC,EAAI,CAAC,EAAIK,WAAW,CACtD,GAAIF,GAAG,GAAKZ,QAAQ,CAAE,CACpBK,UAAU,CAAGI,CAAC,CAChB,CACA,GAAIG,GAAG,GAAKX,MAAM,CAAE,CAClBM,QAAQ,CAAGE,CAAC,CACd,CACA,GAAIJ,UAAU,GAAKD,SAAS,EAAIG,QAAQ,GAAKH,SAAS,CAAE,CACtD,MACF,CACF,CACF,CACA,MAAO,CACLW,GAAG,CAAEjB,UAAU,CAACO,UAAU,CAAG,CAAC,CAAC,EAAI,CAAC,CACpCW,MAAM,CAAElB,UAAU,CAACS,QAAQ,CAC7B,CAAC,CACH,CAAC,CACD,MAAO,CAAAR,OAAO,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}