{"ast":null,"code":"import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";var _excluded=[\"children\",\"value\"];import*as React from'react';import toArray from\"rc-util/es/Children/toArray\";import warning from\"rc-util/es/warning\";import TreeNode from\"../TreeNode\";export function convertChildrenToData(nodes){return toArray(nodes).map(function(node){if(!/*#__PURE__*/React.isValidElement(node)||!node.type){return null;}var _ref=node,key=_ref.key,_ref$props=_ref.props,children=_ref$props.children,value=_ref$props.value,restProps=_objectWithoutProperties(_ref$props,_excluded);var data=_objectSpread({key:key,value:value},restProps);var childData=convertChildrenToData(children);if(childData.length){data.children=childData;}return data;}).filter(function(data){return data;});}export function fillLegacyProps(dataNode){if(!dataNode){return dataNode;}var cloneNode=_objectSpread({},dataNode);if(!('props'in cloneNode)){Object.defineProperty(cloneNode,'props',{get:function get(){warning(false,'New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access.');return cloneNode;}});}return cloneNode;}export function fillAdditionalInfo(extra,triggerValue,checkedValues,treeData,showPosition,fieldNames){var triggerNode=null;var nodeList=null;function generateMap(){function dig(list){var level=arguments.length>1&&arguments[1]!==undefined?arguments[1]:'0';var parentIncluded=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;return list.map(function(option,index){var pos=\"\".concat(level,\"-\").concat(index);var value=option[fieldNames.value];var included=checkedValues.includes(value);var children=dig(option[fieldNames.children]||[],pos,included);var node=/*#__PURE__*/React.createElement(TreeNode,option,children.map(function(child){return child.node;}));// Link with trigger node\nif(triggerValue===value){triggerNode=node;}if(included){var checkedNode={pos:pos,node:node,children:children};if(!parentIncluded){nodeList.push(checkedNode);}return checkedNode;}return null;}).filter(function(node){return node;});}if(!nodeList){nodeList=[];dig(treeData);// Sort to keep the checked node length\nnodeList.sort(function(_ref2,_ref3){var val1=_ref2.node.props.value;var val2=_ref3.node.props.value;var index1=checkedValues.indexOf(val1);var index2=checkedValues.indexOf(val2);return index1-index2;});}}Object.defineProperty(extra,'triggerNode',{get:function get(){warning(false,'`triggerNode` is deprecated. Please consider decoupling data with node.');generateMap();return triggerNode;}});Object.defineProperty(extra,'allCheckedNodes',{get:function get(){warning(false,'`allCheckedNodes` is deprecated. Please consider decoupling data with node.');generateMap();if(showPosition){return nodeList;}return nodeList.map(function(_ref4){var node=_ref4.node;return node;});}});}","map":{"version":3,"names":["_objectSpread","_objectWithoutProperties","_excluded","React","toArray","warning","TreeNode","convertChildrenToData","nodes","map","node","isValidElement","type","_ref","key","_ref$props","props","children","value","restProps","data","childData","length","filter","fillLegacyProps","dataNode","cloneNode","Object","defineProperty","get","fillAdditionalInfo","extra","triggerValue","checkedValues","treeData","showPosition","fieldNames","triggerNode","nodeList","generateMap","dig","list","level","arguments","undefined","parentIncluded","option","index","pos","concat","included","includes","createElement","child","checkedNode","push","sort","_ref2","_ref3","val1","val2","index1","indexOf","index2","_ref4"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-tree-select/es/utils/legacyUtil.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"children\", \"value\"];\nimport * as React from 'react';\nimport toArray from \"rc-util/es/Children/toArray\";\nimport warning from \"rc-util/es/warning\";\nimport TreeNode from \"../TreeNode\";\nexport function convertChildrenToData(nodes) {\n  return toArray(nodes).map(function (node) {\n    if (! /*#__PURE__*/React.isValidElement(node) || !node.type) {\n      return null;\n    }\n    var _ref = node,\n      key = _ref.key,\n      _ref$props = _ref.props,\n      children = _ref$props.children,\n      value = _ref$props.value,\n      restProps = _objectWithoutProperties(_ref$props, _excluded);\n    var data = _objectSpread({\n      key: key,\n      value: value\n    }, restProps);\n    var childData = convertChildrenToData(children);\n    if (childData.length) {\n      data.children = childData;\n    }\n    return data;\n  }).filter(function (data) {\n    return data;\n  });\n}\nexport function fillLegacyProps(dataNode) {\n  if (!dataNode) {\n    return dataNode;\n  }\n  var cloneNode = _objectSpread({}, dataNode);\n  if (!('props' in cloneNode)) {\n    Object.defineProperty(cloneNode, 'props', {\n      get: function get() {\n        warning(false, 'New `rc-tree-select` not support return node instance as argument anymore. Please consider to remove `props` access.');\n        return cloneNode;\n      }\n    });\n  }\n  return cloneNode;\n}\nexport function fillAdditionalInfo(extra, triggerValue, checkedValues, treeData, showPosition, fieldNames) {\n  var triggerNode = null;\n  var nodeList = null;\n  function generateMap() {\n    function dig(list) {\n      var level = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '0';\n      var parentIncluded = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n      return list.map(function (option, index) {\n        var pos = \"\".concat(level, \"-\").concat(index);\n        var value = option[fieldNames.value];\n        var included = checkedValues.includes(value);\n        var children = dig(option[fieldNames.children] || [], pos, included);\n        var node = /*#__PURE__*/React.createElement(TreeNode, option, children.map(function (child) {\n          return child.node;\n        }));\n\n        // Link with trigger node\n        if (triggerValue === value) {\n          triggerNode = node;\n        }\n        if (included) {\n          var checkedNode = {\n            pos: pos,\n            node: node,\n            children: children\n          };\n          if (!parentIncluded) {\n            nodeList.push(checkedNode);\n          }\n          return checkedNode;\n        }\n        return null;\n      }).filter(function (node) {\n        return node;\n      });\n    }\n    if (!nodeList) {\n      nodeList = [];\n      dig(treeData);\n\n      // Sort to keep the checked node length\n      nodeList.sort(function (_ref2, _ref3) {\n        var val1 = _ref2.node.props.value;\n        var val2 = _ref3.node.props.value;\n        var index1 = checkedValues.indexOf(val1);\n        var index2 = checkedValues.indexOf(val2);\n        return index1 - index2;\n      });\n    }\n  }\n  Object.defineProperty(extra, 'triggerNode', {\n    get: function get() {\n      warning(false, '`triggerNode` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      return triggerNode;\n    }\n  });\n  Object.defineProperty(extra, 'allCheckedNodes', {\n    get: function get() {\n      warning(false, '`allCheckedNodes` is deprecated. Please consider decoupling data with node.');\n      generateMap();\n      if (showPosition) {\n        return nodeList;\n      }\n      return nodeList.map(function (_ref4) {\n        var node = _ref4.node;\n        return node;\n      });\n    }\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}