{"ast":null,"code":"\"use client\";import classNames from'classnames';import CSSMotion from'rc-motion';import{render,unmount}from\"rc-util/es/React/render\";import raf from\"rc-util/es/raf\";import*as React from'react';import{getTargetWaveColor}from'./util';import{TARGET_CLS}from'./interface';function validateNum(value){return Number.isNaN(value)?0:value;}const WaveEffect=props=>{const{className,target,component}=props;const divRef=React.useRef(null);const[color,setWaveColor]=React.useState(null);const[borderRadius,setBorderRadius]=React.useState([]);const[left,setLeft]=React.useState(0);const[top,setTop]=React.useState(0);const[width,setWidth]=React.useState(0);const[height,setHeight]=React.useState(0);const[enabled,setEnabled]=React.useState(false);const waveStyle={left,top,width,height,borderRadius:borderRadius.map(radius=>\"\".concat(radius,\"px\")).join(' ')};if(color){waveStyle['--wave-color']=color;}function syncPos(){const nodeStyle=getComputedStyle(target);// Get wave color from target\nsetWaveColor(getTargetWaveColor(target));const isStatic=nodeStyle.position==='static';// Rect\nconst{borderLeftWidth,borderTopWidth}=nodeStyle;setLeft(isStatic?target.offsetLeft:validateNum(-parseFloat(borderLeftWidth)));setTop(isStatic?target.offsetTop:validateNum(-parseFloat(borderTopWidth)));setWidth(target.offsetWidth);setHeight(target.offsetHeight);// Get border radius\nconst{borderTopLeftRadius,borderTopRightRadius,borderBottomLeftRadius,borderBottomRightRadius}=nodeStyle;setBorderRadius([borderTopLeftRadius,borderTopRightRadius,borderBottomRightRadius,borderBottomLeftRadius].map(radius=>validateNum(parseFloat(radius))));}React.useEffect(()=>{if(target){// We need delay to check position here\n// since UI may change after click\nconst id=raf(()=>{syncPos();setEnabled(true);});// Add resize observer to follow size\nlet resizeObserver;if(typeof ResizeObserver!=='undefined'){resizeObserver=new ResizeObserver(syncPos);resizeObserver.observe(target);}return()=>{raf.cancel(id);resizeObserver===null||resizeObserver===void 0?void 0:resizeObserver.disconnect();};}},[]);if(!enabled){return null;}const isSmallComponent=(component==='Checkbox'||component==='Radio')&&(target===null||target===void 0?void 0:target.classList.contains(TARGET_CLS));return/*#__PURE__*/React.createElement(CSSMotion,{visible:true,motionAppear:true,motionName:\"wave-motion\",motionDeadline:5000,onAppearEnd:(_,event)=>{var _a;if(event.deadline||event.propertyName==='opacity'){const holder=(_a=divRef.current)===null||_a===void 0?void 0:_a.parentElement;unmount(holder).then(()=>{holder===null||holder===void 0?void 0:holder.remove();});}return false;}},_ref=>{let{className:motionClassName}=_ref;return/*#__PURE__*/React.createElement(\"div\",{ref:divRef,className:classNames(className,{'wave-quick':isSmallComponent},motionClassName),style:waveStyle});});};const showWaveEffect=(target,info)=>{var _a;const{component}=info;// Skip for unchecked checkbox\nif(component==='Checkbox'&&!((_a=target.querySelector('input'))===null||_a===void 0?void 0:_a.checked)){return;}// Create holder\nconst holder=document.createElement('div');holder.style.position='absolute';holder.style.left='0px';holder.style.top='0px';target===null||target===void 0?void 0:target.insertBefore(holder,target===null||target===void 0?void 0:target.firstChild);render(/*#__PURE__*/React.createElement(WaveEffect,Object.assign({},info,{target:target})),holder);};export default showWaveEffect;","map":{"version":3,"names":["classNames","CSSMotion","render","unmount","raf","React","getTargetWaveColor","TARGET_CLS","validateNum","value","Number","isNaN","WaveEffect","props","className","target","component","divRef","useRef","color","setWaveColor","useState","borderRadius","setBorderRadius","left","setLeft","top","setTop","width","setWidth","height","setHeight","enabled","setEnabled","waveStyle","map","radius","concat","join","syncPos","nodeStyle","getComputedStyle","isStatic","position","borderLeftWidth","borderTopWidth","offsetLeft","parseFloat","offsetTop","offsetWidth","offsetHeight","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","useEffect","id","resizeObserver","ResizeObserver","observe","cancel","disconnect","isSmallComponent","classList","contains","createElement","visible","motionAppear","motionName","motionDeadline","onAppearEnd","_","event","_a","deadline","propertyName","holder","current","parentElement","then","remove","_ref","motionClassName","ref","style","showWaveEffect","info","querySelector","checked","document","insertBefore","firstChild","Object","assign"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/antd/es/_util/wave/WaveEffect.js"],"sourcesContent":["\"use client\";\n\nimport classNames from 'classnames';\nimport CSSMotion from 'rc-motion';\nimport { render, unmount } from \"rc-util/es/React/render\";\nimport raf from \"rc-util/es/raf\";\nimport * as React from 'react';\nimport { getTargetWaveColor } from './util';\nimport { TARGET_CLS } from './interface';\nfunction validateNum(value) {\n  return Number.isNaN(value) ? 0 : value;\n}\nconst WaveEffect = props => {\n  const {\n    className,\n    target,\n    component\n  } = props;\n  const divRef = React.useRef(null);\n  const [color, setWaveColor] = React.useState(null);\n  const [borderRadius, setBorderRadius] = React.useState([]);\n  const [left, setLeft] = React.useState(0);\n  const [top, setTop] = React.useState(0);\n  const [width, setWidth] = React.useState(0);\n  const [height, setHeight] = React.useState(0);\n  const [enabled, setEnabled] = React.useState(false);\n  const waveStyle = {\n    left,\n    top,\n    width,\n    height,\n    borderRadius: borderRadius.map(radius => `${radius}px`).join(' ')\n  };\n  if (color) {\n    waveStyle['--wave-color'] = color;\n  }\n  function syncPos() {\n    const nodeStyle = getComputedStyle(target);\n    // Get wave color from target\n    setWaveColor(getTargetWaveColor(target));\n    const isStatic = nodeStyle.position === 'static';\n    // Rect\n    const {\n      borderLeftWidth,\n      borderTopWidth\n    } = nodeStyle;\n    setLeft(isStatic ? target.offsetLeft : validateNum(-parseFloat(borderLeftWidth)));\n    setTop(isStatic ? target.offsetTop : validateNum(-parseFloat(borderTopWidth)));\n    setWidth(target.offsetWidth);\n    setHeight(target.offsetHeight);\n    // Get border radius\n    const {\n      borderTopLeftRadius,\n      borderTopRightRadius,\n      borderBottomLeftRadius,\n      borderBottomRightRadius\n    } = nodeStyle;\n    setBorderRadius([borderTopLeftRadius, borderTopRightRadius, borderBottomRightRadius, borderBottomLeftRadius].map(radius => validateNum(parseFloat(radius))));\n  }\n  React.useEffect(() => {\n    if (target) {\n      // We need delay to check position here\n      // since UI may change after click\n      const id = raf(() => {\n        syncPos();\n        setEnabled(true);\n      });\n      // Add resize observer to follow size\n      let resizeObserver;\n      if (typeof ResizeObserver !== 'undefined') {\n        resizeObserver = new ResizeObserver(syncPos);\n        resizeObserver.observe(target);\n      }\n      return () => {\n        raf.cancel(id);\n        resizeObserver === null || resizeObserver === void 0 ? void 0 : resizeObserver.disconnect();\n      };\n    }\n  }, []);\n  if (!enabled) {\n    return null;\n  }\n  const isSmallComponent = (component === 'Checkbox' || component === 'Radio') && (target === null || target === void 0 ? void 0 : target.classList.contains(TARGET_CLS));\n  return /*#__PURE__*/React.createElement(CSSMotion, {\n    visible: true,\n    motionAppear: true,\n    motionName: \"wave-motion\",\n    motionDeadline: 5000,\n    onAppearEnd: (_, event) => {\n      var _a;\n      if (event.deadline || event.propertyName === 'opacity') {\n        const holder = (_a = divRef.current) === null || _a === void 0 ? void 0 : _a.parentElement;\n        unmount(holder).then(() => {\n          holder === null || holder === void 0 ? void 0 : holder.remove();\n        });\n      }\n      return false;\n    }\n  }, _ref => {\n    let {\n      className: motionClassName\n    } = _ref;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      ref: divRef,\n      className: classNames(className, {\n        'wave-quick': isSmallComponent\n      }, motionClassName),\n      style: waveStyle\n    });\n  });\n};\nconst showWaveEffect = (target, info) => {\n  var _a;\n  const {\n    component\n  } = info;\n  // Skip for unchecked checkbox\n  if (component === 'Checkbox' && !((_a = target.querySelector('input')) === null || _a === void 0 ? void 0 : _a.checked)) {\n    return;\n  }\n  // Create holder\n  const holder = document.createElement('div');\n  holder.style.position = 'absolute';\n  holder.style.left = '0px';\n  holder.style.top = '0px';\n  target === null || target === void 0 ? void 0 : target.insertBefore(holder, target === null || target === void 0 ? void 0 : target.firstChild);\n  render( /*#__PURE__*/React.createElement(WaveEffect, Object.assign({}, info, {\n    target: target\n  })), holder);\n};\nexport default showWaveEffect;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}