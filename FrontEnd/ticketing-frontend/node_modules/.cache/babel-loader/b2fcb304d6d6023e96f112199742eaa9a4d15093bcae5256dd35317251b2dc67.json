{"ast":null,"code":"import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import{useLayoutUpdateEffect}from\"rc-util/es/hooks/useLayoutEffect\";import{useRef,useState}from'react';/**\n * Help to merge callback with `useLayoutEffect`.\n * One time will only trigger once.\n */export default function useUpdate(callback){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),count=_useState2[0],setCount=_useState2[1];var effectRef=useRef(0);var callbackRef=useRef();callbackRef.current=callback;// Trigger on `useLayoutEffect`\nuseLayoutUpdateEffect(function(){var _callbackRef$current;(_callbackRef$current=callbackRef.current)===null||_callbackRef$current===void 0||_callbackRef$current.call(callbackRef);},[count]);// Trigger to update count\nreturn function(){if(effectRef.current!==count){return;}effectRef.current+=1;setCount(effectRef.current);};}export function useUpdateState(defaultState){var batchRef=useRef([]);var _useState3=useState({}),_useState4=_slicedToArray(_useState3,2),forceUpdate=_useState4[1];var state=useRef(typeof defaultState==='function'?defaultState():defaultState);var flushUpdate=useUpdate(function(){var current=state.current;batchRef.current.forEach(function(callback){current=callback(current);});batchRef.current=[];state.current=current;forceUpdate({});});function updater(callback){batchRef.current.push(callback);flushUpdate();}return[state.current,updater];}","map":{"version":3,"names":["_slicedToArray","useLayoutUpdateEffect","useRef","useState","useUpdate","callback","_useState","_useState2","count","setCount","effectRef","callbackRef","current","_callbackRef$current","call","useUpdateState","defaultState","batchRef","_useState3","_useState4","forceUpdate","state","flushUpdate","forEach","updater","push"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-tabs/es/hooks/useUpdate.js"],"sourcesContent":["import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useLayoutUpdateEffect } from \"rc-util/es/hooks/useLayoutEffect\";\nimport { useRef, useState } from 'react';\n\n/**\n * Help to merge callback with `useLayoutEffect`.\n * One time will only trigger once.\n */\nexport default function useUpdate(callback) {\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    count = _useState2[0],\n    setCount = _useState2[1];\n  var effectRef = useRef(0);\n  var callbackRef = useRef();\n  callbackRef.current = callback;\n\n  // Trigger on `useLayoutEffect`\n  useLayoutUpdateEffect(function () {\n    var _callbackRef$current;\n    (_callbackRef$current = callbackRef.current) === null || _callbackRef$current === void 0 || _callbackRef$current.call(callbackRef);\n  }, [count]);\n\n  // Trigger to update count\n  return function () {\n    if (effectRef.current !== count) {\n      return;\n    }\n    effectRef.current += 1;\n    setCount(effectRef.current);\n  };\n}\nexport function useUpdateState(defaultState) {\n  var batchRef = useRef([]);\n  var _useState3 = useState({}),\n    _useState4 = _slicedToArray(_useState3, 2),\n    forceUpdate = _useState4[1];\n  var state = useRef(typeof defaultState === 'function' ? defaultState() : defaultState);\n  var flushUpdate = useUpdate(function () {\n    var current = state.current;\n    batchRef.current.forEach(function (callback) {\n      current = callback(current);\n    });\n    batchRef.current = [];\n    state.current = current;\n    forceUpdate({});\n  });\n  function updater(callback) {\n    batchRef.current.push(callback);\n    flushUpdate();\n  }\n  return [state.current, updater];\n}"],"mappings":"AAAA,MAAO,CAAAA,cAAc,KAAM,0CAA0C,CACrE,OAASC,qBAAqB,KAAQ,kCAAkC,CACxE,OAASC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CAExC;AACA;AACA;AACA,GACA,cAAe,SAAS,CAAAC,SAASA,CAACC,QAAQ,CAAE,CAC1C,GAAI,CAAAC,SAAS,CAAGH,QAAQ,CAAC,CAAC,CAAC,CACzBI,UAAU,CAAGP,cAAc,CAACM,SAAS,CAAE,CAAC,CAAC,CACzCE,KAAK,CAAGD,UAAU,CAAC,CAAC,CAAC,CACrBE,QAAQ,CAAGF,UAAU,CAAC,CAAC,CAAC,CAC1B,GAAI,CAAAG,SAAS,CAAGR,MAAM,CAAC,CAAC,CAAC,CACzB,GAAI,CAAAS,WAAW,CAAGT,MAAM,CAAC,CAAC,CAC1BS,WAAW,CAACC,OAAO,CAAGP,QAAQ,CAE9B;AACAJ,qBAAqB,CAAC,UAAY,CAChC,GAAI,CAAAY,oBAAoB,CACxB,CAACA,oBAAoB,CAAGF,WAAW,CAACC,OAAO,IAAM,IAAI,EAAIC,oBAAoB,GAAK,IAAK,EAAC,EAAIA,oBAAoB,CAACC,IAAI,CAACH,WAAW,CAAC,CACpI,CAAC,CAAE,CAACH,KAAK,CAAC,CAAC,CAEX;AACA,MAAO,WAAY,CACjB,GAAIE,SAAS,CAACE,OAAO,GAAKJ,KAAK,CAAE,CAC/B,OACF,CACAE,SAAS,CAACE,OAAO,EAAI,CAAC,CACtBH,QAAQ,CAACC,SAAS,CAACE,OAAO,CAAC,CAC7B,CAAC,CACH,CACA,MAAO,SAAS,CAAAG,cAAcA,CAACC,YAAY,CAAE,CAC3C,GAAI,CAAAC,QAAQ,CAAGf,MAAM,CAAC,EAAE,CAAC,CACzB,GAAI,CAAAgB,UAAU,CAAGf,QAAQ,CAAC,CAAC,CAAC,CAAC,CAC3BgB,UAAU,CAAGnB,cAAc,CAACkB,UAAU,CAAE,CAAC,CAAC,CAC1CE,WAAW,CAAGD,UAAU,CAAC,CAAC,CAAC,CAC7B,GAAI,CAAAE,KAAK,CAAGnB,MAAM,CAAC,MAAO,CAAAc,YAAY,GAAK,UAAU,CAAGA,YAAY,CAAC,CAAC,CAAGA,YAAY,CAAC,CACtF,GAAI,CAAAM,WAAW,CAAGlB,SAAS,CAAC,UAAY,CACtC,GAAI,CAAAQ,OAAO,CAAGS,KAAK,CAACT,OAAO,CAC3BK,QAAQ,CAACL,OAAO,CAACW,OAAO,CAAC,SAAUlB,QAAQ,CAAE,CAC3CO,OAAO,CAAGP,QAAQ,CAACO,OAAO,CAAC,CAC7B,CAAC,CAAC,CACFK,QAAQ,CAACL,OAAO,CAAG,EAAE,CACrBS,KAAK,CAACT,OAAO,CAAGA,OAAO,CACvBQ,WAAW,CAAC,CAAC,CAAC,CAAC,CACjB,CAAC,CAAC,CACF,QAAS,CAAAI,OAAOA,CAACnB,QAAQ,CAAE,CACzBY,QAAQ,CAACL,OAAO,CAACa,IAAI,CAACpB,QAAQ,CAAC,CAC/BiB,WAAW,CAAC,CAAC,CACf,CACA,MAAO,CAACD,KAAK,CAACT,OAAO,CAAEY,OAAO,CAAC,CACjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}