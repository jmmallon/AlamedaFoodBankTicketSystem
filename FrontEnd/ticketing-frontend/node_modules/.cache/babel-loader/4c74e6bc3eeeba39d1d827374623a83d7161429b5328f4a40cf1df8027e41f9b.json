{"ast":null,"code":"\"use client\";import*as React from'react';import{useContext,useMemo}from'react';import{FormItemInputContext}from'../form/context';import{Button,Group}from'../radio';import Select from'../select';const YearSelectOffset=10;const YearSelectTotal=20;function YearSelect(props){const{fullscreen,validRange,generateConfig,locale,prefixCls,value,onChange,divRef}=props;const year=generateConfig.getYear(value||generateConfig.getNow());let start=year-YearSelectOffset;let end=start+YearSelectTotal;if(validRange){start=generateConfig.getYear(validRange[0]);end=generateConfig.getYear(validRange[1])+1;}const suffix=locale&&locale.year==='年'?'年':'';const options=[];for(let index=start;index<end;index++){options.push({label:\"\".concat(index).concat(suffix),value:index});}return/*#__PURE__*/React.createElement(Select,{size:fullscreen?undefined:'small',options:options,value:year,className:\"\".concat(prefixCls,\"-year-select\"),onChange:numYear=>{let newDate=generateConfig.setYear(value,numYear);if(validRange){const[startDate,endDate]=validRange;const newYear=generateConfig.getYear(newDate);const newMonth=generateConfig.getMonth(newDate);if(newYear===generateConfig.getYear(endDate)&&newMonth>generateConfig.getMonth(endDate)){newDate=generateConfig.setMonth(newDate,generateConfig.getMonth(endDate));}if(newYear===generateConfig.getYear(startDate)&&newMonth<generateConfig.getMonth(startDate)){newDate=generateConfig.setMonth(newDate,generateConfig.getMonth(startDate));}}onChange(newDate);},getPopupContainer:()=>divRef.current});}function MonthSelect(props){const{prefixCls,fullscreen,validRange,value,generateConfig,locale,onChange,divRef}=props;const month=generateConfig.getMonth(value||generateConfig.getNow());let start=0;let end=11;if(validRange){const[rangeStart,rangeEnd]=validRange;const currentYear=generateConfig.getYear(value);if(generateConfig.getYear(rangeEnd)===currentYear){end=generateConfig.getMonth(rangeEnd);}if(generateConfig.getYear(rangeStart)===currentYear){start=generateConfig.getMonth(rangeStart);}}const months=locale.shortMonths||generateConfig.locale.getShortMonths(locale.locale);const options=[];for(let index=start;index<=end;index+=1){options.push({label:months[index],value:index});}return/*#__PURE__*/React.createElement(Select,{size:fullscreen?undefined:'small',className:\"\".concat(prefixCls,\"-month-select\"),value:month,options:options,onChange:newMonth=>{onChange(generateConfig.setMonth(value,newMonth));},getPopupContainer:()=>divRef.current});}function ModeSwitch(props){const{prefixCls,locale,mode,fullscreen,onModeChange}=props;return/*#__PURE__*/React.createElement(Group,{onChange:_ref=>{let{target:{value}}=_ref;onModeChange(value);},value:mode,size:fullscreen?undefined:'small',className:\"\".concat(prefixCls,\"-mode-switch\")},/*#__PURE__*/React.createElement(Button,{value:\"month\"},locale.month),/*#__PURE__*/React.createElement(Button,{value:\"year\"},locale.year));}function CalendarHeader(props){const{prefixCls,fullscreen,mode,onChange,onModeChange}=props;const divRef=React.useRef(null);const formItemInputContext=useContext(FormItemInputContext);const mergedFormItemInputContext=useMemo(()=>Object.assign(Object.assign({},formItemInputContext),{isFormItemInput:false}),[formItemInputContext]);const sharedProps=Object.assign(Object.assign({},props),{fullscreen,divRef});return/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(prefixCls,\"-header\"),ref:divRef},/*#__PURE__*/React.createElement(FormItemInputContext.Provider,{value:mergedFormItemInputContext},/*#__PURE__*/React.createElement(YearSelect,Object.assign({},sharedProps,{onChange:v=>{onChange(v,'year');}})),mode==='month'&&(/*#__PURE__*/React.createElement(MonthSelect,Object.assign({},sharedProps,{onChange:v=>{onChange(v,'month');}})))),/*#__PURE__*/React.createElement(ModeSwitch,Object.assign({},sharedProps,{onModeChange:onModeChange})));}export default CalendarHeader;","map":{"version":3,"names":["React","useContext","useMemo","FormItemInputContext","Button","Group","Select","YearSelectOffset","YearSelectTotal","YearSelect","props","fullscreen","validRange","generateConfig","locale","prefixCls","value","onChange","divRef","year","getYear","getNow","start","end","suffix","options","index","push","label","concat","createElement","size","undefined","className","numYear","newDate","setYear","startDate","endDate","newYear","newMonth","getMonth","setMonth","getPopupContainer","current","MonthSelect","month","rangeStart","rangeEnd","currentYear","months","shortMonths","getShortMonths","ModeSwitch","mode","onModeChange","_ref","target","CalendarHeader","useRef","formItemInputContext","mergedFormItemInputContext","Object","assign","isFormItemInput","sharedProps","ref","Provider","v"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/antd/es/calendar/Header.js"],"sourcesContent":["\"use client\";\n\nimport * as React from 'react';\nimport { useContext, useMemo } from 'react';\nimport { FormItemInputContext } from '../form/context';\nimport { Button, Group } from '../radio';\nimport Select from '../select';\nconst YearSelectOffset = 10;\nconst YearSelectTotal = 20;\nfunction YearSelect(props) {\n  const {\n    fullscreen,\n    validRange,\n    generateConfig,\n    locale,\n    prefixCls,\n    value,\n    onChange,\n    divRef\n  } = props;\n  const year = generateConfig.getYear(value || generateConfig.getNow());\n  let start = year - YearSelectOffset;\n  let end = start + YearSelectTotal;\n  if (validRange) {\n    start = generateConfig.getYear(validRange[0]);\n    end = generateConfig.getYear(validRange[1]) + 1;\n  }\n  const suffix = locale && locale.year === '年' ? '年' : '';\n  const options = [];\n  for (let index = start; index < end; index++) {\n    options.push({\n      label: `${index}${suffix}`,\n      value: index\n    });\n  }\n  return /*#__PURE__*/React.createElement(Select, {\n    size: fullscreen ? undefined : 'small',\n    options: options,\n    value: year,\n    className: `${prefixCls}-year-select`,\n    onChange: numYear => {\n      let newDate = generateConfig.setYear(value, numYear);\n      if (validRange) {\n        const [startDate, endDate] = validRange;\n        const newYear = generateConfig.getYear(newDate);\n        const newMonth = generateConfig.getMonth(newDate);\n        if (newYear === generateConfig.getYear(endDate) && newMonth > generateConfig.getMonth(endDate)) {\n          newDate = generateConfig.setMonth(newDate, generateConfig.getMonth(endDate));\n        }\n        if (newYear === generateConfig.getYear(startDate) && newMonth < generateConfig.getMonth(startDate)) {\n          newDate = generateConfig.setMonth(newDate, generateConfig.getMonth(startDate));\n        }\n      }\n      onChange(newDate);\n    },\n    getPopupContainer: () => divRef.current\n  });\n}\nfunction MonthSelect(props) {\n  const {\n    prefixCls,\n    fullscreen,\n    validRange,\n    value,\n    generateConfig,\n    locale,\n    onChange,\n    divRef\n  } = props;\n  const month = generateConfig.getMonth(value || generateConfig.getNow());\n  let start = 0;\n  let end = 11;\n  if (validRange) {\n    const [rangeStart, rangeEnd] = validRange;\n    const currentYear = generateConfig.getYear(value);\n    if (generateConfig.getYear(rangeEnd) === currentYear) {\n      end = generateConfig.getMonth(rangeEnd);\n    }\n    if (generateConfig.getYear(rangeStart) === currentYear) {\n      start = generateConfig.getMonth(rangeStart);\n    }\n  }\n  const months = locale.shortMonths || generateConfig.locale.getShortMonths(locale.locale);\n  const options = [];\n  for (let index = start; index <= end; index += 1) {\n    options.push({\n      label: months[index],\n      value: index\n    });\n  }\n  return /*#__PURE__*/React.createElement(Select, {\n    size: fullscreen ? undefined : 'small',\n    className: `${prefixCls}-month-select`,\n    value: month,\n    options: options,\n    onChange: newMonth => {\n      onChange(generateConfig.setMonth(value, newMonth));\n    },\n    getPopupContainer: () => divRef.current\n  });\n}\nfunction ModeSwitch(props) {\n  const {\n    prefixCls,\n    locale,\n    mode,\n    fullscreen,\n    onModeChange\n  } = props;\n  return /*#__PURE__*/React.createElement(Group, {\n    onChange: _ref => {\n      let {\n        target: {\n          value\n        }\n      } = _ref;\n      onModeChange(value);\n    },\n    value: mode,\n    size: fullscreen ? undefined : 'small',\n    className: `${prefixCls}-mode-switch`\n  }, /*#__PURE__*/React.createElement(Button, {\n    value: \"month\"\n  }, locale.month), /*#__PURE__*/React.createElement(Button, {\n    value: \"year\"\n  }, locale.year));\n}\nfunction CalendarHeader(props) {\n  const {\n    prefixCls,\n    fullscreen,\n    mode,\n    onChange,\n    onModeChange\n  } = props;\n  const divRef = React.useRef(null);\n  const formItemInputContext = useContext(FormItemInputContext);\n  const mergedFormItemInputContext = useMemo(() => Object.assign(Object.assign({}, formItemInputContext), {\n    isFormItemInput: false\n  }), [formItemInputContext]);\n  const sharedProps = Object.assign(Object.assign({}, props), {\n    fullscreen,\n    divRef\n  });\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: `${prefixCls}-header`,\n    ref: divRef\n  }, /*#__PURE__*/React.createElement(FormItemInputContext.Provider, {\n    value: mergedFormItemInputContext\n  }, /*#__PURE__*/React.createElement(YearSelect, Object.assign({}, sharedProps, {\n    onChange: v => {\n      onChange(v, 'year');\n    }\n  })), mode === 'month' && ( /*#__PURE__*/React.createElement(MonthSelect, Object.assign({}, sharedProps, {\n    onChange: v => {\n      onChange(v, 'month');\n    }\n  })))), /*#__PURE__*/React.createElement(ModeSwitch, Object.assign({}, sharedProps, {\n    onModeChange: onModeChange\n  })));\n}\nexport default CalendarHeader;"],"mappings":"AAAA,YAAY,CAEZ,MAAO,GAAK,CAAAA,KAAK,KAAM,OAAO,CAC9B,OAASC,UAAU,CAAEC,OAAO,KAAQ,OAAO,CAC3C,OAASC,oBAAoB,KAAQ,iBAAiB,CACtD,OAASC,MAAM,CAAEC,KAAK,KAAQ,UAAU,CACxC,MAAO,CAAAC,MAAM,KAAM,WAAW,CAC9B,KAAM,CAAAC,gBAAgB,CAAG,EAAE,CAC3B,KAAM,CAAAC,eAAe,CAAG,EAAE,CAC1B,QAAS,CAAAC,UAAUA,CAACC,KAAK,CAAE,CACzB,KAAM,CACJC,UAAU,CACVC,UAAU,CACVC,cAAc,CACdC,MAAM,CACNC,SAAS,CACTC,KAAK,CACLC,QAAQ,CACRC,MACF,CAAC,CAAGR,KAAK,CACT,KAAM,CAAAS,IAAI,CAAGN,cAAc,CAACO,OAAO,CAACJ,KAAK,EAAIH,cAAc,CAACQ,MAAM,CAAC,CAAC,CAAC,CACrE,GAAI,CAAAC,KAAK,CAAGH,IAAI,CAAGZ,gBAAgB,CACnC,GAAI,CAAAgB,GAAG,CAAGD,KAAK,CAAGd,eAAe,CACjC,GAAII,UAAU,CAAE,CACdU,KAAK,CAAGT,cAAc,CAACO,OAAO,CAACR,UAAU,CAAC,CAAC,CAAC,CAAC,CAC7CW,GAAG,CAAGV,cAAc,CAACO,OAAO,CAACR,UAAU,CAAC,CAAC,CAAC,CAAC,CAAG,CAAC,CACjD,CACA,KAAM,CAAAY,MAAM,CAAGV,MAAM,EAAIA,MAAM,CAACK,IAAI,GAAK,GAAG,CAAG,GAAG,CAAG,EAAE,CACvD,KAAM,CAAAM,OAAO,CAAG,EAAE,CAClB,IAAK,GAAI,CAAAC,KAAK,CAAGJ,KAAK,CAAEI,KAAK,CAAGH,GAAG,CAAEG,KAAK,EAAE,CAAE,CAC5CD,OAAO,CAACE,IAAI,CAAC,CACXC,KAAK,IAAAC,MAAA,CAAKH,KAAK,EAAAG,MAAA,CAAGL,MAAM,CAAE,CAC1BR,KAAK,CAAEU,KACT,CAAC,CAAC,CACJ,CACA,MAAO,aAAa1B,KAAK,CAAC8B,aAAa,CAACxB,MAAM,CAAE,CAC9CyB,IAAI,CAAEpB,UAAU,CAAGqB,SAAS,CAAG,OAAO,CACtCP,OAAO,CAAEA,OAAO,CAChBT,KAAK,CAAEG,IAAI,CACXc,SAAS,IAAAJ,MAAA,CAAKd,SAAS,gBAAc,CACrCE,QAAQ,CAAEiB,OAAO,EAAI,CACnB,GAAI,CAAAC,OAAO,CAAGtB,cAAc,CAACuB,OAAO,CAACpB,KAAK,CAAEkB,OAAO,CAAC,CACpD,GAAItB,UAAU,CAAE,CACd,KAAM,CAACyB,SAAS,CAAEC,OAAO,CAAC,CAAG1B,UAAU,CACvC,KAAM,CAAA2B,OAAO,CAAG1B,cAAc,CAACO,OAAO,CAACe,OAAO,CAAC,CAC/C,KAAM,CAAAK,QAAQ,CAAG3B,cAAc,CAAC4B,QAAQ,CAACN,OAAO,CAAC,CACjD,GAAII,OAAO,GAAK1B,cAAc,CAACO,OAAO,CAACkB,OAAO,CAAC,EAAIE,QAAQ,CAAG3B,cAAc,CAAC4B,QAAQ,CAACH,OAAO,CAAC,CAAE,CAC9FH,OAAO,CAAGtB,cAAc,CAAC6B,QAAQ,CAACP,OAAO,CAAEtB,cAAc,CAAC4B,QAAQ,CAACH,OAAO,CAAC,CAAC,CAC9E,CACA,GAAIC,OAAO,GAAK1B,cAAc,CAACO,OAAO,CAACiB,SAAS,CAAC,EAAIG,QAAQ,CAAG3B,cAAc,CAAC4B,QAAQ,CAACJ,SAAS,CAAC,CAAE,CAClGF,OAAO,CAAGtB,cAAc,CAAC6B,QAAQ,CAACP,OAAO,CAAEtB,cAAc,CAAC4B,QAAQ,CAACJ,SAAS,CAAC,CAAC,CAChF,CACF,CACApB,QAAQ,CAACkB,OAAO,CAAC,CACnB,CAAC,CACDQ,iBAAiB,CAAEA,CAAA,GAAMzB,MAAM,CAAC0B,OAClC,CAAC,CAAC,CACJ,CACA,QAAS,CAAAC,WAAWA,CAACnC,KAAK,CAAE,CAC1B,KAAM,CACJK,SAAS,CACTJ,UAAU,CACVC,UAAU,CACVI,KAAK,CACLH,cAAc,CACdC,MAAM,CACNG,QAAQ,CACRC,MACF,CAAC,CAAGR,KAAK,CACT,KAAM,CAAAoC,KAAK,CAAGjC,cAAc,CAAC4B,QAAQ,CAACzB,KAAK,EAAIH,cAAc,CAACQ,MAAM,CAAC,CAAC,CAAC,CACvE,GAAI,CAAAC,KAAK,CAAG,CAAC,CACb,GAAI,CAAAC,GAAG,CAAG,EAAE,CACZ,GAAIX,UAAU,CAAE,CACd,KAAM,CAACmC,UAAU,CAAEC,QAAQ,CAAC,CAAGpC,UAAU,CACzC,KAAM,CAAAqC,WAAW,CAAGpC,cAAc,CAACO,OAAO,CAACJ,KAAK,CAAC,CACjD,GAAIH,cAAc,CAACO,OAAO,CAAC4B,QAAQ,CAAC,GAAKC,WAAW,CAAE,CACpD1B,GAAG,CAAGV,cAAc,CAAC4B,QAAQ,CAACO,QAAQ,CAAC,CACzC,CACA,GAAInC,cAAc,CAACO,OAAO,CAAC2B,UAAU,CAAC,GAAKE,WAAW,CAAE,CACtD3B,KAAK,CAAGT,cAAc,CAAC4B,QAAQ,CAACM,UAAU,CAAC,CAC7C,CACF,CACA,KAAM,CAAAG,MAAM,CAAGpC,MAAM,CAACqC,WAAW,EAAItC,cAAc,CAACC,MAAM,CAACsC,cAAc,CAACtC,MAAM,CAACA,MAAM,CAAC,CACxF,KAAM,CAAAW,OAAO,CAAG,EAAE,CAClB,IAAK,GAAI,CAAAC,KAAK,CAAGJ,KAAK,CAAEI,KAAK,EAAIH,GAAG,CAAEG,KAAK,EAAI,CAAC,CAAE,CAChDD,OAAO,CAACE,IAAI,CAAC,CACXC,KAAK,CAAEsB,MAAM,CAACxB,KAAK,CAAC,CACpBV,KAAK,CAAEU,KACT,CAAC,CAAC,CACJ,CACA,MAAO,aAAa1B,KAAK,CAAC8B,aAAa,CAACxB,MAAM,CAAE,CAC9CyB,IAAI,CAAEpB,UAAU,CAAGqB,SAAS,CAAG,OAAO,CACtCC,SAAS,IAAAJ,MAAA,CAAKd,SAAS,iBAAe,CACtCC,KAAK,CAAE8B,KAAK,CACZrB,OAAO,CAAEA,OAAO,CAChBR,QAAQ,CAAEuB,QAAQ,EAAI,CACpBvB,QAAQ,CAACJ,cAAc,CAAC6B,QAAQ,CAAC1B,KAAK,CAAEwB,QAAQ,CAAC,CAAC,CACpD,CAAC,CACDG,iBAAiB,CAAEA,CAAA,GAAMzB,MAAM,CAAC0B,OAClC,CAAC,CAAC,CACJ,CACA,QAAS,CAAAS,UAAUA,CAAC3C,KAAK,CAAE,CACzB,KAAM,CACJK,SAAS,CACTD,MAAM,CACNwC,IAAI,CACJ3C,UAAU,CACV4C,YACF,CAAC,CAAG7C,KAAK,CACT,MAAO,aAAaV,KAAK,CAAC8B,aAAa,CAACzB,KAAK,CAAE,CAC7CY,QAAQ,CAAEuC,IAAI,EAAI,CAChB,GAAI,CACFC,MAAM,CAAE,CACNzC,KACF,CACF,CAAC,CAAGwC,IAAI,CACRD,YAAY,CAACvC,KAAK,CAAC,CACrB,CAAC,CACDA,KAAK,CAAEsC,IAAI,CACXvB,IAAI,CAAEpB,UAAU,CAAGqB,SAAS,CAAG,OAAO,CACtCC,SAAS,IAAAJ,MAAA,CAAKd,SAAS,gBACzB,CAAC,CAAE,aAAaf,KAAK,CAAC8B,aAAa,CAAC1B,MAAM,CAAE,CAC1CY,KAAK,CAAE,OACT,CAAC,CAAEF,MAAM,CAACgC,KAAK,CAAC,CAAE,aAAa9C,KAAK,CAAC8B,aAAa,CAAC1B,MAAM,CAAE,CACzDY,KAAK,CAAE,MACT,CAAC,CAAEF,MAAM,CAACK,IAAI,CAAC,CAAC,CAClB,CACA,QAAS,CAAAuC,cAAcA,CAAChD,KAAK,CAAE,CAC7B,KAAM,CACJK,SAAS,CACTJ,UAAU,CACV2C,IAAI,CACJrC,QAAQ,CACRsC,YACF,CAAC,CAAG7C,KAAK,CACT,KAAM,CAAAQ,MAAM,CAAGlB,KAAK,CAAC2D,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAAC,oBAAoB,CAAG3D,UAAU,CAACE,oBAAoB,CAAC,CAC7D,KAAM,CAAA0D,0BAA0B,CAAG3D,OAAO,CAAC,IAAM4D,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAAEH,oBAAoB,CAAC,CAAE,CACtGI,eAAe,CAAE,KACnB,CAAC,CAAC,CAAE,CAACJ,oBAAoB,CAAC,CAAC,CAC3B,KAAM,CAAAK,WAAW,CAAGH,MAAM,CAACC,MAAM,CAACD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAAErD,KAAK,CAAC,CAAE,CAC1DC,UAAU,CACVO,MACF,CAAC,CAAC,CACF,MAAO,aAAalB,KAAK,CAAC8B,aAAa,CAAC,KAAK,CAAE,CAC7CG,SAAS,IAAAJ,MAAA,CAAKd,SAAS,WAAS,CAChCmD,GAAG,CAAEhD,MACP,CAAC,CAAE,aAAalB,KAAK,CAAC8B,aAAa,CAAC3B,oBAAoB,CAACgE,QAAQ,CAAE,CACjEnD,KAAK,CAAE6C,0BACT,CAAC,CAAE,aAAa7D,KAAK,CAAC8B,aAAa,CAACrB,UAAU,CAAEqD,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAAEE,WAAW,CAAE,CAC7EhD,QAAQ,CAAEmD,CAAC,EAAI,CACbnD,QAAQ,CAACmD,CAAC,CAAE,MAAM,CAAC,CACrB,CACF,CAAC,CAAC,CAAC,CAAEd,IAAI,GAAK,OAAO,GAAM,aAAatD,KAAK,CAAC8B,aAAa,CAACe,WAAW,CAAEiB,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAAEE,WAAW,CAAE,CACtGhD,QAAQ,CAAEmD,CAAC,EAAI,CACbnD,QAAQ,CAACmD,CAAC,CAAE,OAAO,CAAC,CACtB,CACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAE,aAAapE,KAAK,CAAC8B,aAAa,CAACuB,UAAU,CAAES,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,CAAEE,WAAW,CAAE,CACjFV,YAAY,CAAEA,YAChB,CAAC,CAAC,CAAC,CAAC,CACN,CACA,cAAe,CAAAG,cAAc","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}