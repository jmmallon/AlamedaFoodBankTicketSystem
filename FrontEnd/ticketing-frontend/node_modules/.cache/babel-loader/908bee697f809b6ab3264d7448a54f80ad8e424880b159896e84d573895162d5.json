{"ast":null,"code":"\"use client\";import classNames from'classnames';import*as React from'react';function UnitNumber(_ref){let{prefixCls,value,current,offset=0}=_ref;let style;if(offset){style={position:'absolute',top:\"\".concat(offset,\"00%\"),left:0};}return/*#__PURE__*/React.createElement(\"span\",{style:style,className:classNames(\"\".concat(prefixCls,\"-only-unit\"),{current})},value);}function getOffset(start,end,unit){let index=start;let offset=0;while((index+10)%10!==end){index+=unit;offset+=unit;}return offset;}export default function SingleNumber(props){const{prefixCls,count:originCount,value:originValue}=props;const value=Number(originValue);const count=Math.abs(originCount);const[prevValue,setPrevValue]=React.useState(value);const[prevCount,setPrevCount]=React.useState(count);// ============================= Events =============================\nconst onTransitionEnd=()=>{setPrevValue(value);setPrevCount(count);};// Fallback if transition events are not supported\nReact.useEffect(()=>{const timeout=setTimeout(()=>{onTransitionEnd();},1000);return()=>{clearTimeout(timeout);};},[value]);// ============================= Render =============================\n// Render unit list\nlet unitNodes;let offsetStyle;if(prevValue===value||Number.isNaN(value)||Number.isNaN(prevValue)){// Nothing to change\nunitNodes=[/*#__PURE__*/React.createElement(UnitNumber,Object.assign({},props,{key:value,current:true}))];offsetStyle={transition:'none'};}else{unitNodes=[];// Fill basic number units\nconst end=value+10;const unitNumberList=[];for(let index=value;index<=end;index+=1){unitNumberList.push(index);}// Fill with number unit nodes\nconst prevIndex=unitNumberList.findIndex(n=>n%10===prevValue);unitNodes=unitNumberList.map((n,index)=>{const singleUnit=n%10;return/*#__PURE__*/React.createElement(UnitNumber,Object.assign({},props,{key:n,value:singleUnit,offset:index-prevIndex,current:index===prevIndex}));});// Calculate container offset value\nconst unit=prevCount<count?1:-1;offsetStyle={transform:\"translateY(\".concat(-getOffset(prevValue,value,unit),\"00%)\")};}return/*#__PURE__*/React.createElement(\"span\",{className:\"\".concat(prefixCls,\"-only\"),style:offsetStyle,onTransitionEnd:onTransitionEnd},unitNodes);}","map":{"version":3,"names":["classNames","React","UnitNumber","_ref","prefixCls","value","current","offset","style","position","top","concat","left","createElement","className","getOffset","start","end","unit","index","SingleNumber","props","count","originCount","originValue","Number","Math","abs","prevValue","setPrevValue","useState","prevCount","setPrevCount","onTransitionEnd","useEffect","timeout","setTimeout","clearTimeout","unitNodes","offsetStyle","isNaN","Object","assign","key","transition","unitNumberList","push","prevIndex","findIndex","n","map","singleUnit","transform"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/antd/es/badge/SingleNumber.js"],"sourcesContent":["\"use client\";\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nfunction UnitNumber(_ref) {\n  let {\n    prefixCls,\n    value,\n    current,\n    offset = 0\n  } = _ref;\n  let style;\n  if (offset) {\n    style = {\n      position: 'absolute',\n      top: `${offset}00%`,\n      left: 0\n    };\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    style: style,\n    className: classNames(`${prefixCls}-only-unit`, {\n      current\n    })\n  }, value);\n}\nfunction getOffset(start, end, unit) {\n  let index = start;\n  let offset = 0;\n  while ((index + 10) % 10 !== end) {\n    index += unit;\n    offset += unit;\n  }\n  return offset;\n}\nexport default function SingleNumber(props) {\n  const {\n    prefixCls,\n    count: originCount,\n    value: originValue\n  } = props;\n  const value = Number(originValue);\n  const count = Math.abs(originCount);\n  const [prevValue, setPrevValue] = React.useState(value);\n  const [prevCount, setPrevCount] = React.useState(count);\n  // ============================= Events =============================\n  const onTransitionEnd = () => {\n    setPrevValue(value);\n    setPrevCount(count);\n  };\n  // Fallback if transition events are not supported\n  React.useEffect(() => {\n    const timeout = setTimeout(() => {\n      onTransitionEnd();\n    }, 1000);\n    return () => {\n      clearTimeout(timeout);\n    };\n  }, [value]);\n  // ============================= Render =============================\n  // Render unit list\n  let unitNodes;\n  let offsetStyle;\n  if (prevValue === value || Number.isNaN(value) || Number.isNaN(prevValue)) {\n    // Nothing to change\n    unitNodes = [/*#__PURE__*/React.createElement(UnitNumber, Object.assign({}, props, {\n      key: value,\n      current: true\n    }))];\n    offsetStyle = {\n      transition: 'none'\n    };\n  } else {\n    unitNodes = [];\n    // Fill basic number units\n    const end = value + 10;\n    const unitNumberList = [];\n    for (let index = value; index <= end; index += 1) {\n      unitNumberList.push(index);\n    }\n    // Fill with number unit nodes\n    const prevIndex = unitNumberList.findIndex(n => n % 10 === prevValue);\n    unitNodes = unitNumberList.map((n, index) => {\n      const singleUnit = n % 10;\n      return /*#__PURE__*/React.createElement(UnitNumber, Object.assign({}, props, {\n        key: n,\n        value: singleUnit,\n        offset: index - prevIndex,\n        current: index === prevIndex\n      }));\n    });\n    // Calculate container offset value\n    const unit = prevCount < count ? 1 : -1;\n    offsetStyle = {\n      transform: `translateY(${-getOffset(prevValue, value, unit)}00%)`\n    };\n  }\n  return /*#__PURE__*/React.createElement(\"span\", {\n    className: `${prefixCls}-only`,\n    style: offsetStyle,\n    onTransitionEnd: onTransitionEnd\n  }, unitNodes);\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}