{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/esm/extends\";import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import classNames from'classnames';import{useEvent,warning}from'rc-util';import*as React from'react';import{INTERNAL_HOOKS}from\"../constant\";import{makeImmutable}from\"../context/TableContext\";import Table,{DEFAULT_PREFIX}from\"../Table\";import Grid from\"./BodyGrid\";import{StaticContext}from\"./context\";import getValue from\"rc-util/es/utils/get\";var renderBody=function renderBody(rawData,props){var ref=props.ref,onScroll=props.onScroll;return/*#__PURE__*/React.createElement(Grid,{ref:ref,data:rawData,onScroll:onScroll});};function VirtualTable(props,ref){var columns=props.columns,scroll=props.scroll,sticky=props.sticky,_props$prefixCls=props.prefixCls,prefixCls=_props$prefixCls===void 0?DEFAULT_PREFIX:_props$prefixCls,className=props.className,listItemHeight=props.listItemHeight,components=props.components;var _ref=scroll||{},scrollX=_ref.x,scrollY=_ref.y;// Fill scrollX\nif(typeof scrollX!=='number'){if(process.env.NODE_ENV!=='production'){warning(!scrollX,'`scroll.x` in virtual table must be number.');}scrollX=1;}// Fill scrollY\nif(typeof scrollY!=='number'){scrollY=500;if(process.env.NODE_ENV!=='production'){warning(false,'`scroll.y` in virtual table must be number.');}}var getComponent=useEvent(function(path,defaultComponent){return getValue(components,path)||defaultComponent;});// ========================= Context ==========================\nvar context=React.useMemo(function(){return{sticky:sticky,scrollY:scrollY,listItemHeight:listItemHeight,getComponent:getComponent};},[sticky,scrollY,listItemHeight,getComponent]);// ========================== Render ==========================\nreturn/*#__PURE__*/React.createElement(StaticContext.Provider,{value:context},/*#__PURE__*/React.createElement(Table,_extends({},props,{className:classNames(className,\"\".concat(prefixCls,\"-virtual\")),scroll:_objectSpread(_objectSpread({},scroll),{},{x:scrollX}),components:_objectSpread(_objectSpread({},components),{},{body:renderBody}),columns:columns,internalHooks:INTERNAL_HOOKS,tailor:true,ref:ref})));}var RefVirtualTable=/*#__PURE__*/React.forwardRef(VirtualTable);if(process.env.NODE_ENV!=='production'){RefVirtualTable.displayName='VirtualTable';}export function genVirtualTable(shouldTriggerRender){return makeImmutable(RefVirtualTable,shouldTriggerRender);}export default genVirtualTable();","map":{"version":3,"names":["_extends","_objectSpread","classNames","useEvent","warning","React","INTERNAL_HOOKS","makeImmutable","Table","DEFAULT_PREFIX","Grid","StaticContext","getValue","renderBody","rawData","props","ref","onScroll","createElement","data","VirtualTable","columns","scroll","sticky","_props$prefixCls","prefixCls","className","listItemHeight","components","_ref","scrollX","x","scrollY","y","process","env","NODE_ENV","getComponent","path","defaultComponent","context","useMemo","Provider","value","concat","body","internalHooks","tailor","RefVirtualTable","forwardRef","displayName","genVirtualTable","shouldTriggerRender"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-table/es/VirtualTable/index.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport classNames from 'classnames';\nimport { useEvent, warning } from 'rc-util';\nimport * as React from 'react';\nimport { INTERNAL_HOOKS } from \"../constant\";\nimport { makeImmutable } from \"../context/TableContext\";\nimport Table, { DEFAULT_PREFIX } from \"../Table\";\nimport Grid from \"./BodyGrid\";\nimport { StaticContext } from \"./context\";\nimport getValue from \"rc-util/es/utils/get\";\nvar renderBody = function renderBody(rawData, props) {\n  var ref = props.ref,\n    onScroll = props.onScroll;\n  return /*#__PURE__*/React.createElement(Grid, {\n    ref: ref,\n    data: rawData,\n    onScroll: onScroll\n  });\n};\nfunction VirtualTable(props, ref) {\n  var columns = props.columns,\n    scroll = props.scroll,\n    sticky = props.sticky,\n    _props$prefixCls = props.prefixCls,\n    prefixCls = _props$prefixCls === void 0 ? DEFAULT_PREFIX : _props$prefixCls,\n    className = props.className,\n    listItemHeight = props.listItemHeight,\n    components = props.components;\n  var _ref = scroll || {},\n    scrollX = _ref.x,\n    scrollY = _ref.y;\n\n  // Fill scrollX\n  if (typeof scrollX !== 'number') {\n    if (process.env.NODE_ENV !== 'production') {\n      warning(!scrollX, '`scroll.x` in virtual table must be number.');\n    }\n    scrollX = 1;\n  }\n\n  // Fill scrollY\n  if (typeof scrollY !== 'number') {\n    scrollY = 500;\n    if (process.env.NODE_ENV !== 'production') {\n      warning(false, '`scroll.y` in virtual table must be number.');\n    }\n  }\n  var getComponent = useEvent(function (path, defaultComponent) {\n    return getValue(components, path) || defaultComponent;\n  });\n\n  // ========================= Context ==========================\n  var context = React.useMemo(function () {\n    return {\n      sticky: sticky,\n      scrollY: scrollY,\n      listItemHeight: listItemHeight,\n      getComponent: getComponent\n    };\n  }, [sticky, scrollY, listItemHeight, getComponent]);\n\n  // ========================== Render ==========================\n  return /*#__PURE__*/React.createElement(StaticContext.Provider, {\n    value: context\n  }, /*#__PURE__*/React.createElement(Table, _extends({}, props, {\n    className: classNames(className, \"\".concat(prefixCls, \"-virtual\")),\n    scroll: _objectSpread(_objectSpread({}, scroll), {}, {\n      x: scrollX\n    }),\n    components: _objectSpread(_objectSpread({}, components), {}, {\n      body: renderBody\n    }),\n    columns: columns,\n    internalHooks: INTERNAL_HOOKS,\n    tailor: true,\n    ref: ref\n  })));\n}\nvar RefVirtualTable = /*#__PURE__*/React.forwardRef(VirtualTable);\nif (process.env.NODE_ENV !== 'production') {\n  RefVirtualTable.displayName = 'VirtualTable';\n}\nexport function genVirtualTable(shouldTriggerRender) {\n  return makeImmutable(RefVirtualTable, shouldTriggerRender);\n}\nexport default genVirtualTable();"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}