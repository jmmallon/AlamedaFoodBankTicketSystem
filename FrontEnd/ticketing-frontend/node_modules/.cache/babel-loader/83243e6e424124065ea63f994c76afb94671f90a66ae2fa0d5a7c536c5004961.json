{"ast":null,"code":"import React,{useContext,useRef}from'react';import classNames from'classnames';import isVisible from\"rc-util/es/Dom/isVisible\";import{composeRef,supportRef}from\"rc-util/es/ref\";import{ConfigContext}from'../../config-provider';import{cloneElement}from'../reactNode';import useStyle from'./style';import useWave from'./useWave';const Wave=props=>{const{children,disabled,component}=props;const{getPrefixCls}=useContext(ConfigContext);const containerRef=useRef(null);// ============================== Style ===============================\nconst prefixCls=getPrefixCls('wave');const[,hashId]=useStyle(prefixCls);// =============================== Wave ===============================\nconst showWave=useWave(containerRef,classNames(prefixCls,hashId),component);// ============================== Effect ==============================\nReact.useEffect(()=>{const node=containerRef.current;if(!node||node.nodeType!==1||disabled){return;}// Click handler\nconst onClick=e=>{// Fix radio button click twice\nif(!isVisible(e.target)||// No need wave\n!node.getAttribute||node.getAttribute('disabled')||node.disabled||node.className.includes('disabled')||node.className.includes('-leave')){return;}showWave(e);};// Bind events\nnode.addEventListener('click',onClick,true);return()=>{node.removeEventListener('click',onClick,true);};},[disabled]);// ============================== Render ==============================\nif(!/*#__PURE__*/React.isValidElement(children)){return children!==null&&children!==void 0?children:null;}const ref=supportRef(children)?composeRef(children.ref,containerRef):containerRef;return cloneElement(children,{ref});};if(process.env.NODE_ENV!=='production'){Wave.displayName='Wave';}export default Wave;","map":{"version":3,"names":["React","useContext","useRef","classNames","isVisible","composeRef","supportRef","ConfigContext","cloneElement","useStyle","useWave","Wave","props","children","disabled","component","getPrefixCls","containerRef","prefixCls","hashId","showWave","useEffect","node","current","nodeType","onClick","e","target","getAttribute","className","includes","addEventListener","removeEventListener","isValidElement","ref","process","env","NODE_ENV","displayName"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/antd/es/_util/wave/index.js"],"sourcesContent":["import React, { useContext, useRef } from 'react';\nimport classNames from 'classnames';\nimport isVisible from \"rc-util/es/Dom/isVisible\";\nimport { composeRef, supportRef } from \"rc-util/es/ref\";\nimport { ConfigContext } from '../../config-provider';\nimport { cloneElement } from '../reactNode';\nimport useStyle from './style';\nimport useWave from './useWave';\nconst Wave = props => {\n  const {\n    children,\n    disabled,\n    component\n  } = props;\n  const {\n    getPrefixCls\n  } = useContext(ConfigContext);\n  const containerRef = useRef(null);\n  // ============================== Style ===============================\n  const prefixCls = getPrefixCls('wave');\n  const [, hashId] = useStyle(prefixCls);\n  // =============================== Wave ===============================\n  const showWave = useWave(containerRef, classNames(prefixCls, hashId), component);\n  // ============================== Effect ==============================\n  React.useEffect(() => {\n    const node = containerRef.current;\n    if (!node || node.nodeType !== 1 || disabled) {\n      return;\n    }\n    // Click handler\n    const onClick = e => {\n      // Fix radio button click twice\n      if (!isVisible(e.target) ||\n      // No need wave\n      !node.getAttribute || node.getAttribute('disabled') || node.disabled || node.className.includes('disabled') || node.className.includes('-leave')) {\n        return;\n      }\n      showWave(e);\n    };\n    // Bind events\n    node.addEventListener('click', onClick, true);\n    return () => {\n      node.removeEventListener('click', onClick, true);\n    };\n  }, [disabled]);\n  // ============================== Render ==============================\n  if (! /*#__PURE__*/React.isValidElement(children)) {\n    return children !== null && children !== void 0 ? children : null;\n  }\n  const ref = supportRef(children) ? composeRef(children.ref, containerRef) : containerRef;\n  return cloneElement(children, {\n    ref\n  });\n};\nif (process.env.NODE_ENV !== 'production') {\n  Wave.displayName = 'Wave';\n}\nexport default Wave;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,UAAU,CAAEC,MAAM,KAAQ,OAAO,CACjD,MAAO,CAAAC,UAAU,KAAM,YAAY,CACnC,MAAO,CAAAC,SAAS,KAAM,0BAA0B,CAChD,OAASC,UAAU,CAAEC,UAAU,KAAQ,gBAAgB,CACvD,OAASC,aAAa,KAAQ,uBAAuB,CACrD,OAASC,YAAY,KAAQ,cAAc,CAC3C,MAAO,CAAAC,QAAQ,KAAM,SAAS,CAC9B,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,KAAM,CAAAC,IAAI,CAAGC,KAAK,EAAI,CACpB,KAAM,CACJC,QAAQ,CACRC,QAAQ,CACRC,SACF,CAAC,CAAGH,KAAK,CACT,KAAM,CACJI,YACF,CAAC,CAAGf,UAAU,CAACM,aAAa,CAAC,CAC7B,KAAM,CAAAU,YAAY,CAAGf,MAAM,CAAC,IAAI,CAAC,CACjC;AACA,KAAM,CAAAgB,SAAS,CAAGF,YAAY,CAAC,MAAM,CAAC,CACtC,KAAM,EAAGG,MAAM,CAAC,CAAGV,QAAQ,CAACS,SAAS,CAAC,CACtC;AACA,KAAM,CAAAE,QAAQ,CAAGV,OAAO,CAACO,YAAY,CAAEd,UAAU,CAACe,SAAS,CAAEC,MAAM,CAAC,CAAEJ,SAAS,CAAC,CAChF;AACAf,KAAK,CAACqB,SAAS,CAAC,IAAM,CACpB,KAAM,CAAAC,IAAI,CAAGL,YAAY,CAACM,OAAO,CACjC,GAAI,CAACD,IAAI,EAAIA,IAAI,CAACE,QAAQ,GAAK,CAAC,EAAIV,QAAQ,CAAE,CAC5C,OACF,CACA;AACA,KAAM,CAAAW,OAAO,CAAGC,CAAC,EAAI,CACnB;AACA,GAAI,CAACtB,SAAS,CAACsB,CAAC,CAACC,MAAM,CAAC,EACxB;AACA,CAACL,IAAI,CAACM,YAAY,EAAIN,IAAI,CAACM,YAAY,CAAC,UAAU,CAAC,EAAIN,IAAI,CAACR,QAAQ,EAAIQ,IAAI,CAACO,SAAS,CAACC,QAAQ,CAAC,UAAU,CAAC,EAAIR,IAAI,CAACO,SAAS,CAACC,QAAQ,CAAC,QAAQ,CAAC,CAAE,CAChJ,OACF,CACAV,QAAQ,CAACM,CAAC,CAAC,CACb,CAAC,CACD;AACAJ,IAAI,CAACS,gBAAgB,CAAC,OAAO,CAAEN,OAAO,CAAE,IAAI,CAAC,CAC7C,MAAO,IAAM,CACXH,IAAI,CAACU,mBAAmB,CAAC,OAAO,CAAEP,OAAO,CAAE,IAAI,CAAC,CAClD,CAAC,CACH,CAAC,CAAE,CAACX,QAAQ,CAAC,CAAC,CACd;AACA,GAAI,CAAE,aAAad,KAAK,CAACiC,cAAc,CAACpB,QAAQ,CAAC,CAAE,CACjD,MAAO,CAAAA,QAAQ,GAAK,IAAI,EAAIA,QAAQ,GAAK,IAAK,EAAC,CAAGA,QAAQ,CAAG,IAAI,CACnE,CACA,KAAM,CAAAqB,GAAG,CAAG5B,UAAU,CAACO,QAAQ,CAAC,CAAGR,UAAU,CAACQ,QAAQ,CAACqB,GAAG,CAAEjB,YAAY,CAAC,CAAGA,YAAY,CACxF,MAAO,CAAAT,YAAY,CAACK,QAAQ,CAAE,CAC5BqB,GACF,CAAC,CAAC,CACJ,CAAC,CACD,GAAIC,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAAE,CACzC1B,IAAI,CAAC2B,WAAW,CAAG,MAAM,CAC3B,CACA,cAAe,CAAA3B,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}