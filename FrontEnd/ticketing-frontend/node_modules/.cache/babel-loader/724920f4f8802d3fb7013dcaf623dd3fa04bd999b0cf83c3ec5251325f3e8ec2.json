{"ast":null,"code":"import{MS,MOZ,WEBKIT,RULESET,KEYFRAMES,DECLARATION}from'./Enum.js';import{match,charat,substr,strlen,sizeof,replace,combine,filter,assign}from'./Utility.js';import{copy,lift,tokenize}from'./Tokenizer.js';import{serialize}from'./Serializer.js';import{prefix}from'./Prefixer.js';/**\n * @param {function[]} collection\n * @return {function}\n */export function middleware(collection){var length=sizeof(collection);return function(element,index,children,callback){var output='';for(var i=0;i<length;i++)output+=collection[i](element,index,children,callback)||'';return output;};}/**\n * @param {function} callback\n * @return {function}\n */export function rulesheet(callback){return function(element){if(!element.root)if(element=element.return)callback(element);};}/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */export function prefixer(element,index,children,callback){if(element.length>-1)if(!element.return)switch(element.type){case DECLARATION:element.return=prefix(element.value,element.length,children);return;case KEYFRAMES:return serialize([copy(element,{value:replace(element.value,'@','@'+WEBKIT)})],callback);case RULESET:if(element.length)return combine(children=element.props,function(value){switch(match(value,callback=/(::plac\\w+|:read-\\w+)/)){// :read-(only|write)\ncase':read-only':case':read-write':lift(copy(element,{props:[replace(value,/:(read-\\w+)/,':'+MOZ+'$1')]}));lift(copy(element,{props:[value]}));assign(element,{props:filter(children,callback)});break;// :placeholder\ncase'::placeholder':lift(copy(element,{props:[replace(value,/:(plac\\w+)/,':'+WEBKIT+'input-$1')]}));lift(copy(element,{props:[replace(value,/:(plac\\w+)/,':'+MOZ+'$1')]}));lift(copy(element,{props:[replace(value,/:(plac\\w+)/,MS+'input-$1')]}));lift(copy(element,{props:[value]}));assign(element,{props:filter(children,callback)});break;}return'';});}}/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */export function namespace(element){switch(element.type){case RULESET:element.props=element.props.map(function(value){return combine(tokenize(value),function(value,index,children){switch(charat(value,0)){// \\f\ncase 12:return substr(value,1,strlen(value));// \\0 ( + > ~\ncase 0:case 40:case 43:case 62:case 126:return value;// :\ncase 58:if(children[++index]==='global')children[index]='',children[++index]='\\f'+substr(children[index],index=1,-1);// \\s\ncase 32:return index===1?'':value;default:switch(index){case 0:element=value;return sizeof(children)>1?'':value;case index=sizeof(children)-1:case 2:return index===2?value+element+element:value+element;default:return value;}}});});}}","map":{"version":3,"names":["MS","MOZ","WEBKIT","RULESET","KEYFRAMES","DECLARATION","match","charat","substr","strlen","sizeof","replace","combine","filter","assign","copy","lift","tokenize","serialize","prefix","middleware","collection","length","element","index","children","callback","output","i","rulesheet","root","return","prefixer","type","value","props","namespace","map"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/stylis/src/Middleware.js"],"sourcesContent":["import {MS, MOZ, WEBKIT, RULESET, KEYFRAMES, DECLARATION} from './Enum.js'\nimport {match, charat, substr, strlen, sizeof, replace, combine, filter, assign} from './Utility.js'\nimport {copy, lift, tokenize} from './Tokenizer.js'\nimport {serialize} from './Serializer.js'\nimport {prefix} from './Prefixer.js'\n\n/**\n * @param {function[]} collection\n * @return {function}\n */\nexport function middleware (collection) {\n\tvar length = sizeof(collection)\n\n\treturn function (element, index, children, callback) {\n\t\tvar output = ''\n\n\t\tfor (var i = 0; i < length; i++)\n\t\t\toutput += collection[i](element, index, children, callback) || ''\n\n\t\treturn output\n\t}\n}\n\n/**\n * @param {function} callback\n * @return {function}\n */\nexport function rulesheet (callback) {\n\treturn function (element) {\n\t\tif (!element.root)\n\t\t\tif (element = element.return)\n\t\t\t\tcallback(element)\n\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n * @param {function} callback\n */\nexport function prefixer (element, index, children, callback) {\n\tif (element.length > -1)\n\t\tif (!element.return)\n\t\t\tswitch (element.type) {\n\t\t\t\tcase DECLARATION: element.return = prefix(element.value, element.length, children)\n\t\t\t\t\treturn\n\t\t\t\tcase KEYFRAMES:\n\t\t\t\t\treturn serialize([copy(element, {value: replace(element.value, '@', '@' + WEBKIT)})], callback)\n\t\t\t\tcase RULESET:\n\t\t\t\t\tif (element.length)\n\t\t\t\t\t\treturn combine(children = element.props, function (value) {\n\t\t\t\t\t\t\tswitch (match(value, callback = /(::plac\\w+|:read-\\w+)/)) {\n\t\t\t\t\t\t\t\t// :read-(only|write)\n\t\t\t\t\t\t\t\tcase ':read-only': case ':read-write':\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(read-\\w+)/, ':' + MOZ + '$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [value]}))\n\t\t\t\t\t\t\t\t\tassign(element, {props: filter(children, callback)})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t\t// :placeholder\n\t\t\t\t\t\t\t\tcase '::placeholder':\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, ':' + WEBKIT + 'input-$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, ':' + MOZ + '$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [replace(value, /:(plac\\w+)/, MS + 'input-$1')]}))\n\t\t\t\t\t\t\t\t\tlift(copy(element, {props: [value]}))\n\t\t\t\t\t\t\t\t\tassign(element, {props: filter(children, callback)})\n\t\t\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\treturn ''\n\t\t\t\t\t\t})\n\t\t\t}\n}\n\n/**\n * @param {object} element\n * @param {number} index\n * @param {object[]} children\n */\nexport function namespace (element) {\n\tswitch (element.type) {\n\t\tcase RULESET:\n\t\t\telement.props = element.props.map(function (value) {\n\t\t\t\treturn combine(tokenize(value), function (value, index, children) {\n\t\t\t\t\tswitch (charat(value, 0)) {\n\t\t\t\t\t\t// \\f\n\t\t\t\t\t\tcase 12:\n\t\t\t\t\t\t\treturn substr(value, 1, strlen(value))\n\t\t\t\t\t\t// \\0 ( + > ~\n\t\t\t\t\t\tcase 0: case 40: case 43: case 62: case 126:\n\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t// :\n\t\t\t\t\t\tcase 58:\n\t\t\t\t\t\t\tif (children[++index] === 'global')\n\t\t\t\t\t\t\t\tchildren[index] = '', children[++index] = '\\f' + substr(children[index], index = 1, -1)\n\t\t\t\t\t\t// \\s\n\t\t\t\t\t\tcase 32:\n\t\t\t\t\t\t\treturn index === 1 ? '' : value\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tswitch (index) {\n\t\t\t\t\t\t\t\tcase 0: element = value\n\t\t\t\t\t\t\t\t\treturn sizeof(children) > 1 ? '' : value\n\t\t\t\t\t\t\t\tcase index = sizeof(children) - 1: case 2:\n\t\t\t\t\t\t\t\t\treturn index === 2 ? value + element + element : value + element\n\t\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t\treturn value\n\t\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t})\n\t}\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}