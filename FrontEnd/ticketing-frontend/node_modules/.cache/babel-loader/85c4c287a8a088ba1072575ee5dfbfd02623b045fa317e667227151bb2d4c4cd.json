{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/esm/extends\";import _objectWithoutProperties from\"@babel/runtime/helpers/esm/objectWithoutProperties\";import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"@babel/runtime/helpers/esm/inherits\";import _createSuper from\"@babel/runtime/helpers/esm/createSuper\";import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";var _excluded=[\"component\",\"children\",\"onVisibleChanged\",\"onAllRemoved\"],_excluded2=[\"status\"];/* eslint react/prop-types: 0 */import*as React from'react';import OriginCSSMotion from\"./CSSMotion\";import{diffKeys,parseKeys,STATUS_ADD,STATUS_KEEP,STATUS_REMOVE,STATUS_REMOVED}from\"./util/diff\";import{supportTransition}from\"./util/motion\";var MOTION_PROP_NAMES=['eventProps','visible','children','motionName','motionAppear','motionEnter','motionLeave','motionLeaveImmediately','motionDeadline','removeOnLeave','leavedClassName','onAppearPrepare','onAppearStart','onAppearActive','onAppearEnd','onEnterStart','onEnterActive','onEnterEnd','onLeaveStart','onLeaveActive','onLeaveEnd'];/**\n * Generate a CSSMotionList component with config\n * @param transitionSupport No need since CSSMotionList no longer depends on transition support\n * @param CSSMotion CSSMotion component\n */export function genCSSMotionList(transitionSupport){var CSSMotion=arguments.length>1&&arguments[1]!==undefined?arguments[1]:OriginCSSMotion;var CSSMotionList=/*#__PURE__*/function(_React$Component){_inherits(CSSMotionList,_React$Component);var _super=_createSuper(CSSMotionList);function CSSMotionList(){var _this;_classCallCheck(this,CSSMotionList);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_defineProperty(_assertThisInitialized(_this),\"state\",{keyEntities:[]});// ZombieJ: Return the count of rest keys. It's safe to refactor if need more info.\n_defineProperty(_assertThisInitialized(_this),\"removeKey\",function(removeKey){var keyEntities=_this.state.keyEntities;var nextKeyEntities=keyEntities.map(function(entity){if(entity.key!==removeKey)return entity;return _objectSpread(_objectSpread({},entity),{},{status:STATUS_REMOVED});});_this.setState({keyEntities:nextKeyEntities});return nextKeyEntities.filter(function(_ref){var status=_ref.status;return status!==STATUS_REMOVED;}).length;});return _this;}_createClass(CSSMotionList,[{key:\"render\",value:function render(){var _this2=this;var keyEntities=this.state.keyEntities;var _this$props=this.props,component=_this$props.component,children=_this$props.children,_onVisibleChanged=_this$props.onVisibleChanged,onAllRemoved=_this$props.onAllRemoved,restProps=_objectWithoutProperties(_this$props,_excluded);var Component=component||React.Fragment;var motionProps={};MOTION_PROP_NAMES.forEach(function(prop){motionProps[prop]=restProps[prop];delete restProps[prop];});delete restProps.keys;return/*#__PURE__*/React.createElement(Component,restProps,keyEntities.map(function(_ref2,index){var status=_ref2.status,eventProps=_objectWithoutProperties(_ref2,_excluded2);var visible=status===STATUS_ADD||status===STATUS_KEEP;return/*#__PURE__*/React.createElement(CSSMotion,_extends({},motionProps,{key:eventProps.key,visible:visible,eventProps:eventProps,onVisibleChanged:function onVisibleChanged(changedVisible){_onVisibleChanged===null||_onVisibleChanged===void 0?void 0:_onVisibleChanged(changedVisible,{key:eventProps.key});if(!changedVisible){var restKeysCount=_this2.removeKey(eventProps.key);if(restKeysCount===0&&onAllRemoved){onAllRemoved();}}}}),function(props,ref){return children(_objectSpread(_objectSpread({},props),{},{index:index}),ref);});}));}}],[{key:\"getDerivedStateFromProps\",value:function getDerivedStateFromProps(_ref3,_ref4){var keys=_ref3.keys;var keyEntities=_ref4.keyEntities;var parsedKeyObjects=parseKeys(keys);var mixedKeyEntities=diffKeys(keyEntities,parsedKeyObjects);return{keyEntities:mixedKeyEntities.filter(function(entity){var prevEntity=keyEntities.find(function(_ref5){var key=_ref5.key;return entity.key===key;});// Remove if already mark as removed\nif(prevEntity&&prevEntity.status===STATUS_REMOVED&&entity.status===STATUS_REMOVE){return false;}return true;})};}}]);return CSSMotionList;}(React.Component);_defineProperty(CSSMotionList,\"defaultProps\",{component:'div'});return CSSMotionList;}export default genCSSMotionList(supportTransition);","map":{"version":3,"names":["_extends","_objectWithoutProperties","_objectSpread","_classCallCheck","_createClass","_assertThisInitialized","_inherits","_createSuper","_defineProperty","_excluded","_excluded2","React","OriginCSSMotion","diffKeys","parseKeys","STATUS_ADD","STATUS_KEEP","STATUS_REMOVE","STATUS_REMOVED","supportTransition","MOTION_PROP_NAMES","genCSSMotionList","transitionSupport","CSSMotion","arguments","length","undefined","CSSMotionList","_React$Component","_super","_this","_len","args","Array","_key","call","apply","concat","keyEntities","removeKey","state","nextKeyEntities","map","entity","key","status","setState","filter","_ref","value","render","_this2","_this$props","props","component","children","_onVisibleChanged","onVisibleChanged","onAllRemoved","restProps","Component","Fragment","motionProps","forEach","prop","keys","createElement","_ref2","index","eventProps","visible","changedVisible","restKeysCount","ref","getDerivedStateFromProps","_ref3","_ref4","parsedKeyObjects","mixedKeyEntities","prevEntity","find","_ref5"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-motion/es/CSSMotionList.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _excluded = [\"component\", \"children\", \"onVisibleChanged\", \"onAllRemoved\"],\n  _excluded2 = [\"status\"];\n/* eslint react/prop-types: 0 */\nimport * as React from 'react';\nimport OriginCSSMotion from \"./CSSMotion\";\nimport { diffKeys, parseKeys, STATUS_ADD, STATUS_KEEP, STATUS_REMOVE, STATUS_REMOVED } from \"./util/diff\";\nimport { supportTransition } from \"./util/motion\";\nvar MOTION_PROP_NAMES = ['eventProps', 'visible', 'children', 'motionName', 'motionAppear', 'motionEnter', 'motionLeave', 'motionLeaveImmediately', 'motionDeadline', 'removeOnLeave', 'leavedClassName', 'onAppearPrepare', 'onAppearStart', 'onAppearActive', 'onAppearEnd', 'onEnterStart', 'onEnterActive', 'onEnterEnd', 'onLeaveStart', 'onLeaveActive', 'onLeaveEnd'];\n/**\n * Generate a CSSMotionList component with config\n * @param transitionSupport No need since CSSMotionList no longer depends on transition support\n * @param CSSMotion CSSMotion component\n */\nexport function genCSSMotionList(transitionSupport) {\n  var CSSMotion = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : OriginCSSMotion;\n  var CSSMotionList = /*#__PURE__*/function (_React$Component) {\n    _inherits(CSSMotionList, _React$Component);\n    var _super = _createSuper(CSSMotionList);\n    function CSSMotionList() {\n      var _this;\n      _classCallCheck(this, CSSMotionList);\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      _this = _super.call.apply(_super, [this].concat(args));\n      _defineProperty(_assertThisInitialized(_this), \"state\", {\n        keyEntities: []\n      });\n      // ZombieJ: Return the count of rest keys. It's safe to refactor if need more info.\n      _defineProperty(_assertThisInitialized(_this), \"removeKey\", function (removeKey) {\n        var keyEntities = _this.state.keyEntities;\n        var nextKeyEntities = keyEntities.map(function (entity) {\n          if (entity.key !== removeKey) return entity;\n          return _objectSpread(_objectSpread({}, entity), {}, {\n            status: STATUS_REMOVED\n          });\n        });\n        _this.setState({\n          keyEntities: nextKeyEntities\n        });\n        return nextKeyEntities.filter(function (_ref) {\n          var status = _ref.status;\n          return status !== STATUS_REMOVED;\n        }).length;\n      });\n      return _this;\n    }\n    _createClass(CSSMotionList, [{\n      key: \"render\",\n      value: function render() {\n        var _this2 = this;\n        var keyEntities = this.state.keyEntities;\n        var _this$props = this.props,\n          component = _this$props.component,\n          children = _this$props.children,\n          _onVisibleChanged = _this$props.onVisibleChanged,\n          onAllRemoved = _this$props.onAllRemoved,\n          restProps = _objectWithoutProperties(_this$props, _excluded);\n        var Component = component || React.Fragment;\n        var motionProps = {};\n        MOTION_PROP_NAMES.forEach(function (prop) {\n          motionProps[prop] = restProps[prop];\n          delete restProps[prop];\n        });\n        delete restProps.keys;\n        return /*#__PURE__*/React.createElement(Component, restProps, keyEntities.map(function (_ref2, index) {\n          var status = _ref2.status,\n            eventProps = _objectWithoutProperties(_ref2, _excluded2);\n          var visible = status === STATUS_ADD || status === STATUS_KEEP;\n          return /*#__PURE__*/React.createElement(CSSMotion, _extends({}, motionProps, {\n            key: eventProps.key,\n            visible: visible,\n            eventProps: eventProps,\n            onVisibleChanged: function onVisibleChanged(changedVisible) {\n              _onVisibleChanged === null || _onVisibleChanged === void 0 ? void 0 : _onVisibleChanged(changedVisible, {\n                key: eventProps.key\n              });\n              if (!changedVisible) {\n                var restKeysCount = _this2.removeKey(eventProps.key);\n                if (restKeysCount === 0 && onAllRemoved) {\n                  onAllRemoved();\n                }\n              }\n            }\n          }), function (props, ref) {\n            return children(_objectSpread(_objectSpread({}, props), {}, {\n              index: index\n            }), ref);\n          });\n        }));\n      }\n    }], [{\n      key: \"getDerivedStateFromProps\",\n      value: function getDerivedStateFromProps(_ref3, _ref4) {\n        var keys = _ref3.keys;\n        var keyEntities = _ref4.keyEntities;\n        var parsedKeyObjects = parseKeys(keys);\n        var mixedKeyEntities = diffKeys(keyEntities, parsedKeyObjects);\n        return {\n          keyEntities: mixedKeyEntities.filter(function (entity) {\n            var prevEntity = keyEntities.find(function (_ref5) {\n              var key = _ref5.key;\n              return entity.key === key;\n            });\n\n            // Remove if already mark as removed\n            if (prevEntity && prevEntity.status === STATUS_REMOVED && entity.status === STATUS_REMOVE) {\n              return false;\n            }\n            return true;\n          })\n        };\n      }\n    }]);\n    return CSSMotionList;\n  }(React.Component);\n  _defineProperty(CSSMotionList, \"defaultProps\", {\n    component: 'div'\n  });\n  return CSSMotionList;\n}\nexport default genCSSMotionList(supportTransition);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}