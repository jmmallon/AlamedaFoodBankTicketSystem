{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/esm/extends\";import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import*as React from'react';import PickerPanel from\"../../PickerPanel\";import{PickerHackContext}from\"../../PickerPanel/context\";import PickerContext from\"../context\";import{offsetPanelDate}from\"../hooks/useRangePickerValue\";export default function PopupPanel(props){var picker=props.picker,multiplePanel=props.multiplePanel,pickerValue=props.pickerValue,onPickerValueChange=props.onPickerValueChange,needConfirm=props.needConfirm,onSubmit=props.onSubmit,range=props.range,hoverValue=props.hoverValue;var _React$useContext=React.useContext(PickerContext),prefixCls=_React$useContext.prefixCls,generateConfig=_React$useContext.generateConfig;// ======================== Offset ========================\nvar internalOffsetDate=React.useCallback(function(date,offset){return offsetPanelDate(generateConfig,picker,date,offset);},[generateConfig,picker]);var nextPickerValue=React.useMemo(function(){return internalOffsetDate(pickerValue,1);},[pickerValue,internalOffsetDate]);// Outside\nvar onSecondPickerValueChange=function onSecondPickerValueChange(nextDate){onPickerValueChange(internalOffsetDate(nextDate,-1));};// ======================= Context ========================\nvar sharedContext={onCellDblClick:function onCellDblClick(){if(needConfirm){onSubmit();}}};var hideHeader=picker==='time';// ======================== Props =========================\nvar pickerProps=_objectSpread(_objectSpread({},props),{},{hoverValue:null,hoverRangeValue:null,hideHeader:hideHeader});if(range){pickerProps.hoverRangeValue=hoverValue;}else{pickerProps.hoverValue=hoverValue;}// ======================== Render ========================\n// Multiple\nif(multiplePanel){return/*#__PURE__*/React.createElement(\"div\",{className:\"\".concat(prefixCls,\"-panels\")},/*#__PURE__*/React.createElement(PickerHackContext.Provider,{value:_objectSpread(_objectSpread({},sharedContext),{},{hideNext:true})},/*#__PURE__*/React.createElement(PickerPanel,pickerProps)),/*#__PURE__*/React.createElement(PickerHackContext.Provider,{value:_objectSpread(_objectSpread({},sharedContext),{},{hidePrev:true})},/*#__PURE__*/React.createElement(PickerPanel,_extends({},pickerProps,{pickerValue:nextPickerValue,onPickerValueChange:onSecondPickerValueChange}))));}// Single\nreturn/*#__PURE__*/React.createElement(PickerHackContext.Provider,{value:_objectSpread({},sharedContext)},/*#__PURE__*/React.createElement(PickerPanel,pickerProps));}","map":{"version":3,"names":["_extends","_objectSpread","React","PickerPanel","PickerHackContext","PickerContext","offsetPanelDate","PopupPanel","props","picker","multiplePanel","pickerValue","onPickerValueChange","needConfirm","onSubmit","range","hoverValue","_React$useContext","useContext","prefixCls","generateConfig","internalOffsetDate","useCallback","date","offset","nextPickerValue","useMemo","onSecondPickerValueChange","nextDate","sharedContext","onCellDblClick","hideHeader","pickerProps","hoverRangeValue","createElement","className","concat","Provider","value","hideNext","hidePrev"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-picker/es/PickerInput/Popup/PopupPanel.js"],"sourcesContent":["import _extends from \"@babel/runtime/helpers/esm/extends\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport PickerPanel from \"../../PickerPanel\";\nimport { PickerHackContext } from \"../../PickerPanel/context\";\nimport PickerContext from \"../context\";\nimport { offsetPanelDate } from \"../hooks/useRangePickerValue\";\nexport default function PopupPanel(props) {\n  var picker = props.picker,\n    multiplePanel = props.multiplePanel,\n    pickerValue = props.pickerValue,\n    onPickerValueChange = props.onPickerValueChange,\n    needConfirm = props.needConfirm,\n    onSubmit = props.onSubmit,\n    range = props.range,\n    hoverValue = props.hoverValue;\n  var _React$useContext = React.useContext(PickerContext),\n    prefixCls = _React$useContext.prefixCls,\n    generateConfig = _React$useContext.generateConfig;\n\n  // ======================== Offset ========================\n  var internalOffsetDate = React.useCallback(function (date, offset) {\n    return offsetPanelDate(generateConfig, picker, date, offset);\n  }, [generateConfig, picker]);\n  var nextPickerValue = React.useMemo(function () {\n    return internalOffsetDate(pickerValue, 1);\n  }, [pickerValue, internalOffsetDate]);\n\n  // Outside\n  var onSecondPickerValueChange = function onSecondPickerValueChange(nextDate) {\n    onPickerValueChange(internalOffsetDate(nextDate, -1));\n  };\n\n  // ======================= Context ========================\n  var sharedContext = {\n    onCellDblClick: function onCellDblClick() {\n      if (needConfirm) {\n        onSubmit();\n      }\n    }\n  };\n  var hideHeader = picker === 'time';\n\n  // ======================== Props =========================\n  var pickerProps = _objectSpread(_objectSpread({}, props), {}, {\n    hoverValue: null,\n    hoverRangeValue: null,\n    hideHeader: hideHeader\n  });\n  if (range) {\n    pickerProps.hoverRangeValue = hoverValue;\n  } else {\n    pickerProps.hoverValue = hoverValue;\n  }\n\n  // ======================== Render ========================\n  // Multiple\n  if (multiplePanel) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"\".concat(prefixCls, \"-panels\")\n    }, /*#__PURE__*/React.createElement(PickerHackContext.Provider, {\n      value: _objectSpread(_objectSpread({}, sharedContext), {}, {\n        hideNext: true\n      })\n    }, /*#__PURE__*/React.createElement(PickerPanel, pickerProps)), /*#__PURE__*/React.createElement(PickerHackContext.Provider, {\n      value: _objectSpread(_objectSpread({}, sharedContext), {}, {\n        hidePrev: true\n      })\n    }, /*#__PURE__*/React.createElement(PickerPanel, _extends({}, pickerProps, {\n      pickerValue: nextPickerValue,\n      onPickerValueChange: onSecondPickerValueChange\n    }))));\n  }\n\n  // Single\n  return /*#__PURE__*/React.createElement(PickerHackContext.Provider, {\n    value: _objectSpread({}, sharedContext)\n  }, /*#__PURE__*/React.createElement(PickerPanel, pickerProps));\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}