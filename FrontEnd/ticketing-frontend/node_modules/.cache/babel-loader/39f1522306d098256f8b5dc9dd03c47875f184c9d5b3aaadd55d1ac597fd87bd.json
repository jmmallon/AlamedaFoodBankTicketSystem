{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/esm/slicedToArray\";import*as React from'react';import useLayoutEffect from\"rc-util/es/hooks/useLayoutEffect\";import canUseDom from\"rc-util/es/Dom/canUseDom\";import OrderContext from\"./Context\";var EMPTY_LIST=[];/**\n * Will add `div` to document. Nest call will keep order\n * @param render Render DOM in document\n */export default function useDom(render,debug){var _React$useState=React.useState(function(){if(!canUseDom()){return null;}var defaultEle=document.createElement('div');if(process.env.NODE_ENV!=='production'&&debug){defaultEle.setAttribute('data-debug',debug);}return defaultEle;}),_React$useState2=_slicedToArray(_React$useState,1),ele=_React$useState2[0];// ========================== Order ==========================\nvar appendedRef=React.useRef(false);var queueCreate=React.useContext(OrderContext);var _React$useState3=React.useState(EMPTY_LIST),_React$useState4=_slicedToArray(_React$useState3,2),queue=_React$useState4[0],setQueue=_React$useState4[1];var mergedQueueCreate=queueCreate||(appendedRef.current?undefined:function(appendFn){setQueue(function(origin){var newQueue=[appendFn].concat(_toConsumableArray(origin));return newQueue;});});// =========================== DOM ===========================\nfunction append(){if(!ele.parentElement){document.body.appendChild(ele);}appendedRef.current=true;}function cleanup(){var _ele$parentElement;(_ele$parentElement=ele.parentElement)===null||_ele$parentElement===void 0?void 0:_ele$parentElement.removeChild(ele);appendedRef.current=false;}useLayoutEffect(function(){if(render){if(queueCreate){queueCreate(append);}else{append();}}else{cleanup();}return cleanup;},[render]);useLayoutEffect(function(){if(queue.length){queue.forEach(function(appendFn){return appendFn();});setQueue(EMPTY_LIST);}},[queue]);return[ele,mergedQueueCreate];}","map":{"version":3,"names":["_toConsumableArray","_slicedToArray","React","useLayoutEffect","canUseDom","OrderContext","EMPTY_LIST","useDom","render","debug","_React$useState","useState","defaultEle","document","createElement","process","env","NODE_ENV","setAttribute","_React$useState2","ele","appendedRef","useRef","queueCreate","useContext","_React$useState3","_React$useState4","queue","setQueue","mergedQueueCreate","current","undefined","appendFn","origin","newQueue","concat","append","parentElement","body","appendChild","cleanup","_ele$parentElement","removeChild","length","forEach"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/@rc-component/portal/es/useDom.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport * as React from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport OrderContext from \"./Context\";\nvar EMPTY_LIST = [];\n\n/**\n * Will add `div` to document. Nest call will keep order\n * @param render Render DOM in document\n */\nexport default function useDom(render, debug) {\n  var _React$useState = React.useState(function () {\n      if (!canUseDom()) {\n        return null;\n      }\n      var defaultEle = document.createElement('div');\n      if (process.env.NODE_ENV !== 'production' && debug) {\n        defaultEle.setAttribute('data-debug', debug);\n      }\n      return defaultEle;\n    }),\n    _React$useState2 = _slicedToArray(_React$useState, 1),\n    ele = _React$useState2[0];\n\n  // ========================== Order ==========================\n  var appendedRef = React.useRef(false);\n  var queueCreate = React.useContext(OrderContext);\n  var _React$useState3 = React.useState(EMPTY_LIST),\n    _React$useState4 = _slicedToArray(_React$useState3, 2),\n    queue = _React$useState4[0],\n    setQueue = _React$useState4[1];\n  var mergedQueueCreate = queueCreate || (appendedRef.current ? undefined : function (appendFn) {\n    setQueue(function (origin) {\n      var newQueue = [appendFn].concat(_toConsumableArray(origin));\n      return newQueue;\n    });\n  });\n\n  // =========================== DOM ===========================\n  function append() {\n    if (!ele.parentElement) {\n      document.body.appendChild(ele);\n    }\n    appendedRef.current = true;\n  }\n  function cleanup() {\n    var _ele$parentElement;\n    (_ele$parentElement = ele.parentElement) === null || _ele$parentElement === void 0 ? void 0 : _ele$parentElement.removeChild(ele);\n    appendedRef.current = false;\n  }\n  useLayoutEffect(function () {\n    if (render) {\n      if (queueCreate) {\n        queueCreate(append);\n      } else {\n        append();\n      }\n    } else {\n      cleanup();\n    }\n    return cleanup;\n  }, [render]);\n  useLayoutEffect(function () {\n    if (queue.length) {\n      queue.forEach(function (appendFn) {\n        return appendFn();\n      });\n      setQueue(EMPTY_LIST);\n    }\n  }, [queue]);\n  return [ele, mergedQueueCreate];\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}