{"ast":null,"code":"import _toConsumableArray from\"@babel/runtime/helpers/esm/toConsumableArray\";export function file2Obj(file){return Object.assign(Object.assign({},file),{lastModified:file.lastModified,lastModifiedDate:file.lastModifiedDate,name:file.name,size:file.size,type:file.type,uid:file.uid,percent:0,originFileObj:file});}/** Upload fileList. Replace file if exist or just push into it. */export function updateFileList(file,fileList){const nextFileList=_toConsumableArray(fileList);const fileIndex=nextFileList.findIndex(_ref=>{let{uid}=_ref;return uid===file.uid;});if(fileIndex===-1){nextFileList.push(file);}else{nextFileList[fileIndex]=file;}return nextFileList;}export function getFileItem(file,fileList){const matchKey=file.uid!==undefined?'uid':'name';return fileList.filter(item=>item[matchKey]===file[matchKey])[0];}export function removeFileItem(file,fileList){const matchKey=file.uid!==undefined?'uid':'name';const removed=fileList.filter(item=>item[matchKey]!==file[matchKey]);if(removed.length===fileList.length){return null;}return removed;}// ==================== Default Image Preview ====================\nconst extname=function(){let url=arguments.length>0&&arguments[0]!==undefined?arguments[0]:'';const temp=url.split('/');const filename=temp[temp.length-1];const filenameWithoutSuffix=filename.split(/#|\\?/)[0];return(/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix)||[''])[0];};const isImageFileType=type=>type.indexOf('image/')===0;export const isImageUrl=file=>{if(file.type&&!file.thumbUrl){return isImageFileType(file.type);}const url=file.thumbUrl||file.url||'';const extension=extname(url);if(/^data:image\\//.test(url)||/(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)){return true;}if(/^data:/.test(url)){// other file types of base64\nreturn false;}if(extension){// other file types which have extension\nreturn false;}return true;};const MEASURE_SIZE=200;export function previewImage(file){return new Promise(resolve=>{if(!file.type||!isImageFileType(file.type)){resolve('');return;}const canvas=document.createElement('canvas');canvas.width=MEASURE_SIZE;canvas.height=MEASURE_SIZE;canvas.style.cssText=\"position: fixed; left: 0; top: 0; width: \".concat(MEASURE_SIZE,\"px; height: \").concat(MEASURE_SIZE,\"px; z-index: 9999; display: none;\");document.body.appendChild(canvas);const ctx=canvas.getContext('2d');const img=new Image();img.onload=()=>{const{width,height}=img;let drawWidth=MEASURE_SIZE;let drawHeight=MEASURE_SIZE;let offsetX=0;let offsetY=0;if(width>height){drawHeight=height*(MEASURE_SIZE/width);offsetY=-(drawHeight-drawWidth)/2;}else{drawWidth=width*(MEASURE_SIZE/height);offsetX=-(drawWidth-drawHeight)/2;}ctx.drawImage(img,offsetX,offsetY,drawWidth,drawHeight);const dataURL=canvas.toDataURL();document.body.removeChild(canvas);window.URL.revokeObjectURL(img.src);resolve(dataURL);};img.crossOrigin='anonymous';if(file.type.startsWith('image/svg+xml')){const reader=new FileReader();reader.onload=()=>{if(reader.result&&typeof reader.result==='string'){img.src=reader.result;}};reader.readAsDataURL(file);}else if(file.type.startsWith('image/gif')){const reader=new FileReader();reader.onload=()=>{if(reader.result){resolve(reader.result);}};reader.readAsDataURL(file);}else{img.src=window.URL.createObjectURL(file);}});}","map":{"version":3,"names":["_toConsumableArray","file2Obj","file","Object","assign","lastModified","lastModifiedDate","name","size","type","uid","percent","originFileObj","updateFileList","fileList","nextFileList","fileIndex","findIndex","_ref","push","getFileItem","matchKey","undefined","filter","item","removeFileItem","removed","length","extname","url","arguments","temp","split","filename","filenameWithoutSuffix","exec","isImageFileType","indexOf","isImageUrl","thumbUrl","extension","test","MEASURE_SIZE","previewImage","Promise","resolve","canvas","document","createElement","width","height","style","cssText","concat","body","appendChild","ctx","getContext","img","Image","onload","drawWidth","drawHeight","offsetX","offsetY","drawImage","dataURL","toDataURL","removeChild","window","URL","revokeObjectURL","src","crossOrigin","startsWith","reader","FileReader","result","readAsDataURL","createObjectURL"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/antd/es/upload/utils.js"],"sourcesContent":["import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nexport function file2Obj(file) {\n  return Object.assign(Object.assign({}, file), {\n    lastModified: file.lastModified,\n    lastModifiedDate: file.lastModifiedDate,\n    name: file.name,\n    size: file.size,\n    type: file.type,\n    uid: file.uid,\n    percent: 0,\n    originFileObj: file\n  });\n}\n/** Upload fileList. Replace file if exist or just push into it. */\nexport function updateFileList(file, fileList) {\n  const nextFileList = _toConsumableArray(fileList);\n  const fileIndex = nextFileList.findIndex(_ref => {\n    let {\n      uid\n    } = _ref;\n    return uid === file.uid;\n  });\n  if (fileIndex === -1) {\n    nextFileList.push(file);\n  } else {\n    nextFileList[fileIndex] = file;\n  }\n  return nextFileList;\n}\nexport function getFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  return fileList.filter(item => item[matchKey] === file[matchKey])[0];\n}\nexport function removeFileItem(file, fileList) {\n  const matchKey = file.uid !== undefined ? 'uid' : 'name';\n  const removed = fileList.filter(item => item[matchKey] !== file[matchKey]);\n  if (removed.length === fileList.length) {\n    return null;\n  }\n  return removed;\n}\n// ==================== Default Image Preview ====================\nconst extname = function () {\n  let url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  const temp = url.split('/');\n  const filename = temp[temp.length - 1];\n  const filenameWithoutSuffix = filename.split(/#|\\?/)[0];\n  return (/\\.[^./\\\\]*$/.exec(filenameWithoutSuffix) || [''])[0];\n};\nconst isImageFileType = type => type.indexOf('image/') === 0;\nexport const isImageUrl = file => {\n  if (file.type && !file.thumbUrl) {\n    return isImageFileType(file.type);\n  }\n  const url = file.thumbUrl || file.url || '';\n  const extension = extname(url);\n  if (/^data:image\\//.test(url) || /(webp|svg|png|gif|jpg|jpeg|jfif|bmp|dpg|ico|heic|heif)$/i.test(extension)) {\n    return true;\n  }\n  if (/^data:/.test(url)) {\n    // other file types of base64\n    return false;\n  }\n  if (extension) {\n    // other file types which have extension\n    return false;\n  }\n  return true;\n};\nconst MEASURE_SIZE = 200;\nexport function previewImage(file) {\n  return new Promise(resolve => {\n    if (!file.type || !isImageFileType(file.type)) {\n      resolve('');\n      return;\n    }\n    const canvas = document.createElement('canvas');\n    canvas.width = MEASURE_SIZE;\n    canvas.height = MEASURE_SIZE;\n    canvas.style.cssText = `position: fixed; left: 0; top: 0; width: ${MEASURE_SIZE}px; height: ${MEASURE_SIZE}px; z-index: 9999; display: none;`;\n    document.body.appendChild(canvas);\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    img.onload = () => {\n      const {\n        width,\n        height\n      } = img;\n      let drawWidth = MEASURE_SIZE;\n      let drawHeight = MEASURE_SIZE;\n      let offsetX = 0;\n      let offsetY = 0;\n      if (width > height) {\n        drawHeight = height * (MEASURE_SIZE / width);\n        offsetY = -(drawHeight - drawWidth) / 2;\n      } else {\n        drawWidth = width * (MEASURE_SIZE / height);\n        offsetX = -(drawWidth - drawHeight) / 2;\n      }\n      ctx.drawImage(img, offsetX, offsetY, drawWidth, drawHeight);\n      const dataURL = canvas.toDataURL();\n      document.body.removeChild(canvas);\n      window.URL.revokeObjectURL(img.src);\n      resolve(dataURL);\n    };\n    img.crossOrigin = 'anonymous';\n    if (file.type.startsWith('image/svg+xml')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result && typeof reader.result === 'string') {\n          img.src = reader.result;\n        }\n      };\n      reader.readAsDataURL(file);\n    } else if (file.type.startsWith('image/gif')) {\n      const reader = new FileReader();\n      reader.onload = () => {\n        if (reader.result) {\n          resolve(reader.result);\n        }\n      };\n      reader.readAsDataURL(file);\n    } else {\n      img.src = window.URL.createObjectURL(file);\n    }\n  });\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}