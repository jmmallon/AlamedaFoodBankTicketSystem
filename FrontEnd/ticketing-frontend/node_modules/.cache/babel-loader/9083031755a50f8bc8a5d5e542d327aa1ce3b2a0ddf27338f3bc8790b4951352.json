{"ast":null,"code":"import{useRef}from'react';import warning from\"rc-util/es/warning\";/**\n * Keep input cursor in the correct position if possible.\n * Is this necessary since we have `formatter` which may mass the content?\n */export default function useCursor(input,focused){var selectionRef=useRef(null);function recordCursor(){// Record position\ntry{var start=input.selectionStart,end=input.selectionEnd,value=input.value;var beforeTxt=value.substring(0,start);var afterTxt=value.substring(end);selectionRef.current={start:start,end:end,value:value,beforeTxt:beforeTxt,afterTxt:afterTxt};}catch(e){// Fix error in Chrome:\n// Failed to read the 'selectionStart' property from 'HTMLInputElement'\n// http://stackoverflow.com/q/21177489/3040605\n}}/**\n   * Restore logic:\n   *  1. back string same\n   *  2. start string same\n   */function restoreCursor(){if(input&&selectionRef.current&&focused){try{var value=input.value;var _selectionRef$current=selectionRef.current,beforeTxt=_selectionRef$current.beforeTxt,afterTxt=_selectionRef$current.afterTxt,start=_selectionRef$current.start;var startPos=value.length;if(value.endsWith(afterTxt)){startPos=value.length-selectionRef.current.afterTxt.length;}else if(value.startsWith(beforeTxt)){startPos=beforeTxt.length;}else{var beforeLastChar=beforeTxt[start-1];var newIndex=value.indexOf(beforeLastChar,start-1);if(newIndex!==-1){startPos=newIndex+1;}}input.setSelectionRange(startPos,startPos);}catch(e){warning(false,\"Something warning of cursor restore. Please fire issue about this: \".concat(e.message));}}}return[recordCursor,restoreCursor];}","map":{"version":3,"names":["useRef","warning","useCursor","input","focused","selectionRef","recordCursor","start","selectionStart","end","selectionEnd","value","beforeTxt","substring","afterTxt","current","e","restoreCursor","_selectionRef$current","startPos","length","endsWith","startsWith","beforeLastChar","newIndex","indexOf","setSelectionRange","concat","message"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-input-number/es/hooks/useCursor.js"],"sourcesContent":["import { useRef } from 'react';\nimport warning from \"rc-util/es/warning\";\n/**\n * Keep input cursor in the correct position if possible.\n * Is this necessary since we have `formatter` which may mass the content?\n */\nexport default function useCursor(input, focused) {\n  var selectionRef = useRef(null);\n  function recordCursor() {\n    // Record position\n    try {\n      var start = input.selectionStart,\n        end = input.selectionEnd,\n        value = input.value;\n      var beforeTxt = value.substring(0, start);\n      var afterTxt = value.substring(end);\n      selectionRef.current = {\n        start: start,\n        end: end,\n        value: value,\n        beforeTxt: beforeTxt,\n        afterTxt: afterTxt\n      };\n    } catch (e) {\n      // Fix error in Chrome:\n      // Failed to read the 'selectionStart' property from 'HTMLInputElement'\n      // http://stackoverflow.com/q/21177489/3040605\n    }\n  }\n\n  /**\n   * Restore logic:\n   *  1. back string same\n   *  2. start string same\n   */\n  function restoreCursor() {\n    if (input && selectionRef.current && focused) {\n      try {\n        var value = input.value;\n        var _selectionRef$current = selectionRef.current,\n          beforeTxt = _selectionRef$current.beforeTxt,\n          afterTxt = _selectionRef$current.afterTxt,\n          start = _selectionRef$current.start;\n        var startPos = value.length;\n        if (value.endsWith(afterTxt)) {\n          startPos = value.length - selectionRef.current.afterTxt.length;\n        } else if (value.startsWith(beforeTxt)) {\n          startPos = beforeTxt.length;\n        } else {\n          var beforeLastChar = beforeTxt[start - 1];\n          var newIndex = value.indexOf(beforeLastChar, start - 1);\n          if (newIndex !== -1) {\n            startPos = newIndex + 1;\n          }\n        }\n        input.setSelectionRange(startPos, startPos);\n      } catch (e) {\n        warning(false, \"Something warning of cursor restore. Please fire issue about this: \".concat(e.message));\n      }\n    }\n  }\n  return [recordCursor, restoreCursor];\n}"],"mappings":"AAAA,OAASA,MAAM,KAAQ,OAAO,CAC9B,MAAO,CAAAC,OAAO,KAAM,oBAAoB,CACxC;AACA;AACA;AACA,GACA,cAAe,SAAS,CAAAC,SAASA,CAACC,KAAK,CAAEC,OAAO,CAAE,CAChD,GAAI,CAAAC,YAAY,CAAGL,MAAM,CAAC,IAAI,CAAC,CAC/B,QAAS,CAAAM,YAAYA,CAAA,CAAG,CACtB;AACA,GAAI,CACF,GAAI,CAAAC,KAAK,CAAGJ,KAAK,CAACK,cAAc,CAC9BC,GAAG,CAAGN,KAAK,CAACO,YAAY,CACxBC,KAAK,CAAGR,KAAK,CAACQ,KAAK,CACrB,GAAI,CAAAC,SAAS,CAAGD,KAAK,CAACE,SAAS,CAAC,CAAC,CAAEN,KAAK,CAAC,CACzC,GAAI,CAAAO,QAAQ,CAAGH,KAAK,CAACE,SAAS,CAACJ,GAAG,CAAC,CACnCJ,YAAY,CAACU,OAAO,CAAG,CACrBR,KAAK,CAAEA,KAAK,CACZE,GAAG,CAAEA,GAAG,CACRE,KAAK,CAAEA,KAAK,CACZC,SAAS,CAAEA,SAAS,CACpBE,QAAQ,CAAEA,QACZ,CAAC,CACH,CAAE,MAAOE,CAAC,CAAE,CACV;AACA;AACA;AAAA,CAEJ,CAEA;AACF;AACA;AACA;AACA,KACE,QAAS,CAAAC,aAAaA,CAAA,CAAG,CACvB,GAAId,KAAK,EAAIE,YAAY,CAACU,OAAO,EAAIX,OAAO,CAAE,CAC5C,GAAI,CACF,GAAI,CAAAO,KAAK,CAAGR,KAAK,CAACQ,KAAK,CACvB,GAAI,CAAAO,qBAAqB,CAAGb,YAAY,CAACU,OAAO,CAC9CH,SAAS,CAAGM,qBAAqB,CAACN,SAAS,CAC3CE,QAAQ,CAAGI,qBAAqB,CAACJ,QAAQ,CACzCP,KAAK,CAAGW,qBAAqB,CAACX,KAAK,CACrC,GAAI,CAAAY,QAAQ,CAAGR,KAAK,CAACS,MAAM,CAC3B,GAAIT,KAAK,CAACU,QAAQ,CAACP,QAAQ,CAAC,CAAE,CAC5BK,QAAQ,CAAGR,KAAK,CAACS,MAAM,CAAGf,YAAY,CAACU,OAAO,CAACD,QAAQ,CAACM,MAAM,CAChE,CAAC,IAAM,IAAIT,KAAK,CAACW,UAAU,CAACV,SAAS,CAAC,CAAE,CACtCO,QAAQ,CAAGP,SAAS,CAACQ,MAAM,CAC7B,CAAC,IAAM,CACL,GAAI,CAAAG,cAAc,CAAGX,SAAS,CAACL,KAAK,CAAG,CAAC,CAAC,CACzC,GAAI,CAAAiB,QAAQ,CAAGb,KAAK,CAACc,OAAO,CAACF,cAAc,CAAEhB,KAAK,CAAG,CAAC,CAAC,CACvD,GAAIiB,QAAQ,GAAK,CAAC,CAAC,CAAE,CACnBL,QAAQ,CAAGK,QAAQ,CAAG,CAAC,CACzB,CACF,CACArB,KAAK,CAACuB,iBAAiB,CAACP,QAAQ,CAAEA,QAAQ,CAAC,CAC7C,CAAE,MAAOH,CAAC,CAAE,CACVf,OAAO,CAAC,KAAK,CAAE,qEAAqE,CAAC0B,MAAM,CAACX,CAAC,CAACY,OAAO,CAAC,CAAC,CACzG,CACF,CACF,CACA,MAAO,CAACtB,YAAY,CAAEW,aAAa,CAAC,CACtC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}