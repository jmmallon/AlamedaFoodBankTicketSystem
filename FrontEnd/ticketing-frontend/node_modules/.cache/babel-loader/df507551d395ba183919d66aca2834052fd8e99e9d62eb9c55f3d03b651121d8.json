{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import*as React from'react';import{toArray}from\"../utils/commonUtil\";import{injectPropsWithOption}from\"../utils/valueUtil\";function includes(test,search){return toArray(test).join('').toUpperCase().includes(search);}export default(function(options,fieldNames,searchValue,filterOption,optionFilterProp){return React.useMemo(function(){if(!searchValue||filterOption===false){return options;}var fieldOptions=fieldNames.options,fieldLabel=fieldNames.label,fieldValue=fieldNames.value;var filteredOptions=[];var customizeFilter=typeof filterOption==='function';var upperSearch=searchValue.toUpperCase();var filterFunc=customizeFilter?filterOption:function(_,option){// Use provided `optionFilterProp`\nif(optionFilterProp){return includes(option[optionFilterProp],upperSearch);}// Auto select `label` or `value` by option type\nif(option[fieldOptions]){// hack `fieldLabel` since `OptionGroup` children is not `label`\nreturn includes(option[fieldLabel!=='children'?fieldLabel:'label'],upperSearch);}return includes(option[fieldValue],upperSearch);};var wrapOption=customizeFilter?function(opt){return injectPropsWithOption(opt);}:function(opt){return opt;};options.forEach(function(item){// Group should check child options\nif(item[fieldOptions]){// Check group first\nvar matchGroup=filterFunc(searchValue,wrapOption(item));if(matchGroup){filteredOptions.push(item);}else{// Check option\nvar subOptions=item[fieldOptions].filter(function(subItem){return filterFunc(searchValue,wrapOption(subItem));});if(subOptions.length){filteredOptions.push(_objectSpread(_objectSpread({},item),{},_defineProperty({},fieldOptions,subOptions)));}}return;}if(filterFunc(searchValue,wrapOption(item))){filteredOptions.push(item);}});return filteredOptions;},[options,filterOption,optionFilterProp,searchValue,fieldNames]);});","map":{"version":3,"names":["_defineProperty","_objectSpread","React","toArray","injectPropsWithOption","includes","test","search","join","toUpperCase","options","fieldNames","searchValue","filterOption","optionFilterProp","useMemo","fieldOptions","fieldLabel","label","fieldValue","value","filteredOptions","customizeFilter","upperSearch","filterFunc","_","option","wrapOption","opt","forEach","item","matchGroup","push","subOptions","filter","subItem","length"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-select/es/hooks/useFilterOptions.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport * as React from 'react';\nimport { toArray } from \"../utils/commonUtil\";\nimport { injectPropsWithOption } from \"../utils/valueUtil\";\nfunction includes(test, search) {\n  return toArray(test).join('').toUpperCase().includes(search);\n}\nexport default (function (options, fieldNames, searchValue, filterOption, optionFilterProp) {\n  return React.useMemo(function () {\n    if (!searchValue || filterOption === false) {\n      return options;\n    }\n    var fieldOptions = fieldNames.options,\n      fieldLabel = fieldNames.label,\n      fieldValue = fieldNames.value;\n    var filteredOptions = [];\n    var customizeFilter = typeof filterOption === 'function';\n    var upperSearch = searchValue.toUpperCase();\n    var filterFunc = customizeFilter ? filterOption : function (_, option) {\n      // Use provided `optionFilterProp`\n      if (optionFilterProp) {\n        return includes(option[optionFilterProp], upperSearch);\n      }\n\n      // Auto select `label` or `value` by option type\n      if (option[fieldOptions]) {\n        // hack `fieldLabel` since `OptionGroup` children is not `label`\n        return includes(option[fieldLabel !== 'children' ? fieldLabel : 'label'], upperSearch);\n      }\n      return includes(option[fieldValue], upperSearch);\n    };\n    var wrapOption = customizeFilter ? function (opt) {\n      return injectPropsWithOption(opt);\n    } : function (opt) {\n      return opt;\n    };\n    options.forEach(function (item) {\n      // Group should check child options\n      if (item[fieldOptions]) {\n        // Check group first\n        var matchGroup = filterFunc(searchValue, wrapOption(item));\n        if (matchGroup) {\n          filteredOptions.push(item);\n        } else {\n          // Check option\n          var subOptions = item[fieldOptions].filter(function (subItem) {\n            return filterFunc(searchValue, wrapOption(subItem));\n          });\n          if (subOptions.length) {\n            filteredOptions.push(_objectSpread(_objectSpread({}, item), {}, _defineProperty({}, fieldOptions, subOptions)));\n          }\n        }\n        return;\n      }\n      if (filterFunc(searchValue, wrapOption(item))) {\n        filteredOptions.push(item);\n      }\n    });\n    return filteredOptions;\n  }, [options, filterOption, optionFilterProp, searchValue, fieldNames]);\n});"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}