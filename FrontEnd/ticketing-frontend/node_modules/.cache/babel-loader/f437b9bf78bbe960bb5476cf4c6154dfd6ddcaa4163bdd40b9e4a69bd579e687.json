{"ast":null,"code":"import*as React from'react';import{useRef}from'react';import{animationEndName,transitionEndName}from\"../util/motion\";export default(function(callback){var cacheElementRef=useRef();// Cache callback\nvar callbackRef=useRef(callback);callbackRef.current=callback;// Internal motion event handler\nvar onInternalMotionEnd=React.useCallback(function(event){callbackRef.current(event);},[]);// Remove events\nfunction removeMotionEvents(element){if(element){element.removeEventListener(transitionEndName,onInternalMotionEnd);element.removeEventListener(animationEndName,onInternalMotionEnd);}}// Patch events\nfunction patchMotionEvents(element){if(cacheElementRef.current&&cacheElementRef.current!==element){removeMotionEvents(cacheElementRef.current);}if(element&&element!==cacheElementRef.current){element.addEventListener(transitionEndName,onInternalMotionEnd);element.addEventListener(animationEndName,onInternalMotionEnd);// Save as cache in case dom removed trigger by `motionDeadline`\ncacheElementRef.current=element;}}// Clean up when removed\nReact.useEffect(function(){return function(){removeMotionEvents(cacheElementRef.current);};},[]);return[patchMotionEvents,removeMotionEvents];});","map":{"version":3,"names":["React","useRef","animationEndName","transitionEndName","callback","cacheElementRef","callbackRef","current","onInternalMotionEnd","useCallback","event","removeMotionEvents","element","removeEventListener","patchMotionEvents","addEventListener","useEffect"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-motion/es/hooks/useDomMotionEvents.js"],"sourcesContent":["import * as React from 'react';\nimport { useRef } from 'react';\nimport { animationEndName, transitionEndName } from \"../util/motion\";\nexport default (function (callback) {\n  var cacheElementRef = useRef();\n\n  // Cache callback\n  var callbackRef = useRef(callback);\n  callbackRef.current = callback;\n\n  // Internal motion event handler\n  var onInternalMotionEnd = React.useCallback(function (event) {\n    callbackRef.current(event);\n  }, []);\n\n  // Remove events\n  function removeMotionEvents(element) {\n    if (element) {\n      element.removeEventListener(transitionEndName, onInternalMotionEnd);\n      element.removeEventListener(animationEndName, onInternalMotionEnd);\n    }\n  }\n\n  // Patch events\n  function patchMotionEvents(element) {\n    if (cacheElementRef.current && cacheElementRef.current !== element) {\n      removeMotionEvents(cacheElementRef.current);\n    }\n    if (element && element !== cacheElementRef.current) {\n      element.addEventListener(transitionEndName, onInternalMotionEnd);\n      element.addEventListener(animationEndName, onInternalMotionEnd);\n\n      // Save as cache in case dom removed trigger by `motionDeadline`\n      cacheElementRef.current = element;\n    }\n  }\n\n  // Clean up when removed\n  React.useEffect(function () {\n    return function () {\n      removeMotionEvents(cacheElementRef.current);\n    };\n  }, []);\n  return [patchMotionEvents, removeMotionEvents];\n});"],"mappings":"AAAA,MAAO,GAAK,CAAAA,KAAK,KAAM,OAAO,CAC9B,OAASC,MAAM,KAAQ,OAAO,CAC9B,OAASC,gBAAgB,CAAEC,iBAAiB,KAAQ,gBAAgB,CACpE,eAAgB,SAAUC,QAAQ,CAAE,CAClC,GAAI,CAAAC,eAAe,CAAGJ,MAAM,CAAC,CAAC,CAE9B;AACA,GAAI,CAAAK,WAAW,CAAGL,MAAM,CAACG,QAAQ,CAAC,CAClCE,WAAW,CAACC,OAAO,CAAGH,QAAQ,CAE9B;AACA,GAAI,CAAAI,mBAAmB,CAAGR,KAAK,CAACS,WAAW,CAAC,SAAUC,KAAK,CAAE,CAC3DJ,WAAW,CAACC,OAAO,CAACG,KAAK,CAAC,CAC5B,CAAC,CAAE,EAAE,CAAC,CAEN;AACA,QAAS,CAAAC,kBAAkBA,CAACC,OAAO,CAAE,CACnC,GAAIA,OAAO,CAAE,CACXA,OAAO,CAACC,mBAAmB,CAACV,iBAAiB,CAAEK,mBAAmB,CAAC,CACnEI,OAAO,CAACC,mBAAmB,CAACX,gBAAgB,CAAEM,mBAAmB,CAAC,CACpE,CACF,CAEA;AACA,QAAS,CAAAM,iBAAiBA,CAACF,OAAO,CAAE,CAClC,GAAIP,eAAe,CAACE,OAAO,EAAIF,eAAe,CAACE,OAAO,GAAKK,OAAO,CAAE,CAClED,kBAAkB,CAACN,eAAe,CAACE,OAAO,CAAC,CAC7C,CACA,GAAIK,OAAO,EAAIA,OAAO,GAAKP,eAAe,CAACE,OAAO,CAAE,CAClDK,OAAO,CAACG,gBAAgB,CAACZ,iBAAiB,CAAEK,mBAAmB,CAAC,CAChEI,OAAO,CAACG,gBAAgB,CAACb,gBAAgB,CAAEM,mBAAmB,CAAC,CAE/D;AACAH,eAAe,CAACE,OAAO,CAAGK,OAAO,CACnC,CACF,CAEA;AACAZ,KAAK,CAACgB,SAAS,CAAC,UAAY,CAC1B,MAAO,WAAY,CACjBL,kBAAkB,CAACN,eAAe,CAACE,OAAO,CAAC,CAC7C,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CACN,MAAO,CAACO,iBAAiB,CAAEH,kBAAkB,CAAC,CAChD,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}