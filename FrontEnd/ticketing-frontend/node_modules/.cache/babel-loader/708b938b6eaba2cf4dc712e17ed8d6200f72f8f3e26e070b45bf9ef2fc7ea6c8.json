{"ast":null,"code":"import _objectSpread from\"@babel/runtime/helpers/esm/objectSpread2\";import{warning}from'rc-util';import pickAttrs from\"rc-util/es/pickAttrs\";import*as React from'react';import{formatValue}from\"../../../utils/dateUtil\";export default function useInputProps(props,/** Used for SinglePicker */postProps){var format=props.format,maskFormat=props.maskFormat,generateConfig=props.generateConfig,locale=props.locale,preserveInvalidOnBlur=props.preserveInvalidOnBlur,inputReadOnly=props.inputReadOnly,required=props.required,ariaRequired=props['aria-required'],onSubmit=props.onSubmit,_onFocus=props.onFocus,_onBlur=props.onBlur,onInputChange=props.onInputChange,onInvalid=props.onInvalid,open=props.open,onOpenChange=props.onOpenChange,_onKeyDown=props.onKeyDown,_onChange=props.onChange,activeHelp=props.activeHelp,name=props.name,autoComplete=props.autoComplete,id=props.id,value=props.value,invalid=props.invalid,placeholder=props.placeholder,disabled=props.disabled,activeIndex=props.activeIndex,allHelp=props.allHelp,picker=props.picker;// ======================== Parser ========================\nvar parseDate=function parseDate(str,formatStr){var parsed=generateConfig.locale.parse(locale.locale,str,[formatStr]);return parsed&&generateConfig.isValidate(parsed)?parsed:null;};// ========================= Text =========================\nvar firstFormat=format[0];var getText=React.useCallback(function(date){return formatValue(date,{locale:locale,format:firstFormat,generateConfig:generateConfig});},[locale,generateConfig,firstFormat]);var valueTexts=React.useMemo(function(){return value.map(getText);},[value,getText]);// ========================= Size =========================\nvar size=React.useMemo(function(){var defaultSize=picker==='time'?8:10;var length=typeof firstFormat==='function'?firstFormat(generateConfig.getNow()).length:firstFormat.length;return Math.max(defaultSize,length)+2;},[firstFormat,picker,generateConfig]);// ======================= Validate =======================\nvar _validateFormat=function validateFormat(text){for(var i=0;i<format.length;i+=1){var singleFormat=format[i];// Only support string type\nif(typeof singleFormat==='string'){var parsed=parseDate(text,singleFormat);if(parsed){return parsed;}}}return false;};// ======================== Input =========================\nvar getInputProps=function getInputProps(index){function getProp(propValue){return index!==undefined?propValue[index]:propValue;}var pickedAttrs=pickAttrs(props,{aria:true,data:true});var inputProps=_objectSpread(_objectSpread({},pickedAttrs),{},{// ============== Shared ==============\nformat:maskFormat,validateFormat:function validateFormat(text){return!!_validateFormat(text);},preserveInvalidOnBlur:preserveInvalidOnBlur,readOnly:inputReadOnly,required:required,'aria-required':ariaRequired,name:name,autoComplete:autoComplete,size:size,// ============= By Index =============\nid:getProp(id),value:getProp(valueTexts)||'',invalid:getProp(invalid),placeholder:getProp(placeholder),active:activeIndex===index,helped:allHelp||activeHelp&&activeIndex===index,disabled:getProp(disabled),onFocus:function onFocus(event){_onFocus(event,index);},onBlur:function onBlur(event){// Blur do not trigger close\n// Since it may focus to the popup panel\n_onBlur(event,index);},onSubmit:onSubmit,// Get validate text value\nonChange:function onChange(text){onInputChange();var parsed=_validateFormat(text);if(parsed){onInvalid(false,index);_onChange(parsed,index);return;}// Tell outer that the value typed is invalid.\n// If text is empty, it means valid.\nonInvalid(!!text,index);},onHelp:function onHelp(){onOpenChange(true,{index:index});},onKeyDown:function onKeyDown(event){var prevented=false;_onKeyDown===null||_onKeyDown===void 0||_onKeyDown(event,function(){if(process.env.NODE_ENV!=='production'){warning(false,'`preventDefault` callback is deprecated. Please call `event.preventDefault` directly.');}prevented=true;});if(!event.defaultPrevented&&!prevented){switch(event.key){case'Escape':onOpenChange(false,{index:index});break;case'Enter':if(!open){onOpenChange(true);}break;}}}},postProps===null||postProps===void 0?void 0:postProps({valueTexts:valueTexts}));// ============== Clean Up ==============\nObject.keys(inputProps).forEach(function(key){if(inputProps[key]===undefined){delete inputProps[key];}});return inputProps;};return[getInputProps,getText];}","map":{"version":3,"names":["_objectSpread","warning","pickAttrs","React","formatValue","useInputProps","props","postProps","format","maskFormat","generateConfig","locale","preserveInvalidOnBlur","inputReadOnly","required","ariaRequired","onSubmit","_onFocus","onFocus","_onBlur","onBlur","onInputChange","onInvalid","open","onOpenChange","_onKeyDown","onKeyDown","_onChange","onChange","activeHelp","name","autoComplete","id","value","invalid","placeholder","disabled","activeIndex","allHelp","picker","parseDate","str","formatStr","parsed","parse","isValidate","firstFormat","getText","useCallback","date","valueTexts","useMemo","map","size","defaultSize","length","getNow","Math","max","_validateFormat","validateFormat","text","i","singleFormat","getInputProps","index","getProp","propValue","undefined","pickedAttrs","aria","data","inputProps","readOnly","active","helped","event","onHelp","prevented","process","env","NODE_ENV","defaultPrevented","key","Object","keys","forEach"],"sources":["/Users/jmmallon/Downloads/js/ticketproject/src/node_modules/rc-picker/es/PickerInput/Selector/hooks/useInputProps.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { warning } from 'rc-util';\nimport pickAttrs from \"rc-util/es/pickAttrs\";\nimport * as React from 'react';\nimport { formatValue } from \"../../../utils/dateUtil\";\nexport default function useInputProps(props, /** Used for SinglePicker */\npostProps) {\n  var format = props.format,\n    maskFormat = props.maskFormat,\n    generateConfig = props.generateConfig,\n    locale = props.locale,\n    preserveInvalidOnBlur = props.preserveInvalidOnBlur,\n    inputReadOnly = props.inputReadOnly,\n    required = props.required,\n    ariaRequired = props['aria-required'],\n    onSubmit = props.onSubmit,\n    _onFocus = props.onFocus,\n    _onBlur = props.onBlur,\n    onInputChange = props.onInputChange,\n    onInvalid = props.onInvalid,\n    open = props.open,\n    onOpenChange = props.onOpenChange,\n    _onKeyDown = props.onKeyDown,\n    _onChange = props.onChange,\n    activeHelp = props.activeHelp,\n    name = props.name,\n    autoComplete = props.autoComplete,\n    id = props.id,\n    value = props.value,\n    invalid = props.invalid,\n    placeholder = props.placeholder,\n    disabled = props.disabled,\n    activeIndex = props.activeIndex,\n    allHelp = props.allHelp,\n    picker = props.picker;\n\n  // ======================== Parser ========================\n  var parseDate = function parseDate(str, formatStr) {\n    var parsed = generateConfig.locale.parse(locale.locale, str, [formatStr]);\n    return parsed && generateConfig.isValidate(parsed) ? parsed : null;\n  };\n\n  // ========================= Text =========================\n  var firstFormat = format[0];\n  var getText = React.useCallback(function (date) {\n    return formatValue(date, {\n      locale: locale,\n      format: firstFormat,\n      generateConfig: generateConfig\n    });\n  }, [locale, generateConfig, firstFormat]);\n  var valueTexts = React.useMemo(function () {\n    return value.map(getText);\n  }, [value, getText]);\n\n  // ========================= Size =========================\n  var size = React.useMemo(function () {\n    var defaultSize = picker === 'time' ? 8 : 10;\n    var length = typeof firstFormat === 'function' ? firstFormat(generateConfig.getNow()).length : firstFormat.length;\n    return Math.max(defaultSize, length) + 2;\n  }, [firstFormat, picker, generateConfig]);\n\n  // ======================= Validate =======================\n  var _validateFormat = function validateFormat(text) {\n    for (var i = 0; i < format.length; i += 1) {\n      var singleFormat = format[i];\n\n      // Only support string type\n      if (typeof singleFormat === 'string') {\n        var parsed = parseDate(text, singleFormat);\n        if (parsed) {\n          return parsed;\n        }\n      }\n    }\n    return false;\n  };\n\n  // ======================== Input =========================\n  var getInputProps = function getInputProps(index) {\n    function getProp(propValue) {\n      return index !== undefined ? propValue[index] : propValue;\n    }\n    var pickedAttrs = pickAttrs(props, {\n      aria: true,\n      data: true\n    });\n    var inputProps = _objectSpread(_objectSpread({}, pickedAttrs), {}, {\n      // ============== Shared ==============\n      format: maskFormat,\n      validateFormat: function validateFormat(text) {\n        return !!_validateFormat(text);\n      },\n      preserveInvalidOnBlur: preserveInvalidOnBlur,\n      readOnly: inputReadOnly,\n      required: required,\n      'aria-required': ariaRequired,\n      name: name,\n      autoComplete: autoComplete,\n      size: size,\n      // ============= By Index =============\n      id: getProp(id),\n      value: getProp(valueTexts) || '',\n      invalid: getProp(invalid),\n      placeholder: getProp(placeholder),\n      active: activeIndex === index,\n      helped: allHelp || activeHelp && activeIndex === index,\n      disabled: getProp(disabled),\n      onFocus: function onFocus(event) {\n        _onFocus(event, index);\n      },\n      onBlur: function onBlur(event) {\n        // Blur do not trigger close\n        // Since it may focus to the popup panel\n        _onBlur(event, index);\n      },\n      onSubmit: onSubmit,\n      // Get validate text value\n      onChange: function onChange(text) {\n        onInputChange();\n        var parsed = _validateFormat(text);\n        if (parsed) {\n          onInvalid(false, index);\n          _onChange(parsed, index);\n          return;\n        }\n\n        // Tell outer that the value typed is invalid.\n        // If text is empty, it means valid.\n        onInvalid(!!text, index);\n      },\n      onHelp: function onHelp() {\n        onOpenChange(true, {\n          index: index\n        });\n      },\n      onKeyDown: function onKeyDown(event) {\n        var prevented = false;\n        _onKeyDown === null || _onKeyDown === void 0 || _onKeyDown(event, function () {\n          if (process.env.NODE_ENV !== 'production') {\n            warning(false, '`preventDefault` callback is deprecated. Please call `event.preventDefault` directly.');\n          }\n          prevented = true;\n        });\n        if (!event.defaultPrevented && !prevented) {\n          switch (event.key) {\n            case 'Escape':\n              onOpenChange(false, {\n                index: index\n              });\n              break;\n            case 'Enter':\n              if (!open) {\n                onOpenChange(true);\n              }\n              break;\n          }\n        }\n      }\n    }, postProps === null || postProps === void 0 ? void 0 : postProps({\n      valueTexts: valueTexts\n    }));\n\n    // ============== Clean Up ==============\n    Object.keys(inputProps).forEach(function (key) {\n      if (inputProps[key] === undefined) {\n        delete inputProps[key];\n      }\n    });\n    return inputProps;\n  };\n  return [getInputProps, getText];\n}"],"mappings":"AAAA,MAAO,CAAAA,aAAa,KAAM,0CAA0C,CACpE,OAASC,OAAO,KAAQ,SAAS,CACjC,MAAO,CAAAC,SAAS,KAAM,sBAAsB,CAC5C,MAAO,GAAK,CAAAC,KAAK,KAAM,OAAO,CAC9B,OAASC,WAAW,KAAQ,yBAAyB,CACrD,cAAe,SAAS,CAAAC,aAAaA,CAACC,KAAK,CAAE,4BAC7CC,SAAS,CAAE,CACT,GAAI,CAAAC,MAAM,CAAGF,KAAK,CAACE,MAAM,CACvBC,UAAU,CAAGH,KAAK,CAACG,UAAU,CAC7BC,cAAc,CAAGJ,KAAK,CAACI,cAAc,CACrCC,MAAM,CAAGL,KAAK,CAACK,MAAM,CACrBC,qBAAqB,CAAGN,KAAK,CAACM,qBAAqB,CACnDC,aAAa,CAAGP,KAAK,CAACO,aAAa,CACnCC,QAAQ,CAAGR,KAAK,CAACQ,QAAQ,CACzBC,YAAY,CAAGT,KAAK,CAAC,eAAe,CAAC,CACrCU,QAAQ,CAAGV,KAAK,CAACU,QAAQ,CACzBC,QAAQ,CAAGX,KAAK,CAACY,OAAO,CACxBC,OAAO,CAAGb,KAAK,CAACc,MAAM,CACtBC,aAAa,CAAGf,KAAK,CAACe,aAAa,CACnCC,SAAS,CAAGhB,KAAK,CAACgB,SAAS,CAC3BC,IAAI,CAAGjB,KAAK,CAACiB,IAAI,CACjBC,YAAY,CAAGlB,KAAK,CAACkB,YAAY,CACjCC,UAAU,CAAGnB,KAAK,CAACoB,SAAS,CAC5BC,SAAS,CAAGrB,KAAK,CAACsB,QAAQ,CAC1BC,UAAU,CAAGvB,KAAK,CAACuB,UAAU,CAC7BC,IAAI,CAAGxB,KAAK,CAACwB,IAAI,CACjBC,YAAY,CAAGzB,KAAK,CAACyB,YAAY,CACjCC,EAAE,CAAG1B,KAAK,CAAC0B,EAAE,CACbC,KAAK,CAAG3B,KAAK,CAAC2B,KAAK,CACnBC,OAAO,CAAG5B,KAAK,CAAC4B,OAAO,CACvBC,WAAW,CAAG7B,KAAK,CAAC6B,WAAW,CAC/BC,QAAQ,CAAG9B,KAAK,CAAC8B,QAAQ,CACzBC,WAAW,CAAG/B,KAAK,CAAC+B,WAAW,CAC/BC,OAAO,CAAGhC,KAAK,CAACgC,OAAO,CACvBC,MAAM,CAAGjC,KAAK,CAACiC,MAAM,CAEvB;AACA,GAAI,CAAAC,SAAS,CAAG,QAAS,CAAAA,SAASA,CAACC,GAAG,CAAEC,SAAS,CAAE,CACjD,GAAI,CAAAC,MAAM,CAAGjC,cAAc,CAACC,MAAM,CAACiC,KAAK,CAACjC,MAAM,CAACA,MAAM,CAAE8B,GAAG,CAAE,CAACC,SAAS,CAAC,CAAC,CACzE,MAAO,CAAAC,MAAM,EAAIjC,cAAc,CAACmC,UAAU,CAACF,MAAM,CAAC,CAAGA,MAAM,CAAG,IAAI,CACpE,CAAC,CAED;AACA,GAAI,CAAAG,WAAW,CAAGtC,MAAM,CAAC,CAAC,CAAC,CAC3B,GAAI,CAAAuC,OAAO,CAAG5C,KAAK,CAAC6C,WAAW,CAAC,SAAUC,IAAI,CAAE,CAC9C,MAAO,CAAA7C,WAAW,CAAC6C,IAAI,CAAE,CACvBtC,MAAM,CAAEA,MAAM,CACdH,MAAM,CAAEsC,WAAW,CACnBpC,cAAc,CAAEA,cAClB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACC,MAAM,CAAED,cAAc,CAAEoC,WAAW,CAAC,CAAC,CACzC,GAAI,CAAAI,UAAU,CAAG/C,KAAK,CAACgD,OAAO,CAAC,UAAY,CACzC,MAAO,CAAAlB,KAAK,CAACmB,GAAG,CAACL,OAAO,CAAC,CAC3B,CAAC,CAAE,CAACd,KAAK,CAAEc,OAAO,CAAC,CAAC,CAEpB;AACA,GAAI,CAAAM,IAAI,CAAGlD,KAAK,CAACgD,OAAO,CAAC,UAAY,CACnC,GAAI,CAAAG,WAAW,CAAGf,MAAM,GAAK,MAAM,CAAG,CAAC,CAAG,EAAE,CAC5C,GAAI,CAAAgB,MAAM,CAAG,MAAO,CAAAT,WAAW,GAAK,UAAU,CAAGA,WAAW,CAACpC,cAAc,CAAC8C,MAAM,CAAC,CAAC,CAAC,CAACD,MAAM,CAAGT,WAAW,CAACS,MAAM,CACjH,MAAO,CAAAE,IAAI,CAACC,GAAG,CAACJ,WAAW,CAAEC,MAAM,CAAC,CAAG,CAAC,CAC1C,CAAC,CAAE,CAACT,WAAW,CAAEP,MAAM,CAAE7B,cAAc,CAAC,CAAC,CAEzC;AACA,GAAI,CAAAiD,eAAe,CAAG,QAAS,CAAAC,cAAcA,CAACC,IAAI,CAAE,CAClD,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGtD,MAAM,CAAC+C,MAAM,CAAEO,CAAC,EAAI,CAAC,CAAE,CACzC,GAAI,CAAAC,YAAY,CAAGvD,MAAM,CAACsD,CAAC,CAAC,CAE5B;AACA,GAAI,MAAO,CAAAC,YAAY,GAAK,QAAQ,CAAE,CACpC,GAAI,CAAApB,MAAM,CAAGH,SAAS,CAACqB,IAAI,CAAEE,YAAY,CAAC,CAC1C,GAAIpB,MAAM,CAAE,CACV,MAAO,CAAAA,MAAM,CACf,CACF,CACF,CACA,MAAO,MAAK,CACd,CAAC,CAED;AACA,GAAI,CAAAqB,aAAa,CAAG,QAAS,CAAAA,aAAaA,CAACC,KAAK,CAAE,CAChD,QAAS,CAAAC,OAAOA,CAACC,SAAS,CAAE,CAC1B,MAAO,CAAAF,KAAK,GAAKG,SAAS,CAAGD,SAAS,CAACF,KAAK,CAAC,CAAGE,SAAS,CAC3D,CACA,GAAI,CAAAE,WAAW,CAAGnE,SAAS,CAACI,KAAK,CAAE,CACjCgE,IAAI,CAAE,IAAI,CACVC,IAAI,CAAE,IACR,CAAC,CAAC,CACF,GAAI,CAAAC,UAAU,CAAGxE,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,CAAEqE,WAAW,CAAC,CAAE,CAAC,CAAC,CAAE,CACjE;AACA7D,MAAM,CAAEC,UAAU,CAClBmD,cAAc,CAAE,QAAS,CAAAA,cAAcA,CAACC,IAAI,CAAE,CAC5C,MAAO,CAAC,CAACF,eAAe,CAACE,IAAI,CAAC,CAChC,CAAC,CACDjD,qBAAqB,CAAEA,qBAAqB,CAC5C6D,QAAQ,CAAE5D,aAAa,CACvBC,QAAQ,CAAEA,QAAQ,CAClB,eAAe,CAAEC,YAAY,CAC7Be,IAAI,CAAEA,IAAI,CACVC,YAAY,CAAEA,YAAY,CAC1BsB,IAAI,CAAEA,IAAI,CACV;AACArB,EAAE,CAAEkC,OAAO,CAAClC,EAAE,CAAC,CACfC,KAAK,CAAEiC,OAAO,CAAChB,UAAU,CAAC,EAAI,EAAE,CAChChB,OAAO,CAAEgC,OAAO,CAAChC,OAAO,CAAC,CACzBC,WAAW,CAAE+B,OAAO,CAAC/B,WAAW,CAAC,CACjCuC,MAAM,CAAErC,WAAW,GAAK4B,KAAK,CAC7BU,MAAM,CAAErC,OAAO,EAAIT,UAAU,EAAIQ,WAAW,GAAK4B,KAAK,CACtD7B,QAAQ,CAAE8B,OAAO,CAAC9B,QAAQ,CAAC,CAC3BlB,OAAO,CAAE,QAAS,CAAAA,OAAOA,CAAC0D,KAAK,CAAE,CAC/B3D,QAAQ,CAAC2D,KAAK,CAAEX,KAAK,CAAC,CACxB,CAAC,CACD7C,MAAM,CAAE,QAAS,CAAAA,MAAMA,CAACwD,KAAK,CAAE,CAC7B;AACA;AACAzD,OAAO,CAACyD,KAAK,CAAEX,KAAK,CAAC,CACvB,CAAC,CACDjD,QAAQ,CAAEA,QAAQ,CAClB;AACAY,QAAQ,CAAE,QAAS,CAAAA,QAAQA,CAACiC,IAAI,CAAE,CAChCxC,aAAa,CAAC,CAAC,CACf,GAAI,CAAAsB,MAAM,CAAGgB,eAAe,CAACE,IAAI,CAAC,CAClC,GAAIlB,MAAM,CAAE,CACVrB,SAAS,CAAC,KAAK,CAAE2C,KAAK,CAAC,CACvBtC,SAAS,CAACgB,MAAM,CAAEsB,KAAK,CAAC,CACxB,OACF,CAEA;AACA;AACA3C,SAAS,CAAC,CAAC,CAACuC,IAAI,CAAEI,KAAK,CAAC,CAC1B,CAAC,CACDY,MAAM,CAAE,QAAS,CAAAA,MAAMA,CAAA,CAAG,CACxBrD,YAAY,CAAC,IAAI,CAAE,CACjByC,KAAK,CAAEA,KACT,CAAC,CAAC,CACJ,CAAC,CACDvC,SAAS,CAAE,QAAS,CAAAA,SAASA,CAACkD,KAAK,CAAE,CACnC,GAAI,CAAAE,SAAS,CAAG,KAAK,CACrBrD,UAAU,GAAK,IAAI,EAAIA,UAAU,GAAK,IAAK,EAAC,EAAIA,UAAU,CAACmD,KAAK,CAAE,UAAY,CAC5E,GAAIG,OAAO,CAACC,GAAG,CAACC,QAAQ,GAAK,YAAY,CAAE,CACzChF,OAAO,CAAC,KAAK,CAAE,uFAAuF,CAAC,CACzG,CACA6E,SAAS,CAAG,IAAI,CAClB,CAAC,CAAC,CACF,GAAI,CAACF,KAAK,CAACM,gBAAgB,EAAI,CAACJ,SAAS,CAAE,CACzC,OAAQF,KAAK,CAACO,GAAG,EACf,IAAK,QAAQ,CACX3D,YAAY,CAAC,KAAK,CAAE,CAClByC,KAAK,CAAEA,KACT,CAAC,CAAC,CACF,MACF,IAAK,OAAO,CACV,GAAI,CAAC1C,IAAI,CAAE,CACTC,YAAY,CAAC,IAAI,CAAC,CACpB,CACA,MACJ,CACF,CACF,CACF,CAAC,CAAEjB,SAAS,GAAK,IAAI,EAAIA,SAAS,GAAK,IAAK,EAAC,CAAG,IAAK,EAAC,CAAGA,SAAS,CAAC,CACjE2C,UAAU,CAAEA,UACd,CAAC,CAAC,CAAC,CAEH;AACAkC,MAAM,CAACC,IAAI,CAACb,UAAU,CAAC,CAACc,OAAO,CAAC,SAAUH,GAAG,CAAE,CAC7C,GAAIX,UAAU,CAACW,GAAG,CAAC,GAAKf,SAAS,CAAE,CACjC,MAAO,CAAAI,UAAU,CAACW,GAAG,CAAC,CACxB,CACF,CAAC,CAAC,CACF,MAAO,CAAAX,UAAU,CACnB,CAAC,CACD,MAAO,CAACR,aAAa,CAAEjB,OAAO,CAAC,CACjC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}